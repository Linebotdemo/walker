var $O=Object.defineProperty;var UO=(e,t,n)=>t in e?$O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var WO=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var pg=(e,t,n)=>UO(e,typeof t!="symbol"?t+"":t,n);var W5=WO((V5,Of)=>{function ZO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _S={exports:{}},pp={},vS={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=Symbol.for("react.element"),HO=Symbol.for("react.portal"),YO=Symbol.for("react.fragment"),GO=Symbol.for("react.strict_mode"),VO=Symbol.for("react.profiler"),qO=Symbol.for("react.provider"),KO=Symbol.for("react.context"),QO=Symbol.for("react.forward_ref"),JO=Symbol.for("react.suspense"),XO=Symbol.for("react.memo"),eM=Symbol.for("react.lazy"),mx=Symbol.iterator;function tM(e){return e===null||typeof e!="object"?null:(e=mx&&e[mx]||e["@@iterator"],typeof e=="function"?e:null)}var yS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wS=Object.assign,xS={};function bu(e,t,n){this.props=e,this.context=t,this.refs=xS,this.updater=n||yS}bu.prototype.isReactComponent={};bu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function SS(){}SS.prototype=bu.prototype;function Zv(e,t,n){this.props=e,this.context=t,this.refs=xS,this.updater=n||yS}var Hv=Zv.prototype=new SS;Hv.constructor=Zv;wS(Hv,bu.prototype);Hv.isPureReactComponent=!0;var gx=Array.isArray,LS=Object.prototype.hasOwnProperty,Yv={current:null},bS={key:!0,ref:!0,__self:!0,__source:!0};function CS(e,t,n){var r,o={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)LS.call(t,r)&&!bS.hasOwnProperty(r)&&(o[r]=t[r]);var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){for(var h=Array(d),g=0;g<d;g++)h[g]=arguments[g+2];o.children=h}if(e&&e.defaultProps)for(r in d=e.defaultProps,d)o[r]===void 0&&(o[r]=d[r]);return{$$typeof:Sd,type:e,key:s,ref:l,props:o,_owner:Yv.current}}function nM(e,t){return{$$typeof:Sd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sd}function rM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _x=/\/+/g;function mg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rM(""+e.key):t.toString(36)}function lf(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Sd:case HO:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+mg(l,0):r,gx(o)?(n="",e!=null&&(n=e.replace(_x,"$&/")+"/"),lf(o,t,n,"",function(g){return g})):o!=null&&(Gv(o)&&(o=nM(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_x,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",gx(e))for(var d=0;d<e.length;d++){s=e[d];var h=r+mg(s,d);l+=lf(s,t,n,h,o)}else if(h=tM(e),typeof h=="function")for(e=h.call(e),d=0;!(s=e.next()).done;)s=s.value,h=r+mg(s,d++),l+=lf(s,t,n,h,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ah(e,t,n){if(e==null)return e;var r=[],o=0;return lf(e,r,"","",function(s){return t.call(n,s,o++)}),r}function iM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kr={current:null},uf={transition:null},sM={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:uf,ReactCurrentOwner:Yv};function kS(){throw Error("act(...) is not supported in production builds of React.")}pt.Children={map:Ah,forEach:function(e,t,n){Ah(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ah(e,function(){t++}),t},toArray:function(e){return Ah(e,function(t){return t})||[]},only:function(e){if(!Gv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pt.Component=bu;pt.Fragment=YO;pt.Profiler=VO;pt.PureComponent=Zv;pt.StrictMode=GO;pt.Suspense=JO;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sM;pt.act=kS;pt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wS({},e.props),o=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=Yv.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(h in t)LS.call(t,h)&&!bS.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&d!==void 0?d[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){d=Array(h);for(var g=0;g<h;g++)d[g]=arguments[g+2];r.children=d}return{$$typeof:Sd,type:e.type,key:o,ref:s,props:r,_owner:l}};pt.createContext=function(e){return e={$$typeof:KO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qO,_context:e},e.Consumer=e};pt.createElement=CS;pt.createFactory=function(e){var t=CS.bind(null,e);return t.type=e,t};pt.createRef=function(){return{current:null}};pt.forwardRef=function(e){return{$$typeof:QO,render:e}};pt.isValidElement=Gv;pt.lazy=function(e){return{$$typeof:eM,_payload:{_status:-1,_result:e},_init:iM}};pt.memo=function(e,t){return{$$typeof:XO,type:e,compare:t===void 0?null:t}};pt.startTransition=function(e){var t=uf.transition;uf.transition={};try{e()}finally{uf.transition=t}};pt.unstable_act=kS;pt.useCallback=function(e,t){return kr.current.useCallback(e,t)};pt.useContext=function(e){return kr.current.useContext(e)};pt.useDebugValue=function(){};pt.useDeferredValue=function(e){return kr.current.useDeferredValue(e)};pt.useEffect=function(e,t){return kr.current.useEffect(e,t)};pt.useId=function(){return kr.current.useId()};pt.useImperativeHandle=function(e,t,n){return kr.current.useImperativeHandle(e,t,n)};pt.useInsertionEffect=function(e,t){return kr.current.useInsertionEffect(e,t)};pt.useLayoutEffect=function(e,t){return kr.current.useLayoutEffect(e,t)};pt.useMemo=function(e,t){return kr.current.useMemo(e,t)};pt.useReducer=function(e,t,n){return kr.current.useReducer(e,t,n)};pt.useRef=function(e){return kr.current.useRef(e)};pt.useState=function(e){return kr.current.useState(e)};pt.useSyncExternalStore=function(e,t,n){return kr.current.useSyncExternalStore(e,t,n)};pt.useTransition=function(){return kr.current.useTransition()};pt.version="18.3.1";vS.exports=pt;var T=vS.exports;const Ee=Wv(T),mu=ZO({__proto__:null,default:Ee},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oM=T,aM=Symbol.for("react.element"),lM=Symbol.for("react.fragment"),uM=Object.prototype.hasOwnProperty,cM=oM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dM={key:!0,ref:!0,__self:!0,__source:!0};function TS(e,t,n){var r,o={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)uM.call(t,r)&&!dM.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:aM,type:e,key:s,ref:l,props:o,_owner:cM.current}}pp.Fragment=lM;pp.jsx=TS;pp.jsxs=TS;_S.exports=pp;var m=_S.exports,d_={},ES={exports:{}},ti={},PS={exports:{}},NS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,ye){var X=G.length;G.push(ye);e:for(;0<X;){var ge=X-1>>>1,De=G[ge];if(0<o(De,ye))G[ge]=ye,G[X]=De,X=ge;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ye=G[0],X=G.pop();if(X!==ye){G[0]=X;e:for(var ge=0,De=G.length,Qe=De>>>1;ge<Qe;){var Ue=2*(ge+1)-1,He=G[Ue],Se=Ue+1,vt=G[Se];if(0>o(He,X))Se<De&&0>o(vt,He)?(G[ge]=vt,G[Se]=X,ge=Se):(G[ge]=He,G[Ue]=X,ge=Ue);else if(Se<De&&0>o(vt,X))G[ge]=vt,G[Se]=X,ge=Se;else break e}}return ye}function o(G,ye){var X=G.sortIndex-ye.sortIndex;return X!==0?X:G.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var h=[],g=[],v=1,y=null,x=3,b=!1,P=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(G){for(var ye=n(g);ye!==null;){if(ye.callback===null)r(g);else if(ye.startTime<=G)r(g),ye.sortIndex=ye.expirationTime,t(h,ye);else break;ye=n(g)}}function F(G){if(C=!1,M(G),!P)if(n(h)!==null)P=!0,be($);else{var ye=n(g);ye!==null&&Ke(F,ye.startTime-G)}}function $(G,ye){P=!1,C&&(C=!1,k(ee),ee=-1),b=!0;var X=x;try{for(M(ye),y=n(h);y!==null&&(!(y.expirationTime>ye)||G&&!Re());){var ge=y.callback;if(typeof ge=="function"){y.callback=null,x=y.priorityLevel;var De=ge(y.expirationTime<=ye);ye=e.unstable_now(),typeof De=="function"?y.callback=De:y===n(h)&&r(h),M(ye)}else r(h);y=n(h)}if(y!==null)var Qe=!0;else{var Ue=n(g);Ue!==null&&Ke(F,Ue.startTime-ye),Qe=!1}return Qe}finally{y=null,x=X,b=!1}}var Q=!1,ie=null,ee=-1,Ce=5,ce=-1;function Re(){return!(e.unstable_now()-ce<Ce)}function $e(){if(ie!==null){var G=e.unstable_now();ce=G;var ye=!0;try{ye=ie(!0,G)}finally{ye?le():(Q=!1,ie=null)}}else Q=!1}var le;if(typeof O=="function")le=function(){O($e)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ze=me.port2;me.port1.onmessage=$e,le=function(){ze.postMessage(null)}}else le=function(){A($e,0)};function be(G){ie=G,Q||(Q=!0,le())}function Ke(G,ye){ee=A(function(){G(e.unstable_now())},ye)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){P||b||(P=!0,be($))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(G){switch(x){case 1:case 2:case 3:var ye=3;break;default:ye=x}var X=x;x=ye;try{return G()}finally{x=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ye){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var X=x;x=G;try{return ye()}finally{x=X}},e.unstable_scheduleCallback=function(G,ye,X){var ge=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ge+X:ge):X=ge,G){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=X+De,G={id:v++,callback:ye,priorityLevel:G,startTime:X,expirationTime:De,sortIndex:-1},X>ge?(G.sortIndex=X,t(g,G),n(h)===null&&G===n(g)&&(C?(k(ee),ee=-1):C=!0,Ke(F,X-ge))):(G.sortIndex=De,t(h,G),P||b||(P=!0,be($))),G},e.unstable_shouldYield=Re,e.unstable_wrapCallback=function(G){var ye=x;return function(){var X=x;x=ye;try{return G.apply(this,arguments)}finally{x=X}}}})(NS);PS.exports=NS;var hM=PS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fM=T,ei=hM;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OS=new Set,Qc={};function tl(e,t){gu(e,t),gu(e+"Capture",t)}function gu(e,t){for(Qc[e]=t,e=0;e<t.length;e++)OS.add(t[e])}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h_=Object.prototype.hasOwnProperty,pM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vx={},yx={};function mM(e){return h_.call(yx,e)?!0:h_.call(vx,e)?!1:pM.test(e)?yx[e]=!0:(vx[e]=!0,!1)}function gM(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _M(e,t,n,r){if(t===null||typeof t>"u"||gM(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tr(e,t,n,r,o,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nr[e]=new Tr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nr[t]=new Tr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nr[e]=new Tr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nr[e]=new Tr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nr[e]=new Tr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nr[e]=new Tr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nr[e]=new Tr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nr[e]=new Tr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nr[e]=new Tr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vv=/[\-:]([a-z])/g;function qv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vv,qv);nr[t]=new Tr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vv,qv);nr[t]=new Tr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vv,qv);nr[t]=new Tr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nr[e]=new Tr(e,1,!1,e.toLowerCase(),null,!1,!1)});nr.xlinkHref=new Tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nr[e]=new Tr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kv(e,t,n,r){var o=nr.hasOwnProperty(t)?nr[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_M(t,n,o,r)&&(n=null),r||o===null?mM(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qs=fM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jh=Symbol.for("react.element"),Wl=Symbol.for("react.portal"),Zl=Symbol.for("react.fragment"),Qv=Symbol.for("react.strict_mode"),f_=Symbol.for("react.profiler"),MS=Symbol.for("react.provider"),DS=Symbol.for("react.context"),Jv=Symbol.for("react.forward_ref"),p_=Symbol.for("react.suspense"),m_=Symbol.for("react.suspense_list"),Xv=Symbol.for("react.memo"),Co=Symbol.for("react.lazy"),AS=Symbol.for("react.offscreen"),wx=Symbol.iterator;function gc(e){return e===null||typeof e!="object"?null:(e=wx&&e[wx]||e["@@iterator"],typeof e=="function"?e:null)}var vn=Object.assign,gg;function Nc(e){if(gg===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gg=t&&t[1]||""}return`
`+gg+e}var _g=!1;function vg(e,t){if(!e||_g)return"";_g=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var o=g.stack.split(`
`),s=r.stack.split(`
`),l=o.length-1,d=s.length-1;1<=l&&0<=d&&o[l]!==s[d];)d--;for(;1<=l&&0<=d;l--,d--)if(o[l]!==s[d]){if(l!==1||d!==1)do if(l--,d--,0>d||o[l]!==s[d]){var h=`
`+o[l].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=l&&0<=d);break}}}finally{_g=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nc(e):""}function vM(e){switch(e.tag){case 5:return Nc(e.type);case 16:return Nc("Lazy");case 13:return Nc("Suspense");case 19:return Nc("SuspenseList");case 0:case 2:case 15:return e=vg(e.type,!1),e;case 11:return e=vg(e.type.render,!1),e;case 1:return e=vg(e.type,!0),e;default:return""}}function g_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zl:return"Fragment";case Wl:return"Portal";case f_:return"Profiler";case Qv:return"StrictMode";case p_:return"Suspense";case m_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case DS:return(e.displayName||"Context")+".Consumer";case MS:return(e._context.displayName||"Context")+".Provider";case Jv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xv:return t=e.displayName||null,t!==null?t:g_(e.type)||"Memo";case Co:t=e._payload,e=e._init;try{return g_(e(t))}catch{}}return null}function yM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g_(t);case 8:return t===Qv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Go(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wM(e){var t=jS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ih(e){e._valueTracker||(e._valueTracker=wM(e))}function IS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Mf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function __(e,t){var n=t.checked;return vn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Go(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function RS(e,t){t=t.checked,t!=null&&Kv(e,"checked",t,!1)}function v_(e,t){RS(e,t);var n=Go(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?y_(e,t.type,n):t.hasOwnProperty("defaultValue")&&y_(e,t.type,Go(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function y_(e,t,n){(t!=="number"||Mf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Oc=Array.isArray;function iu(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Go(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function w_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return vn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(Oc(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Go(n)}}function FS(e,t){var n=Go(t.value),r=Go(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function BS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function x_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?BS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rh,zS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rh=Rh||document.createElement("div"),Rh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xM=["Webkit","ms","Moz","O"];Object.keys(Bc).forEach(function(e){xM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bc[t]=Bc[e]})});function $S(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bc.hasOwnProperty(e)&&Bc[e]?(""+t).trim():t+"px"}function US(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=$S(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var SM=vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S_(e,t){if(t){if(SM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function L_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b_=null;function ey(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var C_=null,su=null,ou=null;function Cx(e){if(e=Cd(e)){if(typeof C_!="function")throw Error(he(280));var t=e.stateNode;t&&(t=yp(t),C_(e.stateNode,e.type,t))}}function WS(e){su?ou?ou.push(e):ou=[e]:su=e}function ZS(){if(su){var e=su,t=ou;if(ou=su=null,Cx(e),t)for(e=0;e<t.length;e++)Cx(t[e])}}function HS(e,t){return e(t)}function YS(){}var yg=!1;function GS(e,t,n){if(yg)return e(t,n);yg=!0;try{return HS(e,t,n)}finally{yg=!1,(su!==null||ou!==null)&&(YS(),ZS())}}function Xc(e,t){var n=e.stateNode;if(n===null)return null;var r=yp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var k_=!1;if(Hs)try{var _c={};Object.defineProperty(_c,"passive",{get:function(){k_=!0}}),window.addEventListener("test",_c,_c),window.removeEventListener("test",_c,_c)}catch{k_=!1}function LM(e,t,n,r,o,s,l,d,h){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(v){this.onError(v)}}var zc=!1,Df=null,Af=!1,T_=null,bM={onError:function(e){zc=!0,Df=e}};function CM(e,t,n,r,o,s,l,d,h){zc=!1,Df=null,LM.apply(bM,arguments)}function kM(e,t,n,r,o,s,l,d,h){if(CM.apply(this,arguments),zc){if(zc){var g=Df;zc=!1,Df=null}else throw Error(he(198));Af||(Af=!0,T_=g)}}function nl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function VS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kx(e){if(nl(e)!==e)throw Error(he(188))}function TM(e){var t=e.alternate;if(!t){if(t=nl(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return kx(o),e;if(s===r)return kx(o),t;s=s.sibling}throw Error(he(188))}if(n.return!==r.return)n=o,r=s;else{for(var l=!1,d=o.child;d;){if(d===n){l=!0,n=o,r=s;break}if(d===r){l=!0,r=o,n=s;break}d=d.sibling}if(!l){for(d=s.child;d;){if(d===n){l=!0,n=s,r=o;break}if(d===r){l=!0,r=s,n=o;break}d=d.sibling}if(!l)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function qS(e){return e=TM(e),e!==null?KS(e):null}function KS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KS(e);if(t!==null)return t;e=e.sibling}return null}var QS=ei.unstable_scheduleCallback,Tx=ei.unstable_cancelCallback,EM=ei.unstable_shouldYield,PM=ei.unstable_requestPaint,On=ei.unstable_now,NM=ei.unstable_getCurrentPriorityLevel,ty=ei.unstable_ImmediatePriority,JS=ei.unstable_UserBlockingPriority,jf=ei.unstable_NormalPriority,OM=ei.unstable_LowPriority,XS=ei.unstable_IdlePriority,mp=null,us=null;function MM(e){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(mp,e,void 0,(e.current.flags&128)===128)}catch{}}var Ui=Math.clz32?Math.clz32:jM,DM=Math.log,AM=Math.LN2;function jM(e){return e>>>=0,e===0?32:31-(DM(e)/AM|0)|0}var Fh=64,Bh=4194304;function Mc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function If(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var d=l&~o;d!==0?r=Mc(d):(s&=l,s!==0&&(r=Mc(s)))}else l=n&~o,l!==0?r=Mc(l):s!==0&&(r=Mc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ui(t),o=1<<n,r|=e[n],t&=~o;return r}function IM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Ui(s),d=1<<l,h=o[l];h===-1?(!(d&n)||d&r)&&(o[l]=IM(d,t)):h<=t&&(e.expiredLanes|=d),s&=~d}}function E_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eL(){var e=Fh;return Fh<<=1,!(Fh&4194240)&&(Fh=64),e}function wg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ld(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ui(t),e[t]=n}function FM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ui(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function ny(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ui(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Bt=0;function tL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nL,ry,rL,iL,sL,P_=!1,zh=[],Ro=null,Fo=null,Bo=null,ed=new Map,td=new Map,To=[],BM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ex(e,t){switch(e){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":ed.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":td.delete(t.pointerId)}}function vc(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Cd(t),t!==null&&ry(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function zM(e,t,n,r,o){switch(t){case"focusin":return Ro=vc(Ro,e,t,n,r,o),!0;case"dragenter":return Fo=vc(Fo,e,t,n,r,o),!0;case"mouseover":return Bo=vc(Bo,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return ed.set(s,vc(ed.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,td.set(s,vc(td.get(s)||null,e,t,n,r,o)),!0}return!1}function oL(e){var t=Ra(e.target);if(t!==null){var n=nl(t);if(n!==null){if(t=n.tag,t===13){if(t=VS(n),t!==null){e.blockedOn=t,sL(e.priority,function(){rL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=N_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);b_=r,n.target.dispatchEvent(r),b_=null}else return t=Cd(n),t!==null&&ry(t),e.blockedOn=n,!1;t.shift()}return!0}function Px(e,t,n){cf(e)&&n.delete(t)}function $M(){P_=!1,Ro!==null&&cf(Ro)&&(Ro=null),Fo!==null&&cf(Fo)&&(Fo=null),Bo!==null&&cf(Bo)&&(Bo=null),ed.forEach(Px),td.forEach(Px)}function yc(e,t){e.blockedOn===t&&(e.blockedOn=null,P_||(P_=!0,ei.unstable_scheduleCallback(ei.unstable_NormalPriority,$M)))}function nd(e){function t(o){return yc(o,e)}if(0<zh.length){yc(zh[0],e);for(var n=1;n<zh.length;n++){var r=zh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ro!==null&&yc(Ro,e),Fo!==null&&yc(Fo,e),Bo!==null&&yc(Bo,e),ed.forEach(t),td.forEach(t),n=0;n<To.length;n++)r=To[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<To.length&&(n=To[0],n.blockedOn===null);)oL(n),n.blockedOn===null&&To.shift()}var au=Qs.ReactCurrentBatchConfig,Rf=!0;function UM(e,t,n,r){var o=Bt,s=au.transition;au.transition=null;try{Bt=1,iy(e,t,n,r)}finally{Bt=o,au.transition=s}}function WM(e,t,n,r){var o=Bt,s=au.transition;au.transition=null;try{Bt=4,iy(e,t,n,r)}finally{Bt=o,au.transition=s}}function iy(e,t,n,r){if(Rf){var o=N_(e,t,n,r);if(o===null)Ng(e,t,r,Ff,n),Ex(e,r);else if(zM(o,e,t,n,r))r.stopPropagation();else if(Ex(e,r),t&4&&-1<BM.indexOf(e)){for(;o!==null;){var s=Cd(o);if(s!==null&&nL(s),s=N_(e,t,n,r),s===null&&Ng(e,t,r,Ff,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Ng(e,t,r,null,n)}}var Ff=null;function N_(e,t,n,r){if(Ff=null,e=ey(r),e=Ra(e),e!==null)if(t=nl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=VS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ff=e,null}function aL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NM()){case ty:return 1;case JS:return 4;case jf:case OM:return 16;case XS:return 536870912;default:return 16}default:return 16}}var No=null,sy=null,df=null;function lL(){if(df)return df;var e,t=sy,n=t.length,r,o="value"in No?No.value:No.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[s-r];r++);return df=o.slice(e,1<r?1-r:void 0)}function hf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $h(){return!0}function Nx(){return!1}function ni(e){function t(n,r,o,s,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(s):s[d]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$h:Nx,this.isPropagationStopped=Nx,this}return vn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$h)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$h)},persist:function(){},isPersistent:$h}),t}var Cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oy=ni(Cu),bd=vn({},Cu,{view:0,detail:0}),ZM=ni(bd),xg,Sg,wc,gp=vn({},bd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ay,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wc&&(wc&&e.type==="mousemove"?(xg=e.screenX-wc.screenX,Sg=e.screenY-wc.screenY):Sg=xg=0,wc=e),xg)},movementY:function(e){return"movementY"in e?e.movementY:Sg}}),Ox=ni(gp),HM=vn({},gp,{dataTransfer:0}),YM=ni(HM),GM=vn({},bd,{relatedTarget:0}),Lg=ni(GM),VM=vn({},Cu,{animationName:0,elapsedTime:0,pseudoElement:0}),qM=ni(VM),KM=vn({},Cu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QM=ni(KM),JM=vn({},Cu,{data:0}),Mx=ni(JM),XM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tD[e])?!!t[e]:!1}function ay(){return nD}var rD=vn({},bd,{key:function(e){if(e.key){var t=XM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ay,charCode:function(e){return e.type==="keypress"?hf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iD=ni(rD),sD=vn({},gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dx=ni(sD),oD=vn({},bd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ay}),aD=ni(oD),lD=vn({},Cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),uD=ni(lD),cD=vn({},gp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dD=ni(cD),hD=[9,13,27,32],ly=Hs&&"CompositionEvent"in window,$c=null;Hs&&"documentMode"in document&&($c=document.documentMode);var fD=Hs&&"TextEvent"in window&&!$c,uL=Hs&&(!ly||$c&&8<$c&&11>=$c),Ax=" ",jx=!1;function cL(e,t){switch(e){case"keyup":return hD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hl=!1;function pD(e,t){switch(e){case"compositionend":return dL(t);case"keypress":return t.which!==32?null:(jx=!0,Ax);case"textInput":return e=t.data,e===Ax&&jx?null:e;default:return null}}function mD(e,t){if(Hl)return e==="compositionend"||!ly&&cL(e,t)?(e=lL(),df=sy=No=null,Hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uL&&t.locale!=="ko"?null:t.data;default:return null}}var gD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ix(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gD[e.type]:t==="textarea"}function hL(e,t,n,r){WS(r),t=Bf(t,"onChange"),0<t.length&&(n=new oy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Uc=null,rd=null;function _D(e){LL(e,0)}function _p(e){var t=Vl(e);if(IS(t))return e}function vD(e,t){if(e==="change")return t}var fL=!1;if(Hs){var bg;if(Hs){var Cg="oninput"in document;if(!Cg){var Rx=document.createElement("div");Rx.setAttribute("oninput","return;"),Cg=typeof Rx.oninput=="function"}bg=Cg}else bg=!1;fL=bg&&(!document.documentMode||9<document.documentMode)}function Fx(){Uc&&(Uc.detachEvent("onpropertychange",pL),rd=Uc=null)}function pL(e){if(e.propertyName==="value"&&_p(rd)){var t=[];hL(t,rd,e,ey(e)),GS(_D,t)}}function yD(e,t,n){e==="focusin"?(Fx(),Uc=t,rd=n,Uc.attachEvent("onpropertychange",pL)):e==="focusout"&&Fx()}function wD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _p(rd)}function xD(e,t){if(e==="click")return _p(t)}function SD(e,t){if(e==="input"||e==="change")return _p(t)}function LD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zi=typeof Object.is=="function"?Object.is:LD;function id(e,t){if(Zi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!h_.call(t,o)||!Zi(e[o],t[o]))return!1}return!0}function Bx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zx(e,t){var n=Bx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bx(n)}}function mL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gL(){for(var e=window,t=Mf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mf(e.document)}return t}function uy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bD(e){var t=gL(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mL(n.ownerDocument.documentElement,n)){if(r!==null&&uy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=zx(n,s);var l=zx(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CD=Hs&&"documentMode"in document&&11>=document.documentMode,Yl=null,O_=null,Wc=null,M_=!1;function $x(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;M_||Yl==null||Yl!==Mf(r)||(r=Yl,"selectionStart"in r&&uy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wc&&id(Wc,r)||(Wc=r,r=Bf(O_,"onSelect"),0<r.length&&(t=new oy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yl)))}function Uh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gl={animationend:Uh("Animation","AnimationEnd"),animationiteration:Uh("Animation","AnimationIteration"),animationstart:Uh("Animation","AnimationStart"),transitionend:Uh("Transition","TransitionEnd")},kg={},_L={};Hs&&(_L=document.createElement("div").style,"AnimationEvent"in window||(delete Gl.animationend.animation,delete Gl.animationiteration.animation,delete Gl.animationstart.animation),"TransitionEvent"in window||delete Gl.transitionend.transition);function vp(e){if(kg[e])return kg[e];if(!Gl[e])return e;var t=Gl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _L)return kg[e]=t[n];return e}var vL=vp("animationend"),yL=vp("animationiteration"),wL=vp("animationstart"),xL=vp("transitionend"),SL=new Map,Ux="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(e,t){SL.set(e,t),tl(t,[e])}for(var Tg=0;Tg<Ux.length;Tg++){var Eg=Ux[Tg],kD=Eg.toLowerCase(),TD=Eg[0].toUpperCase()+Eg.slice(1);qo(kD,"on"+TD)}qo(vL,"onAnimationEnd");qo(yL,"onAnimationIteration");qo(wL,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(xL,"onTransitionEnd");gu("onMouseEnter",["mouseout","mouseover"]);gu("onMouseLeave",["mouseout","mouseover"]);gu("onPointerEnter",["pointerout","pointerover"]);gu("onPointerLeave",["pointerout","pointerover"]);tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ED=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dc));function Wx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kM(r,t,void 0,e),e.currentTarget=null}function LL(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var d=r[l],h=d.instance,g=d.currentTarget;if(d=d.listener,h!==s&&o.isPropagationStopped())break e;Wx(o,d,g),s=h}else for(l=0;l<r.length;l++){if(d=r[l],h=d.instance,g=d.currentTarget,d=d.listener,h!==s&&o.isPropagationStopped())break e;Wx(o,d,g),s=h}}}if(Af)throw e=T_,Af=!1,T_=null,e}function tn(e,t){var n=t[R_];n===void 0&&(n=t[R_]=new Set);var r=e+"__bubble";n.has(r)||(bL(t,e,2,!1),n.add(r))}function Pg(e,t,n){var r=0;t&&(r|=4),bL(n,e,r,t)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[Wh]){e[Wh]=!0,OS.forEach(function(n){n!=="selectionchange"&&(ED.has(n)||Pg(n,!1,e),Pg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wh]||(t[Wh]=!0,Pg("selectionchange",!1,t))}}function bL(e,t,n,r){switch(aL(t)){case 1:var o=UM;break;case 4:o=WM;break;default:o=iy}n=o.bind(null,t,n,e),o=void 0,!k_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ng(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var d=r.stateNode.containerInfo;if(d===o||d.nodeType===8&&d.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;l=l.return}for(;d!==null;){if(l=Ra(d),l===null)return;if(h=l.tag,h===5||h===6){r=s=l;continue e}d=d.parentNode}}r=r.return}GS(function(){var g=s,v=ey(n),y=[];e:{var x=SL.get(e);if(x!==void 0){var b=oy,P=e;switch(e){case"keypress":if(hf(n)===0)break e;case"keydown":case"keyup":b=iD;break;case"focusin":P="focus",b=Lg;break;case"focusout":P="blur",b=Lg;break;case"beforeblur":case"afterblur":b=Lg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Ox;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=YM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=aD;break;case vL:case yL:case wL:b=qM;break;case xL:b=uD;break;case"scroll":b=ZM;break;case"wheel":b=dD;break;case"copy":case"cut":case"paste":b=QM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Dx}var C=(t&4)!==0,A=!C&&e==="scroll",k=C?x!==null?x+"Capture":null:x;C=[];for(var O=g,M;O!==null;){M=O;var F=M.stateNode;if(M.tag===5&&F!==null&&(M=F,k!==null&&(F=Xc(O,k),F!=null&&C.push(od(O,F,M)))),A)break;O=O.return}0<C.length&&(x=new b(x,P,null,n,v),y.push({event:x,listeners:C}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",x&&n!==b_&&(P=n.relatedTarget||n.fromElement)&&(Ra(P)||P[Ys]))break e;if((b||x)&&(x=v.window===v?v:(x=v.ownerDocument)?x.defaultView||x.parentWindow:window,b?(P=n.relatedTarget||n.toElement,b=g,P=P?Ra(P):null,P!==null&&(A=nl(P),P!==A||P.tag!==5&&P.tag!==6)&&(P=null)):(b=null,P=g),b!==P)){if(C=Ox,F="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(C=Dx,F="onPointerLeave",k="onPointerEnter",O="pointer"),A=b==null?x:Vl(b),M=P==null?x:Vl(P),x=new C(F,O+"leave",b,n,v),x.target=A,x.relatedTarget=M,F=null,Ra(v)===g&&(C=new C(k,O+"enter",P,n,v),C.target=M,C.relatedTarget=A,F=C),A=F,b&&P)t:{for(C=b,k=P,O=0,M=C;M;M=Fl(M))O++;for(M=0,F=k;F;F=Fl(F))M++;for(;0<O-M;)C=Fl(C),O--;for(;0<M-O;)k=Fl(k),M--;for(;O--;){if(C===k||k!==null&&C===k.alternate)break t;C=Fl(C),k=Fl(k)}C=null}else C=null;b!==null&&Zx(y,x,b,C,!1),P!==null&&A!==null&&Zx(y,A,P,C,!0)}}e:{if(x=g?Vl(g):window,b=x.nodeName&&x.nodeName.toLowerCase(),b==="select"||b==="input"&&x.type==="file")var $=vD;else if(Ix(x))if(fL)$=SD;else{$=wD;var Q=yD}else(b=x.nodeName)&&b.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&($=xD);if($&&($=$(e,g))){hL(y,$,n,v);break e}Q&&Q(e,x,g),e==="focusout"&&(Q=x._wrapperState)&&Q.controlled&&x.type==="number"&&y_(x,"number",x.value)}switch(Q=g?Vl(g):window,e){case"focusin":(Ix(Q)||Q.contentEditable==="true")&&(Yl=Q,O_=g,Wc=null);break;case"focusout":Wc=O_=Yl=null;break;case"mousedown":M_=!0;break;case"contextmenu":case"mouseup":case"dragend":M_=!1,$x(y,n,v);break;case"selectionchange":if(CD)break;case"keydown":case"keyup":$x(y,n,v)}var ie;if(ly)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else Hl?cL(e,n)&&(ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ee="onCompositionStart");ee&&(uL&&n.locale!=="ko"&&(Hl||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Hl&&(ie=lL()):(No=v,sy="value"in No?No.value:No.textContent,Hl=!0)),Q=Bf(g,ee),0<Q.length&&(ee=new Mx(ee,e,null,n,v),y.push({event:ee,listeners:Q}),ie?ee.data=ie:(ie=dL(n),ie!==null&&(ee.data=ie)))),(ie=fD?pD(e,n):mD(e,n))&&(g=Bf(g,"onBeforeInput"),0<g.length&&(v=new Mx("onBeforeInput","beforeinput",null,n,v),y.push({event:v,listeners:g}),v.data=ie))}LL(y,t)})}function od(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bf(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Xc(e,n),s!=null&&r.unshift(od(e,s,o)),s=Xc(e,t),s!=null&&r.push(od(e,s,o))),e=e.return}return r}function Fl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zx(e,t,n,r,o){for(var s=t._reactName,l=[];n!==null&&n!==r;){var d=n,h=d.alternate,g=d.stateNode;if(h!==null&&h===r)break;d.tag===5&&g!==null&&(d=g,o?(h=Xc(n,s),h!=null&&l.unshift(od(n,h,d))):o||(h=Xc(n,s),h!=null&&l.push(od(n,h,d)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var PD=/\r\n?/g,ND=/\u0000|\uFFFD/g;function Hx(e){return(typeof e=="string"?e:""+e).replace(PD,`
`).replace(ND,"")}function Zh(e,t,n){if(t=Hx(t),Hx(e)!==t&&n)throw Error(he(425))}function zf(){}var D_=null,A_=null;function j_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var I_=typeof setTimeout=="function"?setTimeout:void 0,OD=typeof clearTimeout=="function"?clearTimeout:void 0,Yx=typeof Promise=="function"?Promise:void 0,MD=typeof queueMicrotask=="function"?queueMicrotask:typeof Yx<"u"?function(e){return Yx.resolve(null).then(e).catch(DD)}:I_;function DD(e){setTimeout(function(){throw e})}function Og(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),nd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);nd(t)}function zo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ku=Math.random().toString(36).slice(2),as="__reactFiber$"+ku,ad="__reactProps$"+ku,Ys="__reactContainer$"+ku,R_="__reactEvents$"+ku,AD="__reactListeners$"+ku,jD="__reactHandles$"+ku;function Ra(e){var t=e[as];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ys]||n[as]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gx(e);e!==null;){if(n=e[as])return n;e=Gx(e)}return t}e=n,n=e.parentNode}return null}function Cd(e){return e=e[as]||e[Ys],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function yp(e){return e[ad]||null}var F_=[],ql=-1;function Ko(e){return{current:e}}function nn(e){0>ql||(e.current=F_[ql],F_[ql]=null,ql--)}function Qt(e,t){ql++,F_[ql]=e.current,e.current=t}var Vo={},hr=Ko(Vo),Br=Ko(!1),Va=Vo;function _u(e,t){var n=e.type.contextTypes;if(!n)return Vo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function zr(e){return e=e.childContextTypes,e!=null}function $f(){nn(Br),nn(hr)}function Vx(e,t,n){if(hr.current!==Vo)throw Error(he(168));Qt(hr,t),Qt(Br,n)}function CL(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(he(108,yM(e)||"Unknown",o));return vn({},n,r)}function Uf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vo,Va=hr.current,Qt(hr,e),Qt(Br,Br.current),!0}function qx(e,t,n){var r=e.stateNode;if(!r)throw Error(he(169));n?(e=CL(e,t,Va),r.__reactInternalMemoizedMergedChildContext=e,nn(Br),nn(hr),Qt(hr,e)):nn(Br),Qt(Br,n)}var js=null,wp=!1,Mg=!1;function kL(e){js===null?js=[e]:js.push(e)}function ID(e){wp=!0,kL(e)}function Qo(){if(!Mg&&js!==null){Mg=!0;var e=0,t=Bt;try{var n=js;for(Bt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}js=null,wp=!1}catch(o){throw js!==null&&(js=js.slice(e+1)),QS(ty,Qo),o}finally{Bt=t,Mg=!1}}return null}var Kl=[],Ql=0,Wf=null,Zf=0,mi=[],gi=0,qa=null,Is=1,Rs="";function Ma(e,t){Kl[Ql++]=Zf,Kl[Ql++]=Wf,Wf=e,Zf=t}function TL(e,t,n){mi[gi++]=Is,mi[gi++]=Rs,mi[gi++]=qa,qa=e;var r=Is;e=Rs;var o=32-Ui(r)-1;r&=~(1<<o),n+=1;var s=32-Ui(t)+o;if(30<s){var l=o-o%5;s=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Is=1<<32-Ui(t)+o|n<<o|r,Rs=s+e}else Is=1<<s|n<<o|r,Rs=e}function cy(e){e.return!==null&&(Ma(e,1),TL(e,1,0))}function dy(e){for(;e===Wf;)Wf=Kl[--Ql],Kl[Ql]=null,Zf=Kl[--Ql],Kl[Ql]=null;for(;e===qa;)qa=mi[--gi],mi[gi]=null,Rs=mi[--gi],mi[gi]=null,Is=mi[--gi],mi[gi]=null}var Xr=null,Jr=null,dn=!1,zi=null;function EL(e,t){var n=yi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xr=e,Jr=zo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xr=e,Jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qa!==null?{id:Is,overflow:Rs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xr=e,Jr=null,!0):!1;default:return!1}}function B_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function z_(e){if(dn){var t=Jr;if(t){var n=t;if(!Kx(e,t)){if(B_(e))throw Error(he(418));t=zo(n.nextSibling);var r=Xr;t&&Kx(e,t)?EL(r,n):(e.flags=e.flags&-4097|2,dn=!1,Xr=e)}}else{if(B_(e))throw Error(he(418));e.flags=e.flags&-4097|2,dn=!1,Xr=e}}}function Qx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xr=e}function Hh(e){if(e!==Xr)return!1;if(!dn)return Qx(e),dn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!j_(e.type,e.memoizedProps)),t&&(t=Jr)){if(B_(e))throw PL(),Error(he(418));for(;t;)EL(e,t),t=zo(t.nextSibling)}if(Qx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jr=zo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jr=null}}else Jr=Xr?zo(e.stateNode.nextSibling):null;return!0}function PL(){for(var e=Jr;e;)e=zo(e.nextSibling)}function vu(){Jr=Xr=null,dn=!1}function hy(e){zi===null?zi=[e]:zi.push(e)}var RD=Qs.ReactCurrentBatchConfig;function xc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var d=o.refs;l===null?delete d[s]:d[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function Yh(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jx(e){var t=e._init;return t(e._payload)}function NL(e){function t(k,O){if(e){var M=k.deletions;M===null?(k.deletions=[O],k.flags|=16):M.push(O)}}function n(k,O){if(!e)return null;for(;O!==null;)t(k,O),O=O.sibling;return null}function r(k,O){for(k=new Map;O!==null;)O.key!==null?k.set(O.key,O):k.set(O.index,O),O=O.sibling;return k}function o(k,O){return k=Zo(k,O),k.index=0,k.sibling=null,k}function s(k,O,M){return k.index=M,e?(M=k.alternate,M!==null?(M=M.index,M<O?(k.flags|=2,O):M):(k.flags|=2,O)):(k.flags|=1048576,O)}function l(k){return e&&k.alternate===null&&(k.flags|=2),k}function d(k,O,M,F){return O===null||O.tag!==6?(O=Bg(M,k.mode,F),O.return=k,O):(O=o(O,M),O.return=k,O)}function h(k,O,M,F){var $=M.type;return $===Zl?v(k,O,M.props.children,F,M.key):O!==null&&(O.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Co&&Jx($)===O.type)?(F=o(O,M.props),F.ref=xc(k,O,M),F.return=k,F):(F=yf(M.type,M.key,M.props,null,k.mode,F),F.ref=xc(k,O,M),F.return=k,F)}function g(k,O,M,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==M.containerInfo||O.stateNode.implementation!==M.implementation?(O=zg(M,k.mode,F),O.return=k,O):(O=o(O,M.children||[]),O.return=k,O)}function v(k,O,M,F,$){return O===null||O.tag!==7?(O=Wa(M,k.mode,F,$),O.return=k,O):(O=o(O,M),O.return=k,O)}function y(k,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Bg(""+O,k.mode,M),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case jh:return M=yf(O.type,O.key,O.props,null,k.mode,M),M.ref=xc(k,null,O),M.return=k,M;case Wl:return O=zg(O,k.mode,M),O.return=k,O;case Co:var F=O._init;return y(k,F(O._payload),M)}if(Oc(O)||gc(O))return O=Wa(O,k.mode,M,null),O.return=k,O;Yh(k,O)}return null}function x(k,O,M,F){var $=O!==null?O.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return $!==null?null:d(k,O,""+M,F);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case jh:return M.key===$?h(k,O,M,F):null;case Wl:return M.key===$?g(k,O,M,F):null;case Co:return $=M._init,x(k,O,$(M._payload),F)}if(Oc(M)||gc(M))return $!==null?null:v(k,O,M,F,null);Yh(k,M)}return null}function b(k,O,M,F,$){if(typeof F=="string"&&F!==""||typeof F=="number")return k=k.get(M)||null,d(O,k,""+F,$);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case jh:return k=k.get(F.key===null?M:F.key)||null,h(O,k,F,$);case Wl:return k=k.get(F.key===null?M:F.key)||null,g(O,k,F,$);case Co:var Q=F._init;return b(k,O,M,Q(F._payload),$)}if(Oc(F)||gc(F))return k=k.get(M)||null,v(O,k,F,$,null);Yh(O,F)}return null}function P(k,O,M,F){for(var $=null,Q=null,ie=O,ee=O=0,Ce=null;ie!==null&&ee<M.length;ee++){ie.index>ee?(Ce=ie,ie=null):Ce=ie.sibling;var ce=x(k,ie,M[ee],F);if(ce===null){ie===null&&(ie=Ce);break}e&&ie&&ce.alternate===null&&t(k,ie),O=s(ce,O,ee),Q===null?$=ce:Q.sibling=ce,Q=ce,ie=Ce}if(ee===M.length)return n(k,ie),dn&&Ma(k,ee),$;if(ie===null){for(;ee<M.length;ee++)ie=y(k,M[ee],F),ie!==null&&(O=s(ie,O,ee),Q===null?$=ie:Q.sibling=ie,Q=ie);return dn&&Ma(k,ee),$}for(ie=r(k,ie);ee<M.length;ee++)Ce=b(ie,k,ee,M[ee],F),Ce!==null&&(e&&Ce.alternate!==null&&ie.delete(Ce.key===null?ee:Ce.key),O=s(Ce,O,ee),Q===null?$=Ce:Q.sibling=Ce,Q=Ce);return e&&ie.forEach(function(Re){return t(k,Re)}),dn&&Ma(k,ee),$}function C(k,O,M,F){var $=gc(M);if(typeof $!="function")throw Error(he(150));if(M=$.call(M),M==null)throw Error(he(151));for(var Q=$=null,ie=O,ee=O=0,Ce=null,ce=M.next();ie!==null&&!ce.done;ee++,ce=M.next()){ie.index>ee?(Ce=ie,ie=null):Ce=ie.sibling;var Re=x(k,ie,ce.value,F);if(Re===null){ie===null&&(ie=Ce);break}e&&ie&&Re.alternate===null&&t(k,ie),O=s(Re,O,ee),Q===null?$=Re:Q.sibling=Re,Q=Re,ie=Ce}if(ce.done)return n(k,ie),dn&&Ma(k,ee),$;if(ie===null){for(;!ce.done;ee++,ce=M.next())ce=y(k,ce.value,F),ce!==null&&(O=s(ce,O,ee),Q===null?$=ce:Q.sibling=ce,Q=ce);return dn&&Ma(k,ee),$}for(ie=r(k,ie);!ce.done;ee++,ce=M.next())ce=b(ie,k,ee,ce.value,F),ce!==null&&(e&&ce.alternate!==null&&ie.delete(ce.key===null?ee:ce.key),O=s(ce,O,ee),Q===null?$=ce:Q.sibling=ce,Q=ce);return e&&ie.forEach(function($e){return t(k,$e)}),dn&&Ma(k,ee),$}function A(k,O,M,F){if(typeof M=="object"&&M!==null&&M.type===Zl&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case jh:e:{for(var $=M.key,Q=O;Q!==null;){if(Q.key===$){if($=M.type,$===Zl){if(Q.tag===7){n(k,Q.sibling),O=o(Q,M.props.children),O.return=k,k=O;break e}}else if(Q.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Co&&Jx($)===Q.type){n(k,Q.sibling),O=o(Q,M.props),O.ref=xc(k,Q,M),O.return=k,k=O;break e}n(k,Q);break}else t(k,Q);Q=Q.sibling}M.type===Zl?(O=Wa(M.props.children,k.mode,F,M.key),O.return=k,k=O):(F=yf(M.type,M.key,M.props,null,k.mode,F),F.ref=xc(k,O,M),F.return=k,k=F)}return l(k);case Wl:e:{for(Q=M.key;O!==null;){if(O.key===Q)if(O.tag===4&&O.stateNode.containerInfo===M.containerInfo&&O.stateNode.implementation===M.implementation){n(k,O.sibling),O=o(O,M.children||[]),O.return=k,k=O;break e}else{n(k,O);break}else t(k,O);O=O.sibling}O=zg(M,k.mode,F),O.return=k,k=O}return l(k);case Co:return Q=M._init,A(k,O,Q(M._payload),F)}if(Oc(M))return P(k,O,M,F);if(gc(M))return C(k,O,M,F);Yh(k,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,O!==null&&O.tag===6?(n(k,O.sibling),O=o(O,M),O.return=k,k=O):(n(k,O),O=Bg(M,k.mode,F),O.return=k,k=O),l(k)):n(k,O)}return A}var yu=NL(!0),OL=NL(!1),Hf=Ko(null),Yf=null,Jl=null,fy=null;function py(){fy=Jl=Yf=null}function my(e){var t=Hf.current;nn(Hf),e._currentValue=t}function $_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lu(e,t){Yf=e,fy=Jl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rr=!0),e.firstContext=null)}function xi(e){var t=e._currentValue;if(fy!==e)if(e={context:e,memoizedValue:t,next:null},Jl===null){if(Yf===null)throw Error(he(308));Jl=e,Yf.dependencies={lanes:0,firstContext:e}}else Jl=Jl.next=e;return t}var Fa=null;function gy(e){Fa===null?Fa=[e]:Fa.push(e)}function ML(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,gy(t)):(n.next=o.next,o.next=n),t.interleaved=n,Gs(e,r)}function Gs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ko=!1;function _y(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $o(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ot&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Gs(e,n)}return o=r.interleaved,o===null?(t.next=t,gy(r)):(t.next=o.next,o.next=t),r.interleaved=t,Gs(e,n)}function ff(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ny(e,n)}}function Xx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gf(e,t,n,r){var o=e.updateQueue;ko=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,d=o.shared.pending;if(d!==null){o.shared.pending=null;var h=d,g=h.next;h.next=null,l===null?s=g:l.next=g,l=h;var v=e.alternate;v!==null&&(v=v.updateQueue,d=v.lastBaseUpdate,d!==l&&(d===null?v.firstBaseUpdate=g:d.next=g,v.lastBaseUpdate=h))}if(s!==null){var y=o.baseState;l=0,v=g=h=null,d=s;do{var x=d.lane,b=d.eventTime;if((r&x)===x){v!==null&&(v=v.next={eventTime:b,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var P=e,C=d;switch(x=t,b=n,C.tag){case 1:if(P=C.payload,typeof P=="function"){y=P.call(b,y,x);break e}y=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=C.payload,x=typeof P=="function"?P.call(b,y,x):P,x==null)break e;y=vn({},y,x);break e;case 2:ko=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,x=o.effects,x===null?o.effects=[d]:x.push(d))}else b={eventTime:b,lane:x,tag:d.tag,payload:d.payload,callback:d.callback,next:null},v===null?(g=v=b,h=y):v=v.next=b,l|=x;if(d=d.next,d===null){if(d=o.shared.pending,d===null)break;x=d,d=x.next,x.next=null,o.lastBaseUpdate=x,o.shared.pending=null}}while(!0);if(v===null&&(h=y),o.baseState=h,o.firstBaseUpdate=g,o.lastBaseUpdate=v,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Qa|=l,e.lanes=l,e.memoizedState=y}}function e1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(he(191,o));o.call(r)}}}var kd={},cs=Ko(kd),ld=Ko(kd),ud=Ko(kd);function Ba(e){if(e===kd)throw Error(he(174));return e}function vy(e,t){switch(Qt(ud,t),Qt(ld,e),Qt(cs,kd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:x_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=x_(t,e)}nn(cs),Qt(cs,t)}function wu(){nn(cs),nn(ld),nn(ud)}function AL(e){Ba(ud.current);var t=Ba(cs.current),n=x_(t,e.type);t!==n&&(Qt(ld,e),Qt(cs,n))}function yy(e){ld.current===e&&(nn(cs),nn(ld))}var gn=Ko(0);function Vf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dg=[];function wy(){for(var e=0;e<Dg.length;e++)Dg[e]._workInProgressVersionPrimary=null;Dg.length=0}var pf=Qs.ReactCurrentDispatcher,Ag=Qs.ReactCurrentBatchConfig,Ka=0,_n=null,Bn=null,Gn=null,qf=!1,Zc=!1,cd=0,FD=0;function lr(){throw Error(he(321))}function xy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zi(e[n],t[n]))return!1;return!0}function Sy(e,t,n,r,o,s){if(Ka=s,_n=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pf.current=e===null||e.memoizedState===null?UD:WD,e=n(r,o),Zc){s=0;do{if(Zc=!1,cd=0,25<=s)throw Error(he(301));s+=1,Gn=Bn=null,t.updateQueue=null,pf.current=ZD,e=n(r,o)}while(Zc)}if(pf.current=Kf,t=Bn!==null&&Bn.next!==null,Ka=0,Gn=Bn=_n=null,qf=!1,t)throw Error(he(300));return e}function Ly(){var e=cd!==0;return cd=0,e}function os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?_n.memoizedState=Gn=e:Gn=Gn.next=e,Gn}function Si(){if(Bn===null){var e=_n.alternate;e=e!==null?e.memoizedState:null}else e=Bn.next;var t=Gn===null?_n.memoizedState:Gn.next;if(t!==null)Gn=t,Bn=e;else{if(e===null)throw Error(he(310));Bn=e,e={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},Gn===null?_n.memoizedState=Gn=e:Gn=Gn.next=e}return Gn}function dd(e,t){return typeof t=="function"?t(e):t}function jg(e){var t=Si(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=Bn,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var d=l=null,h=null,g=s;do{var v=g.lane;if((Ka&v)===v)h!==null&&(h=h.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var y={lane:v,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};h===null?(d=h=y,l=r):h=h.next=y,_n.lanes|=v,Qa|=v}g=g.next}while(g!==null&&g!==s);h===null?l=r:h.next=d,Zi(r,t.memoizedState)||(Rr=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,_n.lanes|=s,Qa|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ig(e){var t=Si(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do s=e(s,l.action),l=l.next;while(l!==o);Zi(s,t.memoizedState)||(Rr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function jL(){}function IL(e,t){var n=_n,r=Si(),o=t(),s=!Zi(r.memoizedState,o);if(s&&(r.memoizedState=o,Rr=!0),r=r.queue,by(BL.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Gn!==null&&Gn.memoizedState.tag&1){if(n.flags|=2048,hd(9,FL.bind(null,n,r,o,t),void 0,null),Vn===null)throw Error(he(349));Ka&30||RL(n,t,o)}return o}function RL(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_n.updateQueue,t===null?(t={lastEffect:null,stores:null},_n.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function FL(e,t,n,r){t.value=n,t.getSnapshot=r,zL(t)&&$L(e)}function BL(e,t,n){return n(function(){zL(t)&&$L(e)})}function zL(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zi(e,n)}catch{return!0}}function $L(e){var t=Gs(e,1);t!==null&&Wi(t,e,1,-1)}function t1(e){var t=os();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:e},t.queue=e,e=e.dispatch=$D.bind(null,_n,e),[t.memoizedState,e]}function hd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_n.updateQueue,t===null?(t={lastEffect:null,stores:null},_n.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function UL(){return Si().memoizedState}function mf(e,t,n,r){var o=os();_n.flags|=e,o.memoizedState=hd(1|t,n,void 0,r===void 0?null:r)}function xp(e,t,n,r){var o=Si();r=r===void 0?null:r;var s=void 0;if(Bn!==null){var l=Bn.memoizedState;if(s=l.destroy,r!==null&&xy(r,l.deps)){o.memoizedState=hd(t,n,s,r);return}}_n.flags|=e,o.memoizedState=hd(1|t,n,s,r)}function n1(e,t){return mf(8390656,8,e,t)}function by(e,t){return xp(2048,8,e,t)}function WL(e,t){return xp(4,2,e,t)}function ZL(e,t){return xp(4,4,e,t)}function HL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YL(e,t,n){return n=n!=null?n.concat([e]):null,xp(4,4,HL.bind(null,t,e),n)}function Cy(){}function GL(e,t){var n=Si();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function VL(e,t){var n=Si();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qL(e,t,n){return Ka&21?(Zi(n,t)||(n=eL(),_n.lanes|=n,Qa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rr=!0),e.memoizedState=n)}function BD(e,t){var n=Bt;Bt=n!==0&&4>n?n:4,e(!0);var r=Ag.transition;Ag.transition={};try{e(!1),t()}finally{Bt=n,Ag.transition=r}}function KL(){return Si().memoizedState}function zD(e,t,n){var r=Wo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QL(e))JL(t,n);else if(n=ML(e,t,n,r),n!==null){var o=Cr();Wi(n,e,r,o),XL(n,t,r)}}function $D(e,t,n){var r=Wo(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QL(e))JL(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,d=s(l,n);if(o.hasEagerState=!0,o.eagerState=d,Zi(d,l)){var h=t.interleaved;h===null?(o.next=o,gy(t)):(o.next=h.next,h.next=o),t.interleaved=o;return}}catch{}finally{}n=ML(e,t,o,r),n!==null&&(o=Cr(),Wi(n,e,r,o),XL(n,t,r))}}function QL(e){var t=e.alternate;return e===_n||t!==null&&t===_n}function JL(e,t){Zc=qf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function XL(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ny(e,n)}}var Kf={readContext:xi,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},UD={readContext:xi,useCallback:function(e,t){return os().memoizedState=[e,t===void 0?null:t],e},useContext:xi,useEffect:n1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mf(4194308,4,HL.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mf(4194308,4,e,t)},useInsertionEffect:function(e,t){return mf(4,2,e,t)},useMemo:function(e,t){var n=os();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=os();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zD.bind(null,_n,e),[r.memoizedState,e]},useRef:function(e){var t=os();return e={current:e},t.memoizedState=e},useState:t1,useDebugValue:Cy,useDeferredValue:function(e){return os().memoizedState=e},useTransition:function(){var e=t1(!1),t=e[0];return e=BD.bind(null,e[1]),os().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_n,o=os();if(dn){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),Vn===null)throw Error(he(349));Ka&30||RL(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,n1(BL.bind(null,r,s,e),[e]),r.flags|=2048,hd(9,FL.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=os(),t=Vn.identifierPrefix;if(dn){var n=Rs,r=Is;n=(r&~(1<<32-Ui(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=cd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=FD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},WD={readContext:xi,useCallback:GL,useContext:xi,useEffect:by,useImperativeHandle:YL,useInsertionEffect:WL,useLayoutEffect:ZL,useMemo:VL,useReducer:jg,useRef:UL,useState:function(){return jg(dd)},useDebugValue:Cy,useDeferredValue:function(e){var t=Si();return qL(t,Bn.memoizedState,e)},useTransition:function(){var e=jg(dd)[0],t=Si().memoizedState;return[e,t]},useMutableSource:jL,useSyncExternalStore:IL,useId:KL,unstable_isNewReconciler:!1},ZD={readContext:xi,useCallback:GL,useContext:xi,useEffect:by,useImperativeHandle:YL,useInsertionEffect:WL,useLayoutEffect:ZL,useMemo:VL,useReducer:Ig,useRef:UL,useState:function(){return Ig(dd)},useDebugValue:Cy,useDeferredValue:function(e){var t=Si();return Bn===null?t.memoizedState=e:qL(t,Bn.memoizedState,e)},useTransition:function(){var e=Ig(dd)[0],t=Si().memoizedState;return[e,t]},useMutableSource:jL,useSyncExternalStore:IL,useId:KL,unstable_isNewReconciler:!1};function Ri(e,t){if(e&&e.defaultProps){t=vn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function U_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:vn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sp={isMounted:function(e){return(e=e._reactInternals)?nl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Cr(),o=Wo(e),s=zs(r,o);s.payload=t,n!=null&&(s.callback=n),t=$o(e,s,o),t!==null&&(Wi(t,e,o,r),ff(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Cr(),o=Wo(e),s=zs(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=$o(e,s,o),t!==null&&(Wi(t,e,o,r),ff(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cr(),r=Wo(e),o=zs(n,r);o.tag=2,t!=null&&(o.callback=t),t=$o(e,o,r),t!==null&&(Wi(t,e,r,n),ff(t,e,r))}};function r1(e,t,n,r,o,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!id(n,r)||!id(o,s):!0}function eb(e,t,n){var r=!1,o=Vo,s=t.contextType;return typeof s=="object"&&s!==null?s=xi(s):(o=zr(t)?Va:hr.current,r=t.contextTypes,s=(r=r!=null)?_u(e,o):Vo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function i1(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sp.enqueueReplaceState(t,t.state,null)}function W_(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},_y(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=xi(s):(s=zr(t)?Va:hr.current,o.context=_u(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(U_(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Sp.enqueueReplaceState(o,o.state,null),Gf(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function xu(e,t){try{var n="",r=t;do n+=vM(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Rg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Z_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var HD=typeof WeakMap=="function"?WeakMap:Map;function tb(e,t,n){n=zs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Jf||(Jf=!0,ev=r),Z_(e,t)},n}function nb(e,t,n){n=zs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Z_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Z_(e,t),typeof r!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function s1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new HD;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=sA.bind(null,e,t,n),t.then(e,e))}function o1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function a1(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zs(-1,1),t.tag=2,$o(n,t,1))),n.lanes|=1),e)}var YD=Qs.ReactCurrentOwner,Rr=!1;function br(e,t,n,r){t.child=e===null?OL(t,null,n,r):yu(t,e.child,n,r)}function l1(e,t,n,r,o){n=n.render;var s=t.ref;return lu(t,o),r=Sy(e,t,n,r,s,o),n=Ly(),e!==null&&!Rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o)):(dn&&n&&cy(t),t.flags|=1,br(e,t,r,o),t.child)}function u1(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Dy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,rb(e,t,s,r,o)):(e=yf(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:id,n(l,r)&&e.ref===t.ref)return Vs(e,t,o)}return t.flags|=1,e=Zo(s,r),e.ref=t.ref,e.return=t,t.child=e}function rb(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(id(s,r)&&e.ref===t.ref)if(Rr=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Rr=!0);else return t.lanes=e.lanes,Vs(e,t,o)}return H_(e,t,n,r,o)}function ib(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(eu,Qr),Qr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qt(eu,Qr),Qr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qt(eu,Qr),Qr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Qt(eu,Qr),Qr|=r;return br(e,t,o,n),t.child}function sb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function H_(e,t,n,r,o){var s=zr(n)?Va:hr.current;return s=_u(t,s),lu(t,o),n=Sy(e,t,n,r,s,o),r=Ly(),e!==null&&!Rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o)):(dn&&r&&cy(t),t.flags|=1,br(e,t,n,o),t.child)}function c1(e,t,n,r,o){if(zr(n)){var s=!0;Uf(t)}else s=!1;if(lu(t,o),t.stateNode===null)gf(e,t),eb(t,n,r),W_(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,d=t.memoizedProps;l.props=d;var h=l.context,g=n.contextType;typeof g=="object"&&g!==null?g=xi(g):(g=zr(n)?Va:hr.current,g=_u(t,g));var v=n.getDerivedStateFromProps,y=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function";y||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==r||h!==g)&&i1(t,l,r,g),ko=!1;var x=t.memoizedState;l.state=x,Gf(t,r,l,o),h=t.memoizedState,d!==r||x!==h||Br.current||ko?(typeof v=="function"&&(U_(t,n,v,r),h=t.memoizedState),(d=ko||r1(t,n,d,r,x,h,g))?(y||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),l.props=r,l.state=h,l.context=g,r=d):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,DL(e,t),d=t.memoizedProps,g=t.type===t.elementType?d:Ri(t.type,d),l.props=g,y=t.pendingProps,x=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=xi(h):(h=zr(n)?Va:hr.current,h=_u(t,h));var b=n.getDerivedStateFromProps;(v=typeof b=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==y||x!==h)&&i1(t,l,r,h),ko=!1,x=t.memoizedState,l.state=x,Gf(t,r,l,o);var P=t.memoizedState;d!==y||x!==P||Br.current||ko?(typeof b=="function"&&(U_(t,n,b,r),P=t.memoizedState),(g=ko||r1(t,n,g,r,x,P,h)||!1)?(v||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,P,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,P,h)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),l.props=r,l.state=P,l.context=h,r=g):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Y_(e,t,n,r,s,o)}function Y_(e,t,n,r,o,s){sb(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&qx(t,n,!1),Vs(e,t,s);r=t.stateNode,YD.current=t;var d=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=yu(t,e.child,null,s),t.child=yu(t,null,d,s)):br(e,t,d,s),t.memoizedState=r.state,o&&qx(t,n,!0),t.child}function ob(e){var t=e.stateNode;t.pendingContext?Vx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vx(e,t.context,!1),vy(e,t.containerInfo)}function d1(e,t,n,r,o){return vu(),hy(o),t.flags|=256,br(e,t,n,r),t.child}var G_={dehydrated:null,treeContext:null,retryLane:0};function V_(e){return{baseLanes:e,cachePool:null,transitions:null}}function ab(e,t,n){var r=t.pendingProps,o=gn.current,s=!1,l=(t.flags&128)!==0,d;if((d=l)||(d=e!==null&&e.memoizedState===null?!1:(o&2)!==0),d?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Qt(gn,o&1),e===null)return z_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Cp(l,r,0,null),e=Wa(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=V_(n),t.memoizedState=G_,e):ky(t,l));if(o=e.memoizedState,o!==null&&(d=o.dehydrated,d!==null))return GD(e,t,l,r,d,o,n);if(s){s=r.fallback,l=t.mode,o=e.child,d=o.sibling;var h={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=Zo(o,h),r.subtreeFlags=o.subtreeFlags&14680064),d!==null?s=Zo(d,s):(s=Wa(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?V_(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=G_,r}return s=e.child,e=s.sibling,r=Zo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ky(e,t){return t=Cp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gh(e,t,n,r){return r!==null&&hy(r),yu(t,e.child,null,n),e=ky(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GD(e,t,n,r,o,s,l){if(n)return t.flags&256?(t.flags&=-257,r=Rg(Error(he(422))),Gh(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Cp({mode:"visible",children:r.children},o,0,null),s=Wa(s,o,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&yu(t,e.child,null,l),t.child.memoizedState=V_(l),t.memoizedState=G_,s);if(!(t.mode&1))return Gh(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var d=r.dgst;return r=d,s=Error(he(419)),r=Rg(s,r,void 0),Gh(e,t,l,r)}if(d=(l&e.childLanes)!==0,Rr||d){if(r=Vn,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Gs(e,o),Wi(r,e,o,-1))}return My(),r=Rg(Error(he(421))),Gh(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=oA.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Jr=zo(o.nextSibling),Xr=t,dn=!0,zi=null,e!==null&&(mi[gi++]=Is,mi[gi++]=Rs,mi[gi++]=qa,Is=e.id,Rs=e.overflow,qa=t),t=ky(t,r.children),t.flags|=4096,t)}function h1(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$_(e.return,t,n)}function Fg(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function lb(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(br(e,t,r.children,n),r=gn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&h1(e,n,t);else if(e.tag===19)h1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Qt(gn,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Vf(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Fg(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Vf(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Fg(t,!0,n,null,s);break;case"together":Fg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=Zo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function VD(e,t,n){switch(t.tag){case 3:ob(t),vu();break;case 5:AL(t);break;case 1:zr(t.type)&&Uf(t);break;case 4:vy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Qt(Hf,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Qt(gn,gn.current&1),t.flags|=128,null):n&t.child.childLanes?ab(e,t,n):(Qt(gn,gn.current&1),e=Vs(e,t,n),e!==null?e.sibling:null);Qt(gn,gn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lb(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Qt(gn,gn.current),r)break;return null;case 22:case 23:return t.lanes=0,ib(e,t,n)}return Vs(e,t,n)}var ub,q_,cb,db;ub=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q_=function(){};cb=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ba(cs.current);var s=null;switch(n){case"input":o=__(e,o),r=__(e,r),s=[];break;case"select":o=vn({},o,{value:void 0}),r=vn({},r,{value:void 0}),s=[];break;case"textarea":o=w_(e,o),r=w_(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zf)}S_(n,r);var l;n=null;for(g in o)if(!r.hasOwnProperty(g)&&o.hasOwnProperty(g)&&o[g]!=null)if(g==="style"){var d=o[g];for(l in d)d.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Qc.hasOwnProperty(g)?s||(s=[]):(s=s||[]).push(g,null));for(g in r){var h=r[g];if(d=o!=null?o[g]:void 0,r.hasOwnProperty(g)&&h!==d&&(h!=null||d!=null))if(g==="style")if(d){for(l in d)!d.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&d[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(s||(s=[]),s.push(g,n)),n=h;else g==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,d=d?d.__html:void 0,h!=null&&d!==h&&(s=s||[]).push(g,h)):g==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(g,""+h):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Qc.hasOwnProperty(g)?(h!=null&&g==="onScroll"&&tn("scroll",e),s||d===h||(s=[])):(s=s||[]).push(g,h))}n&&(s=s||[]).push("style",n);var g=s;(t.updateQueue=g)&&(t.flags|=4)}};db=function(e,t,n,r){n!==r&&(t.flags|=4)};function Sc(e,t){if(!dn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qD(e,t,n){var r=t.pendingProps;switch(dy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(t),null;case 1:return zr(t.type)&&$f(),ur(t),null;case 3:return r=t.stateNode,wu(),nn(Br),nn(hr),wy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Hh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zi!==null&&(rv(zi),zi=null))),q_(e,t),ur(t),null;case 5:yy(t);var o=Ba(ud.current);if(n=t.type,e!==null&&t.stateNode!=null)cb(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return ur(t),null}if(e=Ba(cs.current),Hh(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[as]=t,r[ad]=s,e=(t.mode&1)!==0,n){case"dialog":tn("cancel",r),tn("close",r);break;case"iframe":case"object":case"embed":tn("load",r);break;case"video":case"audio":for(o=0;o<Dc.length;o++)tn(Dc[o],r);break;case"source":tn("error",r);break;case"img":case"image":case"link":tn("error",r),tn("load",r);break;case"details":tn("toggle",r);break;case"input":xx(r,s),tn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tn("invalid",r);break;case"textarea":Lx(r,s),tn("invalid",r)}S_(n,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var d=s[l];l==="children"?typeof d=="string"?r.textContent!==d&&(s.suppressHydrationWarning!==!0&&Zh(r.textContent,d,e),o=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(s.suppressHydrationWarning!==!0&&Zh(r.textContent,d,e),o=["children",""+d]):Qc.hasOwnProperty(l)&&d!=null&&l==="onScroll"&&tn("scroll",r)}switch(n){case"input":Ih(r),Sx(r,s,!0);break;case"textarea":Ih(r),bx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zf)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=BS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[as]=t,e[ad]=r,ub(e,t,!1,!1),t.stateNode=e;e:{switch(l=L_(n,r),n){case"dialog":tn("cancel",e),tn("close",e),o=r;break;case"iframe":case"object":case"embed":tn("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dc.length;o++)tn(Dc[o],e);o=r;break;case"source":tn("error",e),o=r;break;case"img":case"image":case"link":tn("error",e),tn("load",e),o=r;break;case"details":tn("toggle",e),o=r;break;case"input":xx(e,r),o=__(e,r),tn("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=vn({},r,{value:void 0}),tn("invalid",e);break;case"textarea":Lx(e,r),o=w_(e,r),tn("invalid",e);break;default:o=r}S_(n,o),d=o;for(s in d)if(d.hasOwnProperty(s)){var h=d[s];s==="style"?US(e,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&zS(e,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Jc(e,h):typeof h=="number"&&Jc(e,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qc.hasOwnProperty(s)?h!=null&&s==="onScroll"&&tn("scroll",e):h!=null&&Kv(e,s,h,l))}switch(n){case"input":Ih(e),Sx(e,r,!1);break;case"textarea":Ih(e),bx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Go(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?iu(e,!!r.multiple,s,!1):r.defaultValue!=null&&iu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=zf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ur(t),null;case 6:if(e&&t.stateNode!=null)db(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(n=Ba(ud.current),Ba(cs.current),Hh(t)){if(r=t.stateNode,n=t.memoizedProps,r[as]=t,(s=r.nodeValue!==n)&&(e=Xr,e!==null))switch(e.tag){case 3:Zh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zh(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[as]=t,t.stateNode=r}return ur(t),null;case 13:if(nn(gn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dn&&Jr!==null&&t.mode&1&&!(t.flags&128))PL(),vu(),t.flags|=98560,s=!1;else if(s=Hh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(he(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(he(317));s[as]=t}else vu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ur(t),s=!1}else zi!==null&&(rv(zi),zi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||gn.current&1?zn===0&&(zn=3):My())),t.updateQueue!==null&&(t.flags|=4),ur(t),null);case 4:return wu(),q_(e,t),e===null&&sd(t.stateNode.containerInfo),ur(t),null;case 10:return my(t.type._context),ur(t),null;case 17:return zr(t.type)&&$f(),ur(t),null;case 19:if(nn(gn),s=t.memoizedState,s===null)return ur(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)Sc(s,!1);else{if(zn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Vf(e),l!==null){for(t.flags|=128,Sc(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qt(gn,gn.current&1|2),t.child}e=e.sibling}s.tail!==null&&On()>Su&&(t.flags|=128,r=!0,Sc(s,!1),t.lanes=4194304)}else{if(!r)if(e=Vf(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Sc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!dn)return ur(t),null}else 2*On()-s.renderingStartTime>Su&&n!==1073741824&&(t.flags|=128,r=!0,Sc(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=On(),t.sibling=null,n=gn.current,Qt(gn,r?n&1|2:n&1),t):(ur(t),null);case 22:case 23:return Oy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qr&1073741824&&(ur(t),t.subtreeFlags&6&&(t.flags|=8192)):ur(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function KD(e,t){switch(dy(t),t.tag){case 1:return zr(t.type)&&$f(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wu(),nn(Br),nn(hr),wy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yy(t),null;case 13:if(nn(gn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));vu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nn(gn),null;case 4:return wu(),null;case 10:return my(t.type._context),null;case 22:case 23:return Oy(),null;case 24:return null;default:return null}}var Vh=!1,cr=!1,QD=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Xl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Sn(e,t,r)}else n.current=null}function K_(e,t,n){try{n()}catch(r){Sn(e,t,r)}}var f1=!1;function JD(e,t){if(D_=Rf,e=gL(),uy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,d=-1,h=-1,g=0,v=0,y=e,x=null;t:for(;;){for(var b;y!==n||o!==0&&y.nodeType!==3||(d=l+o),y!==s||r!==0&&y.nodeType!==3||(h=l+r),y.nodeType===3&&(l+=y.nodeValue.length),(b=y.firstChild)!==null;)x=y,y=b;for(;;){if(y===e)break t;if(x===n&&++g===o&&(d=l),x===s&&++v===r&&(h=l),(b=y.nextSibling)!==null)break;y=x,x=y.parentNode}y=b}n=d===-1||h===-1?null:{start:d,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(A_={focusedElem:e,selectionRange:n},Rf=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var C=P.memoizedProps,A=P.memoizedState,k=t.stateNode,O=k.getSnapshotBeforeUpdate(t.elementType===t.type?C:Ri(t.type,C),A);k.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(F){Sn(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return P=f1,f1=!1,P}function Hc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&K_(t,n,s)}o=o.next}while(o!==r)}}function Lp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Q_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hb(e){var t=e.alternate;t!==null&&(e.alternate=null,hb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[as],delete t[ad],delete t[R_],delete t[AD],delete t[jD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fb(e){return e.tag===5||e.tag===3||e.tag===4}function p1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function J_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zf));else if(r!==4&&(e=e.child,e!==null))for(J_(e,t,n),e=e.sibling;e!==null;)J_(e,t,n),e=e.sibling}function X_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(X_(e,t,n),e=e.sibling;e!==null;)X_(e,t,n),e=e.sibling}var Qn=null,Fi=!1;function Lo(e,t,n){for(n=n.child;n!==null;)pb(e,t,n),n=n.sibling}function pb(e,t,n){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(mp,n)}catch{}switch(n.tag){case 5:cr||Xl(n,t);case 6:var r=Qn,o=Fi;Qn=null,Lo(e,t,n),Qn=r,Fi=o,Qn!==null&&(Fi?(e=Qn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qn.removeChild(n.stateNode));break;case 18:Qn!==null&&(Fi?(e=Qn,n=n.stateNode,e.nodeType===8?Og(e.parentNode,n):e.nodeType===1&&Og(e,n),nd(e)):Og(Qn,n.stateNode));break;case 4:r=Qn,o=Fi,Qn=n.stateNode.containerInfo,Fi=!0,Lo(e,t,n),Qn=r,Fi=o;break;case 0:case 11:case 14:case 15:if(!cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&K_(n,t,l),o=o.next}while(o!==r)}Lo(e,t,n);break;case 1:if(!cr&&(Xl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){Sn(n,t,d)}Lo(e,t,n);break;case 21:Lo(e,t,n);break;case 22:n.mode&1?(cr=(r=cr)||n.memoizedState!==null,Lo(e,t,n),cr=r):Lo(e,t,n);break;default:Lo(e,t,n)}}function m1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new QD),t.forEach(function(r){var o=aA.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Ii(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,l=t,d=l;e:for(;d!==null;){switch(d.tag){case 5:Qn=d.stateNode,Fi=!1;break e;case 3:Qn=d.stateNode.containerInfo,Fi=!0;break e;case 4:Qn=d.stateNode.containerInfo,Fi=!0;break e}d=d.return}if(Qn===null)throw Error(he(160));pb(s,l,o),Qn=null,Fi=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(g){Sn(o,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mb(t,e),t=t.sibling}function mb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ii(t,e),is(e),r&4){try{Hc(3,e,e.return),Lp(3,e)}catch(C){Sn(e,e.return,C)}try{Hc(5,e,e.return)}catch(C){Sn(e,e.return,C)}}break;case 1:Ii(t,e),is(e),r&512&&n!==null&&Xl(n,n.return);break;case 5:if(Ii(t,e),is(e),r&512&&n!==null&&Xl(n,n.return),e.flags&32){var o=e.stateNode;try{Jc(o,"")}catch(C){Sn(e,e.return,C)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,d=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{d==="input"&&s.type==="radio"&&s.name!=null&&RS(o,s),L_(d,l);var g=L_(d,s);for(l=0;l<h.length;l+=2){var v=h[l],y=h[l+1];v==="style"?US(o,y):v==="dangerouslySetInnerHTML"?zS(o,y):v==="children"?Jc(o,y):Kv(o,v,y,g)}switch(d){case"input":v_(o,s);break;case"textarea":FS(o,s);break;case"select":var x=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?iu(o,!!s.multiple,b,!1):x!==!!s.multiple&&(s.defaultValue!=null?iu(o,!!s.multiple,s.defaultValue,!0):iu(o,!!s.multiple,s.multiple?[]:"",!1))}o[ad]=s}catch(C){Sn(e,e.return,C)}}break;case 6:if(Ii(t,e),is(e),r&4){if(e.stateNode===null)throw Error(he(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(C){Sn(e,e.return,C)}}break;case 3:if(Ii(t,e),is(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nd(t.containerInfo)}catch(C){Sn(e,e.return,C)}break;case 4:Ii(t,e),is(e);break;case 13:Ii(t,e),is(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Py=On())),r&4&&m1(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(cr=(g=cr)||v,Ii(t,e),cr=g):Ii(t,e),is(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!v&&e.mode&1)for(Oe=e,v=e.child;v!==null;){for(y=Oe=v;Oe!==null;){switch(x=Oe,b=x.child,x.tag){case 0:case 11:case 14:case 15:Hc(4,x,x.return);break;case 1:Xl(x,x.return);var P=x.stateNode;if(typeof P.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(C){Sn(r,n,C)}}break;case 5:Xl(x,x.return);break;case 22:if(x.memoizedState!==null){_1(y);continue}}b!==null?(b.return=x,Oe=b):_1(y)}v=v.sibling}e:for(v=null,y=e;;){if(y.tag===5){if(v===null){v=y;try{o=y.stateNode,g?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(d=y.stateNode,h=y.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,d.style.display=$S("display",l))}catch(C){Sn(e,e.return,C)}}}else if(y.tag===6){if(v===null)try{y.stateNode.nodeValue=g?"":y.memoizedProps}catch(C){Sn(e,e.return,C)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;v===y&&(v=null),y=y.return}v===y&&(v=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Ii(t,e),is(e),r&4&&m1(e);break;case 21:break;default:Ii(t,e),is(e)}}function is(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fb(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Jc(o,""),r.flags&=-33);var s=p1(e);X_(e,s,o);break;case 3:case 4:var l=r.stateNode.containerInfo,d=p1(e);J_(e,d,l);break;default:throw Error(he(161))}}catch(h){Sn(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XD(e,t,n){Oe=e,gb(e)}function gb(e,t,n){for(var r=(e.mode&1)!==0;Oe!==null;){var o=Oe,s=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Vh;if(!l){var d=o.alternate,h=d!==null&&d.memoizedState!==null||cr;d=Vh;var g=cr;if(Vh=l,(cr=h)&&!g)for(Oe=o;Oe!==null;)l=Oe,h=l.child,l.tag===22&&l.memoizedState!==null?v1(o):h!==null?(h.return=l,Oe=h):v1(o);for(;s!==null;)Oe=s,gb(s),s=s.sibling;Oe=o,Vh=d,cr=g}g1(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Oe=s):g1(e)}}function g1(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cr||Lp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!cr)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ri(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&e1(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}e1(t,l,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var v=g.memoizedState;if(v!==null){var y=v.dehydrated;y!==null&&nd(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}cr||t.flags&512&&Q_(t)}catch(x){Sn(t,t.return,x)}}if(t===e){Oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function _1(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function v1(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Lp(4,t)}catch(h){Sn(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(h){Sn(t,o,h)}}var s=t.return;try{Q_(t)}catch(h){Sn(t,s,h)}break;case 5:var l=t.return;try{Q_(t)}catch(h){Sn(t,l,h)}}}catch(h){Sn(t,t.return,h)}if(t===e){Oe=null;break}var d=t.sibling;if(d!==null){d.return=t.return,Oe=d;break}Oe=t.return}}var eA=Math.ceil,Qf=Qs.ReactCurrentDispatcher,Ty=Qs.ReactCurrentOwner,wi=Qs.ReactCurrentBatchConfig,Ot=0,Vn=null,An=null,tr=0,Qr=0,eu=Ko(0),zn=0,fd=null,Qa=0,bp=0,Ey=0,Yc=null,Ir=null,Py=0,Su=1/0,Ds=null,Jf=!1,ev=null,Uo=null,qh=!1,Oo=null,Xf=0,Gc=0,tv=null,_f=-1,vf=0;function Cr(){return Ot&6?On():_f!==-1?_f:_f=On()}function Wo(e){return e.mode&1?Ot&2&&tr!==0?tr&-tr:RD.transition!==null?(vf===0&&(vf=eL()),vf):(e=Bt,e!==0||(e=window.event,e=e===void 0?16:aL(e.type)),e):1}function Wi(e,t,n,r){if(50<Gc)throw Gc=0,tv=null,Error(he(185));Ld(e,n,r),(!(Ot&2)||e!==Vn)&&(e===Vn&&(!(Ot&2)&&(bp|=n),zn===4&&Eo(e,tr)),$r(e,r),n===1&&Ot===0&&!(t.mode&1)&&(Su=On()+500,wp&&Qo()))}function $r(e,t){var n=e.callbackNode;RM(e,t);var r=If(e,e===Vn?tr:0);if(r===0)n!==null&&Tx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Tx(n),t===1)e.tag===0?ID(y1.bind(null,e)):kL(y1.bind(null,e)),MD(function(){!(Ot&6)&&Qo()}),n=null;else{switch(tL(r)){case 1:n=ty;break;case 4:n=JS;break;case 16:n=jf;break;case 536870912:n=XS;break;default:n=jf}n=bb(n,_b.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _b(e,t){if(_f=-1,vf=0,Ot&6)throw Error(he(327));var n=e.callbackNode;if(uu()&&e.callbackNode!==n)return null;var r=If(e,e===Vn?tr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ep(e,r);else{t=r;var o=Ot;Ot|=2;var s=yb();(Vn!==e||tr!==t)&&(Ds=null,Su=On()+500,Ua(e,t));do try{rA();break}catch(d){vb(e,d)}while(!0);py(),Qf.current=s,Ot=o,An!==null?t=0:(Vn=null,tr=0,t=zn)}if(t!==0){if(t===2&&(o=E_(e),o!==0&&(r=o,t=nv(e,o))),t===1)throw n=fd,Ua(e,0),Eo(e,r),$r(e,On()),n;if(t===6)Eo(e,r);else{if(o=e.current.alternate,!(r&30)&&!tA(o)&&(t=ep(e,r),t===2&&(s=E_(e),s!==0&&(r=s,t=nv(e,s))),t===1))throw n=fd,Ua(e,0),Eo(e,r),$r(e,On()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:Da(e,Ir,Ds);break;case 3:if(Eo(e,r),(r&130023424)===r&&(t=Py+500-On(),10<t)){if(If(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Cr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=I_(Da.bind(null,e,Ir,Ds),t);break}Da(e,Ir,Ds);break;case 4:if(Eo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-Ui(r);s=1<<l,l=t[l],l>o&&(o=l),r&=~s}if(r=o,r=On()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eA(r/1960))-r,10<r){e.timeoutHandle=I_(Da.bind(null,e,Ir,Ds),r);break}Da(e,Ir,Ds);break;case 5:Da(e,Ir,Ds);break;default:throw Error(he(329))}}}return $r(e,On()),e.callbackNode===n?_b.bind(null,e):null}function nv(e,t){var n=Yc;return e.current.memoizedState.isDehydrated&&(Ua(e,t).flags|=256),e=ep(e,t),e!==2&&(t=Ir,Ir=n,t!==null&&rv(t)),e}function rv(e){Ir===null?Ir=e:Ir.push.apply(Ir,e)}function tA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Zi(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Eo(e,t){for(t&=~Ey,t&=~bp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ui(t),r=1<<n;e[n]=-1,t&=~r}}function y1(e){if(Ot&6)throw Error(he(327));uu();var t=If(e,0);if(!(t&1))return $r(e,On()),null;var n=ep(e,t);if(e.tag!==0&&n===2){var r=E_(e);r!==0&&(t=r,n=nv(e,r))}if(n===1)throw n=fd,Ua(e,0),Eo(e,t),$r(e,On()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Da(e,Ir,Ds),$r(e,On()),null}function Ny(e,t){var n=Ot;Ot|=1;try{return e(t)}finally{Ot=n,Ot===0&&(Su=On()+500,wp&&Qo())}}function Ja(e){Oo!==null&&Oo.tag===0&&!(Ot&6)&&uu();var t=Ot;Ot|=1;var n=wi.transition,r=Bt;try{if(wi.transition=null,Bt=1,e)return e()}finally{Bt=r,wi.transition=n,Ot=t,!(Ot&6)&&Qo()}}function Oy(){Qr=eu.current,nn(eu)}function Ua(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,OD(n)),An!==null)for(n=An.return;n!==null;){var r=n;switch(dy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$f();break;case 3:wu(),nn(Br),nn(hr),wy();break;case 5:yy(r);break;case 4:wu();break;case 13:nn(gn);break;case 19:nn(gn);break;case 10:my(r.type._context);break;case 22:case 23:Oy()}n=n.return}if(Vn=e,An=e=Zo(e.current,null),tr=Qr=t,zn=0,fd=null,Ey=bp=Qa=0,Ir=Yc=null,Fa!==null){for(t=0;t<Fa.length;t++)if(n=Fa[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=o,r.next=l}n.pending=r}Fa=null}return e}function vb(e,t){do{var n=An;try{if(py(),pf.current=Kf,qf){for(var r=_n.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}qf=!1}if(Ka=0,Gn=Bn=_n=null,Zc=!1,cd=0,Ty.current=null,n===null||n.return===null){zn=1,fd=t,An=null;break}e:{var s=e,l=n.return,d=n,h=t;if(t=tr,d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var g=h,v=d,y=v.tag;if(!(v.mode&1)&&(y===0||y===11||y===15)){var x=v.alternate;x?(v.updateQueue=x.updateQueue,v.memoizedState=x.memoizedState,v.lanes=x.lanes):(v.updateQueue=null,v.memoizedState=null)}var b=o1(l);if(b!==null){b.flags&=-257,a1(b,l,d,s,t),b.mode&1&&s1(s,g,t),t=b,h=g;var P=t.updateQueue;if(P===null){var C=new Set;C.add(h),t.updateQueue=C}else P.add(h);break e}else{if(!(t&1)){s1(s,g,t),My();break e}h=Error(he(426))}}else if(dn&&d.mode&1){var A=o1(l);if(A!==null){!(A.flags&65536)&&(A.flags|=256),a1(A,l,d,s,t),hy(xu(h,d));break e}}s=h=xu(h,d),zn!==4&&(zn=2),Yc===null?Yc=[s]:Yc.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var k=tb(s,h,t);Xx(s,k);break e;case 1:d=h;var O=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof O.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Uo===null||!Uo.has(M)))){s.flags|=65536,t&=-t,s.lanes|=t;var F=nb(s,d,t);Xx(s,F);break e}}s=s.return}while(s!==null)}xb(n)}catch($){t=$,An===n&&n!==null&&(An=n=n.return);continue}break}while(!0)}function yb(){var e=Qf.current;return Qf.current=Kf,e===null?Kf:e}function My(){(zn===0||zn===3||zn===2)&&(zn=4),Vn===null||!(Qa&268435455)&&!(bp&268435455)||Eo(Vn,tr)}function ep(e,t){var n=Ot;Ot|=2;var r=yb();(Vn!==e||tr!==t)&&(Ds=null,Ua(e,t));do try{nA();break}catch(o){vb(e,o)}while(!0);if(py(),Ot=n,Qf.current=r,An!==null)throw Error(he(261));return Vn=null,tr=0,zn}function nA(){for(;An!==null;)wb(An)}function rA(){for(;An!==null&&!EM();)wb(An)}function wb(e){var t=Lb(e.alternate,e,Qr);e.memoizedProps=e.pendingProps,t===null?xb(e):An=t,Ty.current=null}function xb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=KD(n,t),n!==null){n.flags&=32767,An=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zn=6,An=null;return}}else if(n=qD(n,t,Qr),n!==null){An=n;return}if(t=t.sibling,t!==null){An=t;return}An=t=e}while(t!==null);zn===0&&(zn=5)}function Da(e,t,n){var r=Bt,o=wi.transition;try{wi.transition=null,Bt=1,iA(e,t,n,r)}finally{wi.transition=o,Bt=r}return null}function iA(e,t,n,r){do uu();while(Oo!==null);if(Ot&6)throw Error(he(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(FM(e,s),e===Vn&&(An=Vn=null,tr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qh||(qh=!0,bb(jf,function(){return uu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wi.transition,wi.transition=null;var l=Bt;Bt=1;var d=Ot;Ot|=4,Ty.current=null,JD(e,n),mb(n,e),bD(A_),Rf=!!D_,A_=D_=null,e.current=n,XD(n),PM(),Ot=d,Bt=l,wi.transition=s}else e.current=n;if(qh&&(qh=!1,Oo=e,Xf=o),s=e.pendingLanes,s===0&&(Uo=null),MM(n.stateNode),$r(e,On()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Jf)throw Jf=!1,e=ev,ev=null,e;return Xf&1&&e.tag!==0&&uu(),s=e.pendingLanes,s&1?e===tv?Gc++:(Gc=0,tv=e):Gc=0,Qo(),null}function uu(){if(Oo!==null){var e=tL(Xf),t=wi.transition,n=Bt;try{if(wi.transition=null,Bt=16>e?16:e,Oo===null)var r=!1;else{if(e=Oo,Oo=null,Xf=0,Ot&6)throw Error(he(331));var o=Ot;for(Ot|=4,Oe=e.current;Oe!==null;){var s=Oe,l=s.child;if(Oe.flags&16){var d=s.deletions;if(d!==null){for(var h=0;h<d.length;h++){var g=d[h];for(Oe=g;Oe!==null;){var v=Oe;switch(v.tag){case 0:case 11:case 15:Hc(8,v,s)}var y=v.child;if(y!==null)y.return=v,Oe=y;else for(;Oe!==null;){v=Oe;var x=v.sibling,b=v.return;if(hb(v),v===g){Oe=null;break}if(x!==null){x.return=b,Oe=x;break}Oe=b}}}var P=s.alternate;if(P!==null){var C=P.child;if(C!==null){P.child=null;do{var A=C.sibling;C.sibling=null,C=A}while(C!==null)}}Oe=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,Oe=l;else e:for(;Oe!==null;){if(s=Oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hc(9,s,s.return)}var k=s.sibling;if(k!==null){k.return=s.return,Oe=k;break e}Oe=s.return}}var O=e.current;for(Oe=O;Oe!==null;){l=Oe;var M=l.child;if(l.subtreeFlags&2064&&M!==null)M.return=l,Oe=M;else e:for(l=O;Oe!==null;){if(d=Oe,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Lp(9,d)}}catch($){Sn(d,d.return,$)}if(d===l){Oe=null;break e}var F=d.sibling;if(F!==null){F.return=d.return,Oe=F;break e}Oe=d.return}}if(Ot=o,Qo(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(mp,e)}catch{}r=!0}return r}finally{Bt=n,wi.transition=t}}return!1}function w1(e,t,n){t=xu(n,t),t=tb(e,t,1),e=$o(e,t,1),t=Cr(),e!==null&&(Ld(e,1,t),$r(e,t))}function Sn(e,t,n){if(e.tag===3)w1(e,e,n);else for(;t!==null;){if(t.tag===3){w1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Uo===null||!Uo.has(r))){e=xu(n,e),e=nb(t,e,1),t=$o(t,e,1),e=Cr(),t!==null&&(Ld(t,1,e),$r(t,e));break}}t=t.return}}function sA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Cr(),e.pingedLanes|=e.suspendedLanes&n,Vn===e&&(tr&n)===n&&(zn===4||zn===3&&(tr&130023424)===tr&&500>On()-Py?Ua(e,0):Ey|=n),$r(e,t)}function Sb(e,t){t===0&&(e.mode&1?(t=Bh,Bh<<=1,!(Bh&130023424)&&(Bh=4194304)):t=1);var n=Cr();e=Gs(e,t),e!==null&&(Ld(e,t,n),$r(e,n))}function oA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sb(e,n)}function aA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),Sb(e,n)}var Lb;Lb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Br.current)Rr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Rr=!1,VD(e,t,n);Rr=!!(e.flags&131072)}else Rr=!1,dn&&t.flags&1048576&&TL(t,Zf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gf(e,t),e=t.pendingProps;var o=_u(t,hr.current);lu(t,n),o=Sy(null,t,r,e,o,n);var s=Ly();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zr(r)?(s=!0,Uf(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,_y(t),o.updater=Sp,t.stateNode=o,o._reactInternals=t,W_(t,r,e,n),t=Y_(null,t,r,!0,s,n)):(t.tag=0,dn&&s&&cy(t),br(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gf(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=uA(r),e=Ri(r,e),o){case 0:t=H_(null,t,r,e,n);break e;case 1:t=c1(null,t,r,e,n);break e;case 11:t=l1(null,t,r,e,n);break e;case 14:t=u1(null,t,r,Ri(r.type,e),n);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ri(r,o),H_(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ri(r,o),c1(e,t,r,o,n);case 3:e:{if(ob(t),e===null)throw Error(he(387));r=t.pendingProps,s=t.memoizedState,o=s.element,DL(e,t),Gf(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=xu(Error(he(423)),t),t=d1(e,t,r,n,o);break e}else if(r!==o){o=xu(Error(he(424)),t),t=d1(e,t,r,n,o);break e}else for(Jr=zo(t.stateNode.containerInfo.firstChild),Xr=t,dn=!0,zi=null,n=OL(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vu(),r===o){t=Vs(e,t,n);break e}br(e,t,r,n)}t=t.child}return t;case 5:return AL(t),e===null&&z_(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,l=o.children,j_(r,o)?l=null:s!==null&&j_(r,s)&&(t.flags|=32),sb(e,t),br(e,t,l,n),t.child;case 6:return e===null&&z_(t),null;case 13:return ab(e,t,n);case 4:return vy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yu(t,null,r,n):br(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ri(r,o),l1(e,t,r,o,n);case 7:return br(e,t,t.pendingProps,n),t.child;case 8:return br(e,t,t.pendingProps.children,n),t.child;case 12:return br(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,l=o.value,Qt(Hf,r._currentValue),r._currentValue=l,s!==null)if(Zi(s.value,l)){if(s.children===o.children&&!Br.current){t=Vs(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var d=s.dependencies;if(d!==null){l=s.child;for(var h=d.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=zs(-1,n&-n),h.tag=2;var g=s.updateQueue;if(g!==null){g=g.shared;var v=g.pending;v===null?h.next=h:(h.next=v.next,v.next=h),g.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),$_(s.return,n,t),d.lanes|=n;break}h=h.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(he(341));l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),$_(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}br(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,lu(t,n),o=xi(o),r=r(o),t.flags|=1,br(e,t,r,n),t.child;case 14:return r=t.type,o=Ri(r,t.pendingProps),o=Ri(r.type,o),u1(e,t,r,o,n);case 15:return rb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ri(r,o),gf(e,t),t.tag=1,zr(r)?(e=!0,Uf(t)):e=!1,lu(t,n),eb(t,r,o),W_(t,r,o,n),Y_(null,t,r,!0,e,n);case 19:return lb(e,t,n);case 22:return ib(e,t,n)}throw Error(he(156,t.tag))};function bb(e,t){return QS(e,t)}function lA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yi(e,t,n,r){return new lA(e,t,n,r)}function Dy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uA(e){if(typeof e=="function")return Dy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jv)return 11;if(e===Xv)return 14}return 2}function Zo(e,t){var n=e.alternate;return n===null?(n=yi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yf(e,t,n,r,o,s){var l=2;if(r=e,typeof e=="function")Dy(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Zl:return Wa(n.children,o,s,t);case Qv:l=8,o|=8;break;case f_:return e=yi(12,n,t,o|2),e.elementType=f_,e.lanes=s,e;case p_:return e=yi(13,n,t,o),e.elementType=p_,e.lanes=s,e;case m_:return e=yi(19,n,t,o),e.elementType=m_,e.lanes=s,e;case AS:return Cp(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case MS:l=10;break e;case DS:l=9;break e;case Jv:l=11;break e;case Xv:l=14;break e;case Co:l=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=yi(l,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Wa(e,t,n,r){return e=yi(7,e,r,t),e.lanes=n,e}function Cp(e,t,n,r){return e=yi(22,e,r,t),e.elementType=AS,e.lanes=n,e.stateNode={isHidden:!1},e}function Bg(e,t,n){return e=yi(6,e,null,t),e.lanes=n,e}function zg(e,t,n){return t=yi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cA(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wg(0),this.expirationTimes=wg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wg(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ay(e,t,n,r,o,s,l,d,h){return e=new cA(e,t,n,d,h),t===1?(t=1,s===!0&&(t|=8)):t=0,s=yi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_y(s),e}function dA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cb(e){if(!e)return Vo;e=e._reactInternals;e:{if(nl(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(zr(n))return CL(e,n,t)}return t}function kb(e,t,n,r,o,s,l,d,h){return e=Ay(n,r,!0,e,o,s,l,d,h),e.context=Cb(null),n=e.current,r=Cr(),o=Wo(n),s=zs(r,o),s.callback=t??null,$o(n,s,o),e.current.lanes=o,Ld(e,o,r),$r(e,r),e}function kp(e,t,n,r){var o=t.current,s=Cr(),l=Wo(o);return n=Cb(n),t.context===null?t.context=n:t.pendingContext=n,t=zs(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$o(o,t,l),e!==null&&(Wi(e,o,l,s),ff(e,o,l)),l}function tp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function x1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jy(e,t){x1(e,t),(e=e.alternate)&&x1(e,t)}function hA(){return null}var Tb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Iy(e){this._internalRoot=e}Tp.prototype.render=Iy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));kp(e,t,null,null)};Tp.prototype.unmount=Iy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ja(function(){kp(null,e,null,null)}),t[Ys]=null}};function Tp(e){this._internalRoot=e}Tp.prototype.unstable_scheduleHydration=function(e){if(e){var t=iL();e={blockedOn:null,target:e,priority:t};for(var n=0;n<To.length&&t!==0&&t<To[n].priority;n++);To.splice(n,0,e),n===0&&oL(e)}};function Ry(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ep(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function S1(){}function fA(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var g=tp(l);s.call(g)}}var l=kb(t,r,e,0,null,!1,!1,"",S1);return e._reactRootContainer=l,e[Ys]=l.current,sd(e.nodeType===8?e.parentNode:e),Ja(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var d=r;r=function(){var g=tp(h);d.call(g)}}var h=Ay(e,0,!1,null,null,!1,!1,"",S1);return e._reactRootContainer=h,e[Ys]=h.current,sd(e.nodeType===8?e.parentNode:e),Ja(function(){kp(t,h,n,r)}),h}function Pp(e,t,n,r,o){var s=n._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var d=o;o=function(){var h=tp(l);d.call(h)}}kp(t,l,e,o)}else l=fA(n,t,e,o,r);return tp(l)}nL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mc(t.pendingLanes);n!==0&&(ny(t,n|1),$r(t,On()),!(Ot&6)&&(Su=On()+500,Qo()))}break;case 13:Ja(function(){var r=Gs(e,1);if(r!==null){var o=Cr();Wi(r,e,1,o)}}),jy(e,1)}};ry=function(e){if(e.tag===13){var t=Gs(e,134217728);if(t!==null){var n=Cr();Wi(t,e,134217728,n)}jy(e,134217728)}};rL=function(e){if(e.tag===13){var t=Wo(e),n=Gs(e,t);if(n!==null){var r=Cr();Wi(n,e,t,r)}jy(e,t)}};iL=function(){return Bt};sL=function(e,t){var n=Bt;try{return Bt=e,t()}finally{Bt=n}};C_=function(e,t,n){switch(t){case"input":if(v_(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=yp(r);if(!o)throw Error(he(90));IS(r),v_(r,o)}}}break;case"textarea":FS(e,n);break;case"select":t=n.value,t!=null&&iu(e,!!n.multiple,t,!1)}};HS=Ny;YS=Ja;var pA={usingClientEntryPoint:!1,Events:[Cd,Vl,yp,WS,ZS,Ny]},Lc={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mA={bundleType:Lc.bundleType,version:Lc.version,rendererPackageName:Lc.rendererPackageName,rendererConfig:Lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qS(e),e===null?null:e.stateNode},findFiberByHostInstance:Lc.findFiberByHostInstance||hA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{mp=Kh.inject(mA),us=Kh}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pA;ti.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ry(t))throw Error(he(200));return dA(e,t,null,n)};ti.createRoot=function(e,t){if(!Ry(e))throw Error(he(299));var n=!1,r="",o=Tb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ay(e,1,!1,null,null,n,!1,r,o),e[Ys]=t.current,sd(e.nodeType===8?e.parentNode:e),new Iy(t)};ti.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=qS(t),e=e===null?null:e.stateNode,e};ti.flushSync=function(e){return Ja(e)};ti.hydrate=function(e,t,n){if(!Ep(t))throw Error(he(200));return Pp(null,e,t,!0,n)};ti.hydrateRoot=function(e,t,n){if(!Ry(e))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",l=Tb;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=kb(t,null,e,1,n??null,o,!1,s,l),e[Ys]=t.current,sd(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Tp(t)};ti.render=function(e,t,n){if(!Ep(t))throw Error(he(200));return Pp(null,e,t,!1,n)};ti.unmountComponentAtNode=function(e){if(!Ep(e))throw Error(he(40));return e._reactRootContainer?(Ja(function(){Pp(null,null,e,!1,function(){e._reactRootContainer=null,e[Ys]=null})}),!0):!1};ti.unstable_batchedUpdates=Ny;ti.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ep(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return Pp(e,t,n,!1,r)};ti.version="18.3.1-next-f1338f8080-20240426";function Eb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eb)}catch(e){console.error(e)}}Eb(),ES.exports=ti;var Pb=ES.exports,L1=Pb;d_.createRoot=L1.createRoot,d_.hydrateRoot=L1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pd.apply(this,arguments)}var Mo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mo||(Mo={}));const b1="popstate";function gA(e){e===void 0&&(e={});function t(r,o){let{pathname:s,search:l,hash:d}=r.location;return iv("",{pathname:s,search:l,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Ob(o)}return vA(t,n,null,e)}function In(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _A(){return Math.random().toString(36).substr(2,8)}function C1(e,t){return{usr:e.state,key:e.key,idx:t}}function iv(e,t,n,r){return n===void 0&&(n=null),pd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tu(t):t,{state:n,key:t&&t.key||r||_A()})}function Ob(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Tu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vA(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,l=o.history,d=Mo.Pop,h=null,g=v();g==null&&(g=0,l.replaceState(pd({},l.state,{idx:g}),""));function v(){return(l.state||{idx:null}).idx}function y(){d=Mo.Pop;let A=v(),k=A==null?null:A-g;g=A,h&&h({action:d,location:C.location,delta:k})}function x(A,k){d=Mo.Push;let O=iv(C.location,A,k);g=v()+1;let M=C1(O,g),F=C.createHref(O);try{l.pushState(M,"",F)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(F)}s&&h&&h({action:d,location:C.location,delta:1})}function b(A,k){d=Mo.Replace;let O=iv(C.location,A,k);g=v();let M=C1(O,g),F=C.createHref(O);l.replaceState(M,"",F),s&&h&&h({action:d,location:C.location,delta:0})}function P(A){let k=o.location.origin!=="null"?o.location.origin:o.location.href,O=typeof A=="string"?A:Ob(A);return O=O.replace(/ $/,"%20"),In(k,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,k)}let C={get action(){return d},get location(){return e(o,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(b1,y),h=A,()=>{o.removeEventListener(b1,y),h=null}},createHref(A){return t(o,A)},createURL:P,encodeLocation(A){let k=P(A);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:b,go(A){return l.go(A)}};return C}var k1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(k1||(k1={}));function yA(e,t,n){return n===void 0&&(n="/"),wA(e,t,n)}function wA(e,t,n,r){let o=typeof t=="string"?Tu(t):t,s=Ab(o.pathname||"/",n);if(s==null)return null;let l=Mb(e);xA(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let g=DA(s);d=NA(l[h],g)}return d}function Mb(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,l,d)=>{let h={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};h.relativePath.startsWith("/")&&(In(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let g=Za([r,h.relativePath]),v=n.concat(h);s.children&&s.children.length>0&&(In(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Mb(s.children,t,v,g)),!(s.path==null&&!s.index)&&t.push({path:g,score:EA(g,s.index),routesMeta:v})};return e.forEach((s,l)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))o(s,l);else for(let h of Db(s.path))o(s,l,h)}),t}function Db(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let l=Db(r.join("/")),d=[];return d.push(...l.map(h=>h===""?s:[s,h].join("/"))),o&&d.push(...l),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function xA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:PA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SA=/^:[\w-]+$/,LA=3,bA=2,CA=1,kA=10,TA=-2,T1=e=>e==="*";function EA(e,t){let n=e.split("/"),r=n.length;return n.some(T1)&&(r+=TA),t&&(r+=bA),n.filter(o=>!T1(o)).reduce((o,s)=>o+(SA.test(s)?LA:s===""?CA:kA),r)}function PA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function NA(e,t,n){let{routesMeta:r}=e,o={},s="/",l=[];for(let d=0;d<r.length;++d){let h=r[d],g=d===r.length-1,v=s==="/"?t:t.slice(s.length)||"/",y=OA({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},v),x=h.route;if(!y)return null;Object.assign(o,y.params),l.push({params:o,pathname:Za([s,y.pathname]),pathnameBase:RA(Za([s,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(s=Za([s,y.pathnameBase]))}return l}function OA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=MA(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let s=o[0],l=s.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((g,v,y)=>{let{paramName:x,isOptional:b}=v;if(x==="*"){let C=d[y]||"";l=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const P=d[y];return b&&!P?g[x]=void 0:g[x]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:s,pathnameBase:l,pattern:e}}function MA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Nb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function DA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ab(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function AA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?Tu(e):e;return{pathname:n?n.startsWith("/")?n:jA(n,t):t,search:FA(r),hash:BA(o)}}function jA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $g(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jb(e,t){let n=IA(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ib(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=Tu(e):(o=pd({},e),In(!o.pathname||!o.pathname.includes("?"),$g("?","pathname","search",o)),In(!o.pathname||!o.pathname.includes("#"),$g("#","pathname","hash",o)),In(!o.search||!o.search.includes("#"),$g("#","search","hash",o)));let s=e===""||o.pathname==="",l=s?"/":o.pathname,d;if(l==null)d=n;else{let y=t.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;o.pathname=x.join("/")}d=y>=0?t[y]:"/"}let h=AA(o,d),g=l&&l!=="/"&&l.endsWith("/"),v=(s||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(g||v)&&(h.pathname+="/"),h}const Za=e=>e.join("/").replace(/\/\/+/g,"/"),RA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Rb=["post","put","patch","delete"];new Set(Rb);const $A=["get",...Rb];new Set($A);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(this,arguments)}const Fy=T.createContext(null),UA=T.createContext(null),Td=T.createContext(null),Np=T.createContext(null),rl=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Fb=T.createContext(null);function Ed(){return T.useContext(Np)!=null}function By(){return Ed()||In(!1),T.useContext(Np).location}function Bb(e){T.useContext(Td).static||T.useLayoutEffect(e)}function zy(){let{isDataRoute:e}=T.useContext(rl);return e?tj():WA()}function WA(){Ed()||In(!1);let e=T.useContext(Fy),{basename:t,future:n,navigator:r}=T.useContext(Td),{matches:o}=T.useContext(rl),{pathname:s}=By(),l=JSON.stringify(jb(o,n.v7_relativeSplatPath)),d=T.useRef(!1);return Bb(()=>{d.current=!0}),T.useCallback(function(g,v){if(v===void 0&&(v={}),!d.current)return;if(typeof g=="number"){r.go(g);return}let y=Ib(g,JSON.parse(l),s,v.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Za([t,y.pathname])),(v.replace?r.replace:r.push)(y,v.state,v)},[t,r,l,s,e])}function ZA(e,t){return HA(e,t)}function HA(e,t,n,r){Ed()||In(!1);let{navigator:o,static:s}=T.useContext(Td),{matches:l}=T.useContext(rl),d=l[l.length-1],h=d?d.params:{};d&&d.pathname;let g=d?d.pathnameBase:"/";d&&d.route;let v=By(),y;if(t){var x;let k=typeof t=="string"?Tu(t):t;g==="/"||(x=k.pathname)!=null&&x.startsWith(g)||In(!1),y=k}else y=v;let b=y.pathname||"/",P=b;if(g!=="/"){let k=g.replace(/^\//,"").split("/");P="/"+b.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=yA(e,{pathname:P}),A=KA(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:Za([g,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:Za([g,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,n,r);return t&&A?T.createElement(Np.Provider,{value:{location:md({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Mo.Pop}},A):A}function YA(){let e=ej(),t=zA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:o},n):null,null)}const GA=T.createElement(YA,null);class VA extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?T.createElement(rl.Provider,{value:this.props.routeContext},T.createElement(Fb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qA(e){let{routeContext:t,match:n,children:r}=e,o=T.useContext(Fy);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(rl.Provider,{value:t},r)}function KA(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,d=(o=n)==null?void 0:o.errors;if(d!=null){let v=l.findIndex(y=>y.route.id&&(d==null?void 0:d[y.route.id])!==void 0);v>=0||In(!1),l=l.slice(0,Math.min(l.length,v+1))}let h=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let v=0;v<l.length;v++){let y=l[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=v),y.route.id){let{loaderData:x,errors:b}=n,P=y.route.loader&&x[y.route.id]===void 0&&(!b||b[y.route.id]===void 0);if(y.route.lazy||P){h=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((v,y,x)=>{let b,P=!1,C=null,A=null;n&&(b=d&&y.route.id?d[y.route.id]:void 0,C=y.route.errorElement||GA,h&&(g<0&&x===0?(nj("route-fallback"),P=!0,A=null):g===x&&(P=!0,A=y.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,x+1)),O=()=>{let M;return b?M=C:P?M=A:y.route.Component?M=T.createElement(y.route.Component,null):y.route.element?M=y.route.element:M=v,T.createElement(qA,{match:y,routeContext:{outlet:v,matches:k,isDataRoute:n!=null},children:M})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?T.createElement(VA,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):O()},null)}var zb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zb||{}),$b=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($b||{});function QA(e){let t=T.useContext(Fy);return t||In(!1),t}function JA(e){let t=T.useContext(UA);return t||In(!1),t}function XA(e){let t=T.useContext(rl);return t||In(!1),t}function Ub(e){let t=XA(),n=t.matches[t.matches.length-1];return n.route.id||In(!1),n.route.id}function ej(){var e;let t=T.useContext(Fb),n=JA(),r=Ub();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function tj(){let{router:e}=QA(zb.UseNavigateStable),t=Ub($b.UseNavigateStable),n=T.useRef(!1);return Bb(()=>{n.current=!0}),T.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,md({fromRouteId:t},s)))},[e,t])}const E1={};function nj(e,t,n){E1[e]||(E1[e]=!0)}function rj(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function zl(e){let{to:t,replace:n,state:r,relative:o}=e;Ed()||In(!1);let{future:s,static:l}=T.useContext(Td),{matches:d}=T.useContext(rl),{pathname:h}=By(),g=zy(),v=Ib(t,jb(d,s.v7_relativeSplatPath),h,o==="path"),y=JSON.stringify(v);return T.useEffect(()=>g(JSON.parse(y),{replace:n,state:r,relative:o}),[g,y,o,n,r]),null}function Ms(e){In(!1)}function ij(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Mo.Pop,navigator:s,static:l=!1,future:d}=e;Ed()&&In(!1);let h=t.replace(/^\/*/,"/"),g=T.useMemo(()=>({basename:h,navigator:s,static:l,future:md({v7_relativeSplatPath:!1},d)}),[h,d,s,l]);typeof r=="string"&&(r=Tu(r));let{pathname:v="/",search:y="",hash:x="",state:b=null,key:P="default"}=r,C=T.useMemo(()=>{let A=Ab(v,h);return A==null?null:{location:{pathname:A,search:y,hash:x,state:b,key:P},navigationType:o}},[h,v,y,x,b,P,o]);return C==null?null:T.createElement(Td.Provider,{value:g},T.createElement(Np.Provider,{children:n,value:C}))}function sj(e){let{children:t,location:n}=e;return ZA(sv(t),n)}new Promise(()=>{});function sv(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(r,o)=>{if(!T.isValidElement(r))return;let s=[...t,o];if(r.type===T.Fragment){n.push.apply(n,sv(r.props.children,s));return}r.type!==Ms&&In(!1),!r.props.index||!r.props.children||In(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=sv(r.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const oj="6";try{window.__reactRouterVersion=oj}catch{}const aj="startTransition",P1=mu[aj];function lj(e){let{basename:t,children:n,future:r,window:o}=e,s=T.useRef();s.current==null&&(s.current=gA({window:o,v5Compat:!0}));let l=s.current,[d,h]=T.useState({action:l.action,location:l.location}),{v7_startTransition:g}=r||{},v=T.useCallback(y=>{g&&P1?P1(()=>h(y)):h(y)},[h,g]);return T.useLayoutEffect(()=>l.listen(v),[l,v]),T.useEffect(()=>rj(r),[r]),T.createElement(ij,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:l,future:r})}var N1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(N1||(N1={}));var O1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(O1||(O1={}));const Wb=T.createContext(),uj=({children:e})=>{const[t,n]=T.useState(null),[r,o]=T.useState(!0),[s,l]=T.useState(null);T.useEffect(()=>{(async()=>{const x=localStorage.getItem("token");if(x)try{const b=await g(x);n(b)}catch(b){console.error("Failed to fetch user on initialization:",b),localStorage.removeItem("token"),n(null)}o(!1)})()},[]);const d=async(y,x)=>{l(null);try{const b=await fetch("http://localhost:8000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:y,password:x})});if(!b.ok){const k=await b.json();throw b.status===401?new Error("Invalid credentials"):b.status===500?new Error(k.detail||"Server error occurred"):new Error(k.detail||"An unexpected error occurred")}const C=(await b.json()).token;localStorage.setItem("token",C);const A=await g(C);return n(A),A}catch(b){throw console.error("Login error:",b),l(b.message),b}},h=()=>{localStorage.removeItem("token"),n(null),l(null)},g=async y=>{try{const x=await fetch("http://localhost:8000/auth/me",{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(!x.ok){const P=await x.json();throw x.status===401?new Error("Unauthorized: Invalid or expired token"):new Error(P.detail||"Failed to fetch user")}return await x.json()}catch(x){throw console.error("Fetch user error:",x),x}},v={user:t,loading:r,error:s,login:d,logout:h,fetchUser:g};return m.jsx(Wb.Provider,{value:v,children:e})},Js=()=>{const e=T.useContext(Wb);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Zb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Zb(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Do(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Zb(e))&&(r&&(r+=" "),r+=t);return r}const Vc=e=>typeof e=="number"&&!isNaN(e),Xa=e=>typeof e=="string",Fr=e=>typeof e=="function",wf=e=>Xa(e)||Fr(e)?e:null,Ug=e=>T.isValidElement(e)||Xa(e)||Fr(e)||Vc(e);function cj(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function Op(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:o=!0,collapseDuration:s=300}=e;return function(l){let{children:d,position:h,preventExitTransition:g,done:v,nodeRef:y,isIn:x}=l;const b=r?`${t}--${h}`:t,P=r?`${n}--${h}`:n,C=T.useRef(0);return T.useLayoutEffect(()=>{const A=y.current,k=b.split(" "),O=M=>{M.target===y.current&&(A.dispatchEvent(new Event("d")),A.removeEventListener("animationend",O),A.removeEventListener("animationcancel",O),C.current===0&&M.type!=="animationcancel"&&A.classList.remove(...k))};A.classList.add(...k),A.addEventListener("animationend",O),A.addEventListener("animationcancel",O)},[]),T.useEffect(()=>{const A=y.current,k=()=>{A.removeEventListener("animationend",k),o?cj(A,v,s):v()};x||(g?k():(C.current=1,A.className+=` ${P}`,A.addEventListener("animationend",k)))},[x]),Ee.createElement(Ee.Fragment,null,d)}}function M1(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const pi={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Qh=e=>{let{theme:t,type:n,...r}=e;return Ee.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Wg={info:function(e){return Ee.createElement(Qh,{...e},Ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Ee.createElement(Qh,{...e},Ee.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Ee.createElement(Qh,{...e},Ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Ee.createElement(Qh,{...e},Ee.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ee.createElement("div",{className:"Toastify__spinner"})}};function dj(e){const[,t]=T.useReducer(b=>b+1,0),[n,r]=T.useState([]),o=T.useRef(null),s=T.useRef(new Map).current,l=b=>n.indexOf(b)!==-1,d=T.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:b=>s.get(b)}).current;function h(b){let{containerId:P}=b;const{limit:C}=d.props;!C||P&&d.containerId!==P||(d.count-=d.queue.length,d.queue=[])}function g(b){r(P=>b==null?[]:P.filter(C=>C!==b))}function v(){const{toastContent:b,toastProps:P,staleId:C}=d.queue.shift();x(b,P,C)}function y(b,P){let{delay:C,staleId:A,...k}=P;if(!Ug(b)||function($e){return!o.current||d.props.enableMultiContainer&&$e.containerId!==d.props.containerId||s.has($e.toastId)&&$e.updateId==null}(k))return;const{toastId:O,updateId:M,data:F}=k,{props:$}=d,Q=()=>g(O),ie=M==null;ie&&d.count++;const ee={...$,style:$.toastStyle,key:d.toastKey++,...Object.fromEntries(Object.entries(k).filter($e=>{let[le,me]=$e;return me!=null})),toastId:O,updateId:M,data:F,closeToast:Q,isIn:!1,className:wf(k.className||$.toastClassName),bodyClassName:wf(k.bodyClassName||$.bodyClassName),progressClassName:wf(k.progressClassName||$.progressClassName),autoClose:!k.isLoading&&(Ce=k.autoClose,ce=$.autoClose,Ce===!1||Vc(Ce)&&Ce>0?Ce:ce),deleteToast(){const $e=M1(s.get(O),"removed");s.delete(O),pi.emit(4,$e);const le=d.queue.length;if(d.count=O==null?d.count-d.displayedToast:d.count-1,d.count<0&&(d.count=0),le>0){const me=O==null?d.props.limit:1;if(le===1||me===1)d.displayedToast++,v();else{const ze=me>le?le:me;d.displayedToast=ze;for(let be=0;be<ze;be++)v()}}else t()}};var Ce,ce;ee.iconOut=function($e){let{theme:le,type:me,isLoading:ze,icon:be}=$e,Ke=null;const G={theme:le,type:me};return be===!1||(Fr(be)?Ke=be(G):T.isValidElement(be)?Ke=T.cloneElement(be,G):Xa(be)||Vc(be)?Ke=be:ze?Ke=Wg.spinner():(ye=>ye in Wg)(me)&&(Ke=Wg[me](G))),Ke}(ee),Fr(k.onOpen)&&(ee.onOpen=k.onOpen),Fr(k.onClose)&&(ee.onClose=k.onClose),ee.closeButton=$.closeButton,k.closeButton===!1||Ug(k.closeButton)?ee.closeButton=k.closeButton:k.closeButton===!0&&(ee.closeButton=!Ug($.closeButton)||$.closeButton);let Re=b;T.isValidElement(b)&&!Xa(b.type)?Re=T.cloneElement(b,{closeToast:Q,toastProps:ee,data:F}):Fr(b)&&(Re=b({closeToast:Q,toastProps:ee,data:F})),$.limit&&$.limit>0&&d.count>$.limit&&ie?d.queue.push({toastContent:Re,toastProps:ee,staleId:A}):Vc(C)?setTimeout(()=>{x(Re,ee,A)},C):x(Re,ee,A)}function x(b,P,C){const{toastId:A}=P;C&&s.delete(C);const k={content:b,props:P};s.set(A,k),r(O=>[...O,A].filter(M=>M!==C)),pi.emit(4,M1(k,k.props.updateId==null?"added":"updated"))}return T.useEffect(()=>(d.containerId=e.containerId,pi.cancelEmit(3).on(0,y).on(1,b=>o.current&&g(b)).on(5,h).emit(2,d),()=>{s.clear(),pi.emit(3,d)}),[]),T.useEffect(()=>{d.props=e,d.isToastActive=l,d.displayedToast=n.length}),{getToastToRender:function(b){const P=new Map,C=Array.from(s.values());return e.newestOnTop&&C.reverse(),C.forEach(A=>{const{position:k}=A.props;P.has(k)||P.set(k,[]),P.get(k).push(A)}),Array.from(P,A=>b(A[0],A[1]))},containerRef:o,isToastActive:l}}function D1(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function A1(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function hj(e){const[t,n]=T.useState(!1),[r,o]=T.useState(!1),s=T.useRef(null),l=T.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,d=T.useRef(e),{autoClose:h,pauseOnHover:g,closeToast:v,onClick:y,closeOnClick:x}=e;function b(F){if(e.draggable){F.nativeEvent.type==="touchstart"&&F.nativeEvent.preventDefault(),l.didMove=!1,document.addEventListener("mousemove",k),document.addEventListener("mouseup",O),document.addEventListener("touchmove",k),document.addEventListener("touchend",O);const $=s.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=$.getBoundingClientRect(),$.style.transition="",l.x=D1(F.nativeEvent),l.y=A1(F.nativeEvent),e.draggableDirection==="x"?(l.start=l.x,l.removalDistance=$.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=$.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function P(F){if(l.boundingRect){const{top:$,bottom:Q,left:ie,right:ee}=l.boundingRect;F.nativeEvent.type!=="touchend"&&e.pauseOnHover&&l.x>=ie&&l.x<=ee&&l.y>=$&&l.y<=Q?A():C()}}function C(){n(!0)}function A(){n(!1)}function k(F){const $=s.current;l.canDrag&&$&&(l.didMove=!0,t&&A(),l.x=D1(F),l.y=A1(F),l.delta=e.draggableDirection==="x"?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),$.style.transform=`translate${e.draggableDirection}(${l.delta}px)`,$.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function O(){document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",O),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",O);const F=s.current;if(l.canDrag&&l.didMove&&F){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return o(!0),void e.closeToast();F.style.transition="transform 0.2s, opacity 0.2s",F.style.transform=`translate${e.draggableDirection}(0)`,F.style.opacity="1"}}T.useEffect(()=>{d.current=e}),T.useEffect(()=>(s.current&&s.current.addEventListener("d",C,{once:!0}),Fr(e.onOpen)&&e.onOpen(T.isValidElement(e.children)&&e.children.props),()=>{const F=d.current;Fr(F.onClose)&&F.onClose(T.isValidElement(F.children)&&F.children.props)}),[]),T.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||A(),window.addEventListener("focus",C),window.addEventListener("blur",A)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",C),window.removeEventListener("blur",A))}),[e.pauseOnFocusLoss]);const M={onMouseDown:b,onTouchStart:b,onMouseUp:P,onTouchEnd:P};return h&&g&&(M.onMouseEnter=A,M.onMouseLeave=C),x&&(M.onClick=F=>{y&&y(F),l.canCloseOnClick&&v()}),{playToast:C,pauseToast:A,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:M}}function Hb(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Ee.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:o=>{o.stopPropagation(),t(o)},"aria-label":r},Ee.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ee.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function fj(e){let{delay:t,isRunning:n,closeToast:r,type:o="default",hide:s,className:l,style:d,controlledProgress:h,progress:g,rtl:v,isIn:y,theme:x}=e;const b=s||h&&g===0,P={...d,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:b?0:1};h&&(P.transform=`scaleX(${g})`);const C=Do("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":v}),A=Fr(l)?l({rtl:v,type:o,defaultClassName:C}):Do(C,l);return Ee.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:A,style:P,[h&&g>=1?"onTransitionEnd":"onAnimationEnd"]:h&&g<1?null:()=>{y&&r()}})}const pj=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:o}=hj(e),{closeButton:s,children:l,autoClose:d,onClick:h,type:g,hideProgressBar:v,closeToast:y,transition:x,position:b,className:P,style:C,bodyClassName:A,bodyStyle:k,progressClassName:O,progressStyle:M,updateId:F,role:$,progress:Q,rtl:ie,toastId:ee,deleteToast:Ce,isIn:ce,isLoading:Re,iconOut:$e,closeOnClick:le,theme:me}=e,ze=Do("Toastify__toast",`Toastify__toast-theme--${me}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":ie},{"Toastify__toast--close-on-click":le}),be=Fr(P)?P({rtl:ie,position:b,type:g,defaultClassName:ze}):Do(ze,P),Ke=!!Q||!d,G={closeToast:y,type:g,theme:me};let ye=null;return s===!1||(ye=Fr(s)?s(G):T.isValidElement(s)?T.cloneElement(s,G):Hb(G)),Ee.createElement(x,{isIn:ce,done:Ce,position:b,preventExitTransition:n,nodeRef:r},Ee.createElement("div",{id:ee,onClick:h,className:be,...o,style:C,ref:r},Ee.createElement("div",{...ce&&{role:$},className:Fr(A)?A({type:g}):Do("Toastify__toast-body",A),style:k},$e!=null&&Ee.createElement("div",{className:Do("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Re})},$e),Ee.createElement("div",null,l)),ye,Ee.createElement(fj,{...F&&!Ke?{key:`pb-${F}`}:{},rtl:ie,theme:me,delay:d,isRunning:t,isIn:ce,closeToast:y,hide:v,type:g,style:M,className:O,controlledProgress:Ke,progress:Q||0})))},Mp=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},mj=Op(Mp("bounce",!0));Op(Mp("slide",!0));Op(Mp("zoom"));Op(Mp("flip"));const qs=T.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:o}=dj(e),{className:s,style:l,rtl:d,containerId:h}=e;function g(v){const y=Do("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":d});return Fr(s)?s({position:v,rtl:d,defaultClassName:y}):Do(y,wf(s))}return T.useEffect(()=>{t&&(t.current=r.current)},[]),Ee.createElement("div",{ref:r,className:"Toastify",id:h},n((v,y)=>{const x=y.length?{...l}:{...l,pointerEvents:"none"};return Ee.createElement("div",{className:g(v),style:x,key:`container-${v}`},y.map((b,P)=>{let{content:C,props:A}=b;return Ee.createElement(pj,{...A,isIn:o(A.toastId),style:{...A.style,"--nth":P+1,"--len":y.length},key:`toast-${A.key}`},C)}))}))});qs.displayName="ToastContainer",qs.defaultProps={position:"top-right",transition:mj,autoClose:5e3,closeButton:Hb,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Zg,Aa=new Map,Ac=[],gj=1;function Yb(){return""+gj++}function _j(e){return e&&(Xa(e.toastId)||Vc(e.toastId))?e.toastId:Yb()}function qc(e,t){return Aa.size>0?pi.emit(0,e,t):Ac.push({content:e,options:t}),t.toastId}function np(e,t){return{...t,type:t&&t.type||e,toastId:_j(t)}}function Jh(e){return(t,n)=>qc(t,np(e,n))}function ue(e,t){return qc(e,np("default",t))}ue.loading=(e,t)=>qc(e,np("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),ue.promise=function(e,t,n){let r,{pending:o,error:s,success:l}=t;o&&(r=Xa(o)?ue.loading(o,n):ue.loading(o.render,{...n,...o}));const d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(v,y,x)=>{if(y==null)return void ue.dismiss(r);const b={type:v,...d,...n,data:x},P=Xa(y)?{render:y}:y;return r?ue.update(r,{...b,...P}):ue(P.render,{...b,...P}),x},g=Fr(e)?e():e;return g.then(v=>h("success",l,v)).catch(v=>h("error",s,v)),g},ue.success=Jh("success"),ue.info=Jh("info"),ue.error=Jh("error"),ue.warning=Jh("warning"),ue.warn=ue.warning,ue.dark=(e,t)=>qc(e,np("default",{theme:"dark",...t})),ue.dismiss=e=>{Aa.size>0?pi.emit(1,e):Ac=Ac.filter(t=>e!=null&&t.options.toastId!==e)},ue.clearWaitingQueue=function(e){return e===void 0&&(e={}),pi.emit(5,e)},ue.isActive=e=>{let t=!1;return Aa.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},ue.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,o){let{containerId:s}=o;const l=Aa.get(s||Zg);return l&&l.getToast(r)}(e,t);if(n){const{props:r,content:o}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:Yb()};s.toastId!==e&&(s.staleId=e);const l=s.render||o;delete s.render,qc(l,s)}},0)},ue.done=e=>{ue.update(e,{progress:1})},ue.onChange=e=>(pi.on(4,e),()=>{pi.off(4,e)}),ue.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ue.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},pi.on(2,e=>{Zg=e.containerId||e,Aa.set(Zg,e),Ac.forEach(t=>{pi.emit(0,t.content,t.options)}),Ac=[]}).on(3,e=>{Aa.delete(e.containerId||e),Aa.size===0&&pi.off(0).off(1).off(5)});function vj(){const[e,t]=T.useState(""),[n,r]=T.useState(""),[o,s]=T.useState(!1),{user:l,login:d,loading:h}=Js(),g=zy();T.useEffect(()=>(console.log("Login component mounted"),console.log("Initial state:",{email:e,password:n,loading:o,user:l,authLoading:h}),()=>{console.log("Login component unmounted"),console.log("Final state before unmount:",{email:e,password:n,loading:o,user:l,authLoading:h})}),[]),T.useEffect(()=>{l?(console.log("User already logged in:",l),console.log("User type:",l.user_type),l.user_type==="admin"?(console.log("Redirecting to /admin"),g("/admin")):l.user_type==="company"?(console.log("Redirecting to /company"),g("/company")):l.user_type==="city"?(console.log("Redirecting to /city"),g("/city")):(console.log("Redirecting to /dashboard"),g("/dashboard"))):console.log("No user logged in, staying on login page")},[l,g]);const v=async y=>{if(y.preventDefault(),console.log("Form submitted with:",{email:e,password:n}),console.log("Current loading state:",o),!e||!n){console.warn("Validation failed: Empty email or password"),ue.error("メールアドレスとパスワードを入力してください");return}s(!0),console.log("Setting loading to true");try{console.log("Attempting to login with:",{email:e,password:n});const x=await d(e,n);console.log("Login successful:",x),ue.success("ログインしました"),console.log("User type after login:",x.user_type),x.user_type==="admin"?(console.log("Redirecting to /admin after login"),g("/admin")):x.user_type==="company"?(console.log("Redirecting to /company after login"),g("/company")):x.user_type==="city"?(console.log("Redirecting to /city after login"),g("/city")):(console.log("Redirecting to /dashboard after login"),g("/dashboard"))}catch(x){console.error("Login error:",x),console.log("Error message:",x.message),ue.error(`ログインに失敗しました: ${x.message||"サーバーエラーが発生しました"}`)}finally{s(!1),console.log("Setting loading to false"),console.log("Current state after login attempt:",{email:e,password:n,loading:o,user:l})}};return console.log("Rendering Login component with classes: login-container, login-form"),console.log("Current props and state:",{email:e,password:n,loading:o,user:l,authLoading:h}),h?(console.log("AuthContext is loading"),console.log("Showing loading spinner"),m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"text-lg font-semibold",children:"読み込み中..."})})):(console.log("Form state before render:",{email:e,password:n,loading:o}),m.jsxs("div",{className:"login-container min-h-screen flex items-center justify-center bg-gray-100",children:[m.jsxs("div",{className:"login-form bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"ログイン"}),m.jsxs("form",{onSubmit:v,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2 font-medium",htmlFor:"email",children:"メールアドレス"}),m.jsx("input",{type:"email",id:"email",value:e,onChange:y=>{t(y.target.value),console.log("Email updated:",y.target.value)},className:"login-input w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,"aria-required":"true",disabled:o,placeholder:"example@domain.com"})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-gray-700 mb-2 font-medium",htmlFor:"password",children:"パスワード"}),m.jsx("input",{type:"password",id:"password",value:n,onChange:y=>{r(y.target.value),console.log("Password updated:",y.target.value)},className:"login-input w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,"aria-required":"true",disabled:o,placeholder:"パスワードを入力"})]}),m.jsx("button",{type:"submit",disabled:o,className:`login-button w-full py-2 rounded-md text-white font-semibold transition-colors duration-200 ${o?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,"aria-disabled":o,children:o?"処理中...":"ログイン"})]}),m.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["アカウントがない？"," ",m.jsx("a",{href:"/signup",className:"text-blue-500 hover:underline",onClick:()=>console.log("Navigating to signup page"),children:"登録する"})]})]}),m.jsx(qs,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]}))}function yj(){const[e,t]=T.useState({email:"",password:"",name:""}),[n,r]=T.useState(!1),o=zy(),s=async l=>{l.preventDefault(),r(!0);try{if(!(await fetch("undefined/auth/signup-general",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,role:"reporter",is_admin:!1})})).ok)throw new Error("登録に失敗しました");ue.success("登録が完了しました！ログインしてください"),o("/login")}catch(d){console.error("Signup error:",d),ue.error("登録に失敗しました: "+d.message)}finally{r(!1)}};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:[m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[m.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"ユーザー登録"}),m.jsxs("form",{onSubmit:s,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",htmlFor:"email",children:"メールアドレス"}),m.jsx("input",{type:"email",id:"email",value:e.email,onChange:l=>t({...e,email:l.target.value}),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,"aria-required":"true",disabled:n})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",htmlFor:"password",children:"パスワード"}),m.jsx("input",{type:"password",id:"password",value:e.password,onChange:l=>t({...e,password:l.target.value}),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,"aria-required":"true",disabled:n})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-gray-700 mb-2",htmlFor:"name",children:"名前（任意）"}),m.jsx("input",{type:"text",id:"name",value:e.name,onChange:l=>t({...e,name:l.target.value}),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:n})]}),m.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 disabled:bg-blue-300","aria-disabled":n,children:n?"処理中...":"登録"})]}),m.jsxs("p",{className:"mt-4 text-center",children:["すでにアカウントがある？"," ",m.jsx("a",{href:"/login",className:"text-blue-500 hover:underline",children:"ログイン"})]})]}),m.jsx(qs,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}function Dp({onSectionChange:e}){var y;const{user:t,logout:n}=Js(),[r,o]=T.useState(!1);T.useEffect(()=>{console.log("🛠 Sidebar useAuth →",{user:t,logout:n})},[t,n]);const s=()=>o(x=>!x),l=(t==null?void 0:t.user_type)||"normal",d={admin:[{name:"ユーザー管理",section:"userManagement"},{name:"新規ユーザー作成",section:"createUser"},{name:"組織管理",section:"orgManagement"},{name:"新規組織作成",section:"createOrg"},{name:"レポート管理",section:"reportManagement"}],normal:[{name:"レポート一覧",section:"reportList"},{name:"新規レポート作成",section:"createReport"}],city:[{name:"レポート一覧",section:"handleReports"},{name:"マップ表示",section:"mapView"},{name:"地域管理",section:"areaManagement"}],company:[{name:"レポート一覧",section:"reportList"},{name:"レポート対応",section:"handleReports"},{name:"地域管理",section:"areaManagement"},{name:"パートナー管理",section:"partnerManagement"},{name:"コード連携",section:"codeLink"}]},h=()=>l==="company"?"企業コード":l==="city"?"市コード":"組織コード",g=()=>(t==null?void 0:t.org)??"—",v=()=>l==="admin"?"管理者 ダッシュボード":l==="city"?"市 ダッシュボード":l==="company"?"企業 ダッシュボード":"一般 ダッシュボード";return m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"md:hidden fixed top-4 left-4 z-20 p-2 bg-blue-500 text-white rounded",onClick:s,children:r?"閉じる":"メニュー"}),m.jsx("div",{className:`
          fixed top-0 left-0 h-full bg-gray-800 text-white w-64
          transform transition-transform
          ${r?"translate-x-0":"-translate-x-full"}
          md:translate-x-0 md:static md:w-64 z-10
        `,children:m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"mb-4 p-2 bg-gray-700 rounded text-center",children:[m.jsx("div",{className:"text-xs text-gray-400",children:h()}),m.jsx("div",{className:"font-mono text-lg text-blue-300",children:g()})]}),m.jsx("h2",{className:"text-2xl font-bold mb-4",children:v()}),m.jsx("nav",{children:m.jsxs("ul",{children:[(y=d[l])==null?void 0:y.map(x=>m.jsx("li",{className:"mb-2",children:m.jsx("button",{onClick:()=>{console.log(`🔀 セクション切替: ${x.section}`),e(x.section),o(!1)},className:"w-full text-left p-2 hover:bg-gray-700 rounded",children:x.name})},x.section)),m.jsx("li",{className:"mt-4",children:m.jsx("button",{onClick:()=>{console.log("🚪 ログアウト実行"),typeof n=="function"&&n(),o(!1)},className:"w-full text-left p-2 bg-red-500 hover:bg-red-600 rounded",children:"ログアウト"})})]})})]})})]})}function wj(){const{user:e}=Js(),[t,n]=T.useState([]),[r,o]=T.useState([]),[s,l]=T.useState([]),[d,h]=T.useState(!1),[g,v]=T.useState(""),[y,x]=T.useState("company"),[b,P]=T.useState(""),[C,A]=T.useState(""),[k,O]=T.useState("company"),[M,F]=T.useState(""),[$,Q]=T.useState("userManagement");T.useEffect(()=>{["userManagement","orgManagement","reportManagement"].includes($)&&ie()},[$]);const ie=async()=>{h(!0);try{const le=localStorage.getItem("token");if(!le)throw new Error("トークンが見つかりません。再度ログインしてください。");console.log("Fetching data with API base:",void 0),console.log("Fetching users from:","undefined/admin/users");const me=await fetch("undefined/api/admin/users",{headers:{Authorization:`Bearer ${le}`}});if(!me.ok)throw console.error("Users fetch failed with status:",me.status,me.statusText),new Error("Failed to fetch users");const ze=await me.json();n(ze),console.log("Fetching organizations from:","undefined/admin/organizations");const be=await fetch("undefined/api/admin/organizations",{headers:{Authorization:`Bearer ${le}`}});if(!be.ok)throw console.error("Organizations fetch failed with status:",be.status,be.statusText),new Error("Failed to fetch organizations");const Ke=await be.json();o(Ke),console.log("Fetching reports from:","undefined/admin/reports");const G=await fetch("undefined/api/admin/reports",{headers:{Authorization:`Bearer ${le}`}});if(!G.ok)throw console.error("Reports fetch failed with status:",G.status,G.statusText),new Error("Failed to fetch reports");const ye=await G.json();l(ye)}catch(le){console.error("Error fetching data:",le.message),ue.error(le.message||"データの取得に失敗しました")}finally{h(!1)}},ee=async le=>{le.preventDefault();try{const me=localStorage.getItem("token");if(!me)throw new Error("トークンが見つかりません。再度ログインしてください。");const ze=await fetch("undefined/api/admin/organizations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${me}`},body:JSON.stringify({name:g,type:y})});if(!ze.ok)throw console.error("Create organization failed with status:",ze.status,ze.statusText),new Error("Failed to create organization");ue.success("組織を作成しました"),v(""),x("company"),ie()}catch(me){console.error("Error creating organization:",me.message),ue.error(me.message||"組織の作成に失敗しました")}},Ce=async le=>{if(le.preventDefault(),(k==="company"||k==="city")&&!M)return ue.error("組織を選択してください");try{const me=localStorage.getItem("token");if(!me)throw new Error("トークンが見つかりません。再度ログインしてください。");const ze=await fetch("undefined/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${me}`},body:JSON.stringify({email:b,password:C,user_type:k,org_id:parseInt(M,10)})});if(!ze.ok){const be=await ze.json().catch(()=>({}));throw console.error("Create user failed:",ze.status,ze.statusText,be),new Error(be.detail||JSON.stringify(be)||`Error ${ze.status}`)}ue.success("ユーザーを作成しました"),P(""),A(""),O("company"),F(""),ie()}catch(me){console.error("Error creating user:",me.message),ue.error(me.message||"ユーザーの作成に失敗しました")}},ce=async le=>{if(confirm("このユーザーを削除しますか？"))try{const me=localStorage.getItem("token");if(!me)throw new Error("トークンが見つかりません。再度ログインしてください。");const ze=await fetch(`undefined/api/admin/users/${le}`,{method:"DELETE",headers:{Authorization:`Bearer ${me}`}});if(!ze.ok)throw console.error("Delete user failed with status:",ze.status,ze.statusText),new Error("Failed to delete user");ue.success("ユーザーを削除しました"),ie()}catch(me){console.error("Error deleting user:",me.message),ue.error(me.message||"ユーザーの削除に失敗しました")}},Re=async le=>{if(confirm("この組織を削除しますか？"))try{const me=localStorage.getItem("token");if(!me)throw new Error("トークンが見つかりません。再度ログインしてください。");const ze=await fetch(`undefined/api/admin/organizations/${le}`,{method:"DELETE",headers:{Authorization:`Bearer ${me}`}});if(!ze.ok)throw console.error("Delete organization failed with status:",ze.status,ze.statusText),new Error("Failed to delete organization");ue.success("組織を削除しました"),ie()}catch(me){console.error("Error deleting organization:",me.message),ue.error(me.message||"組織の削除に失敗しました")}},$e=async le=>{if(confirm("このレポートを削除しますか？"))try{const me=localStorage.getItem("token");if(!me)throw new Error("トークンが見つかりません。再度ログインしてください。");const ze=await fetch(`undefined/api/admin/reports/${le}`,{method:"DELETE",headers:{Authorization:`Bearer ${me}`}});if(!ze.ok)throw console.error("Delete report failed with status:",ze.status,ze.statusText),new Error("Failed to delete report");ue.success("レポートを削除しました"),ie()}catch(me){console.error("Error deleting report:",me.message),ue.error(me.message||"レポートの削除に失敗しました")}};return d?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"読み込み中..."}):m.jsxs("div",{className:"flex min-h-screen",children:[m.jsx(Dp,{userType:"admin",onSectionChange:Q}),m.jsxs("div",{className:"flex-1 p-6 bg-gray-100",children:[$==="userManagement"&&m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"ユーザー管理"}),m.jsxs("table",{className:"w-full bg-white shadow rounded",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"ID"}),m.jsx("th",{children:"ユーザー名"}),m.jsx("th",{children:"メール"}),m.jsx("th",{children:"タイプ"}),m.jsx("th",{children:"組織"}),m.jsx("th",{children:"操作"})]})}),m.jsx("tbody",{children:t.map(le=>m.jsxs("tr",{children:[m.jsx("td",{children:le.id}),m.jsx("td",{children:le.username}),m.jsx("td",{children:le.email}),m.jsx("td",{children:le.user_type}),m.jsx("td",{children:le.org}),m.jsx("td",{children:m.jsx("button",{onClick:()=>ce(le.id),className:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600",children:"削除"})})]},le.id))})]})]}),$==="createUser"&&m.jsxs("div",{className:"mb-8",children:[m.jsx("h3",{className:"text-xl font-semibold mb-2",children:"新規ユーザー作成"}),m.jsxs("form",{onSubmit:Ce,className:"bg-white p-4 rounded shadow",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"メール"}),m.jsx("input",{type:"email",value:b,onChange:le=>P(le.target.value),className:"w-full px-3 py-2 border rounded",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"パスワード"}),m.jsx("input",{type:"password",value:C,onChange:le=>A(le.target.value),className:"w-full px-3 py-2 border rounded",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"ユーザータイプ"}),m.jsxs("select",{value:k,onChange:le=>O(le.target.value),className:"w-full px-3 py-2 border rounded",children:[m.jsx("option",{value:"company",children:"企業"}),m.jsx("option",{value:"city",children:"市"})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"組織"}),m.jsxs("select",{value:M,onChange:le=>F(le.target.value),className:"w-full px-3 py-2 border rounded",children:[m.jsx("option",{value:"",children:"選択してください"}),r.map(le=>m.jsx("option",{value:le.id,children:le.name},le.id))]})]}),m.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"ユーザーを作成"})]})]}),$==="orgManagement"&&m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"組織管理"}),m.jsxs("table",{className:"w-full bg-white shadow rounded",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"ID"}),m.jsx("th",{children:"名前"}),m.jsx("th",{children:"タイプ"}),m.jsx("th",{children:"操作"})]})}),m.jsx("tbody",{children:r.map(le=>m.jsxs("tr",{children:[m.jsx("td",{children:le.id}),m.jsx("td",{children:le.name}),m.jsx("td",{children:le.type}),m.jsx("td",{children:m.jsx("button",{onClick:()=>Re(le.id),className:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600",children:"削除"})})]},le.id))})]})]}),$==="createOrg"&&m.jsxs("div",{className:"mb-8",children:[m.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2",children:"新規組織作成"}),m.jsxs("form",{onSubmit:ee,className:"bg-white p-4 rounded shadow",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"組織名"}),m.jsx("input",{type:"text",value:g,onChange:le=>v(le.target.value),className:"w-full px-3 py-2 border rounded",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"組織タイプ"}),m.jsxs("select",{value:y,onChange:le=>x(le.target.value),className:"w-full px-3 py-2 border rounded",children:[m.jsx("option",{value:"company",children:"企業"}),m.jsx("option",{value:"city",children:"市"})]})]}),m.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"組織を作成"})]})]}),$==="reportManagement"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"レポート管理"}),m.jsxs("table",{className:"w-full bg-white shadow rounded",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"ID"}),m.jsx("th",{children:"タイトル"}),m.jsx("th",{children:"ステータス"}),m.jsx("th",{children:"作成日"}),m.jsx("th",{children:"操作"})]})}),m.jsx("tbody",{children:s.map(le=>m.jsxs("tr",{children:[m.jsx("td",{children:le.id}),m.jsx("td",{children:le.title}),m.jsx("td",{children:m.jsx("span",{className:le.status==="new"?"status-new":le.status==="resolved"?"status-resolved":le.status==="ignored"?"status-ignored":"status-shared",children:le.status})}),m.jsx("td",{children:new Date(le.created_at).toLocaleDateString()}),m.jsx("td",{children:m.jsx("button",{onClick:()=>$e(le.id),className:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600",children:"削除"})})]},le.id))})]})]})]}),m.jsx(qs,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}var xj=Object.defineProperty,Sj=(e,t,n)=>t in e?xj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hg=(e,t,n)=>(Sj(e,typeof t!="symbol"?t+"":t,n),n);let Lj=class{constructor(){Hg(this,"current",this.detect()),Hg(this,"handoffState","pending"),Hg(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},$s=new Lj,Ur=(e,t)=>{$s.isServer?T.useEffect(e,t):T.useLayoutEffect(e,t)};function Us(e){let t=T.useRef(e);return Ur(()=>{t.current=e},[e]),t}let Wt=function(e){let t=Us(e);return Ee.useCallback((...n)=>t.current(...n),[t])};function Ap(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function il(){let e=[],t={addEventListener(n,r,o,s){return n.addEventListener(r,o,s),t.add(()=>n.removeEventListener(r,o,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Ap(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=il();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function $y(){let[e]=T.useState(il);return T.useEffect(()=>()=>e.dispose(),[e]),e}function bj(){let e=typeof document>"u";return"useSyncExternalStore"in mu?(t=>t.useSyncExternalStore)(mu)(()=>()=>{},()=>!1,()=>!e):!1}function Eu(){let e=bj(),[t,n]=T.useState($s.isHandoffComplete);return t&&$s.isHandoffComplete===!1&&n(!1),T.useEffect(()=>{t!==!0&&n(!0)},[t]),T.useEffect(()=>$s.handoff(),[]),e?!1:t}var j1;let Jo=(j1=Ee.useId)!=null?j1:function(){let e=Eu(),[t,n]=Ee.useState(e?()=>$s.nextId():null);return Ur(()=>{t===null&&n($s.nextId())},[t]),t!=null?""+t:void 0};function $n(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$n),r}function Uy(e){return $s.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let ov=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ja=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(ja||{}),Gb=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Gb||{}),Cj=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Cj||{});function kj(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ov)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Vb=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Vb||{});function Tj(e,t=0){var n;return e===((n=Uy(e))==null?void 0:n.body)?!1:$n(t,{0(){return e.matches(ov)},1(){let r=e;for(;r!==null;){if(r.matches(ov))return!0;r=r.parentElement}return!1}})}var Ej=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Ej||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ha(e){e==null||e.focus({preventScroll:!0})}let Pj=["textarea","input"].join(",");function Nj(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Pj))!=null?n:!1}function Oj(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),s=t(r);if(o===null||s===null)return 0;let l=o.compareDocumentPosition(s);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function xf(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?n?Oj(e):e:kj(e);o.length>0&&l.length>1&&(l=l.filter(b=>!o.includes(b))),r=r??s.activeElement;let d=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=t&32?{preventScroll:!0}:{},v=0,y=l.length,x;do{if(v>=y||v+y<=0)return 0;let b=h+v;if(t&16)b=(b+y)%y;else{if(b<0)return 3;if(b>=y)return 1}x=l[b],x==null||x.focus(g),v+=d}while(x!==s.activeElement);return t&6&&Nj(x)&&x.select(),2}function qb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Mj(){return/Android/gi.test(window.navigator.userAgent)}function Dj(){return qb()||Mj()}function Xh(e,t,n){let r=Us(t);T.useEffect(()=>{function o(s){r.current(s)}return document.addEventListener(e,o,n),()=>document.removeEventListener(e,o,n)},[e,n])}function Kb(e,t,n){let r=Us(t);T.useEffect(()=>{function o(s){r.current(s)}return window.addEventListener(e,o,n),()=>window.removeEventListener(e,o,n)},[e,n])}function Aj(e,t,n=!0){let r=T.useRef(!1);T.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function o(l,d){if(!r.current||l.defaultPrevented)return;let h=d(l);if(h===null||!h.getRootNode().contains(h)||!h.isConnected)return;let g=function v(y){return typeof y=="function"?v(y()):Array.isArray(y)||y instanceof Set?y:[y]}(e);for(let v of g){if(v===null)continue;let y=v instanceof HTMLElement?v:v.current;if(y!=null&&y.contains(h)||l.composed&&l.composedPath().includes(y))return}return!Tj(h,Vb.Loose)&&h.tabIndex!==-1&&l.preventDefault(),t(l,h)}let s=T.useRef(null);Xh("pointerdown",l=>{var d,h;r.current&&(s.current=((h=(d=l.composedPath)==null?void 0:d.call(l))==null?void 0:h[0])||l.target)},!0),Xh("mousedown",l=>{var d,h;r.current&&(s.current=((h=(d=l.composedPath)==null?void 0:d.call(l))==null?void 0:h[0])||l.target)},!0),Xh("click",l=>{Dj()||s.current&&(o(l,()=>s.current),s.current=null)},!0),Xh("touchend",l=>o(l,()=>l.target instanceof HTMLElement?l.target:null),!0),Kb("blur",l=>o(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Pd(...e){return T.useMemo(()=>Uy(...e),[...e])}function I1(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function jj(e,t){let[n,r]=T.useState(()=>I1(e));return Ur(()=>{r(I1(e))},[e.type,e.as]),Ur(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let Qb=Symbol();function Jb(e,t=!0){return Object.assign(e,{[Qb]:t})}function Wr(...e){let t=T.useRef(e);T.useEffect(()=>{t.current=e},[e]);let n=Wt(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Qb]))?void 0:n}function Wy(e,t){let n=T.useRef([]),r=Wt(e);T.useEffect(()=>{let o=[...n.current];for(let[s,l]of t.entries())if(n.current[s]!==l){let d=r(t,o);return n.current=t,d}},[r,...t])}function rp(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Lu=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Lu||{}),Ao=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ao||{});function Er({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:s=!0,name:l,mergeRefs:d}){d=d??Ij;let h=eC(t,e);if(s)return ef(h,n,r,l,d);let g=o??0;if(g&2){let{static:v=!1,...y}=h;if(v)return ef(y,n,r,l,d)}if(g&1){let{unmount:v=!0,...y}=h;return $n(v?0:1,{0(){return null},1(){return ef({...y,hidden:!0,style:{display:"none"}},n,r,l,d)}})}return ef(h,n,r,l,d)}function ef(e,t={},n,r,o){let{as:s=n,children:l,refName:d="ref",...h}=Yg(e,["unmount","static"]),g=e.ref!==void 0?{[d]:e.ref}:{},v=typeof l=="function"?l(t):l;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(t));let y={};if(t){let x=!1,b=[];for(let[P,C]of Object.entries(t))typeof C=="boolean"&&(x=!0),C===!0&&b.push(P);x&&(y["data-headlessui-state"]=b.join(" "))}if(s===T.Fragment&&Object.keys(R1(h)).length>0){if(!T.isValidElement(v)||Array.isArray(v)&&v.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(h).map(C=>`  - ${C}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(C=>`  - ${C}`).join(`
`)].join(`
`));let x=v.props,b=typeof(x==null?void 0:x.className)=="function"?(...C)=>rp(x==null?void 0:x.className(...C),h.className):rp(x==null?void 0:x.className,h.className),P=b?{className:b}:{};return T.cloneElement(v,Object.assign({},eC(v.props,R1(Yg(h,["ref"]))),y,g,{ref:o(v.ref,g.ref)},P))}return T.createElement(s,Object.assign({},Yg(h,["ref"]),s!==T.Fragment&&g,s!==T.Fragment&&y),v)}function Xb(){let e=T.useRef([]),t=T.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function Ij(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function eC(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](o,...s){let l=n[r];for(let d of l){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;d(o,...s)}}});return t}function fr(e){var t;return Object.assign(T.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function R1(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Yg(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let Rj="div";var ip=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ip||{});function Fj(e,t){var n;let{features:r=1,...o}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Er({ourProps:s,theirProps:o,slot:{},defaultTag:Rj,name:"Hidden"})}let av=fr(Fj),Zy=T.createContext(null);Zy.displayName="OpenClosedContext";var Jn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Jn||{});function jp(){return T.useContext(Zy)}function tC({value:e,children:t}){return Ee.createElement(Zy.Provider,{value:e},t)}function Bj(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Po=[];Bj(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Po[0]!==t.target&&(Po.unshift(t.target),Po=Po.filter(n=>n!=null&&n.isConnected),Po.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function nC(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&zj(n)?!1:r}function zj(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var Ia=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Ia||{});function rC(e,t,n,r){let o=Us(n);T.useEffect(()=>{e=e??window;function s(l){o.current(l)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function Nd(){let e=T.useRef(!1);return Ur(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function iC(e){let t=Wt(e),n=T.useRef(!1);T.useEffect(()=>(n.current=!1,()=>{n.current=!0,Ap(()=>{n.current&&t()})}),[t])}var jc=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(jc||{});function $j(){let e=T.useRef(0);return Kb("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function sC(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let Uj="div";var oC=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(oC||{});function Wj(e,t){let n=T.useRef(null),r=Wr(n,t),{initialFocus:o,containers:s,features:l=30,...d}=e;Eu()||(l=1);let h=Pd(n);Yj({ownerDocument:h},!!(l&16));let g=Gj({ownerDocument:h,container:n,initialFocus:o},!!(l&2));Vj({ownerDocument:h,container:n,containers:s,previousActiveElement:g},!!(l&8));let v=$j(),y=Wt(C=>{let A=n.current;A&&(k=>k())(()=>{$n(v.current,{[jc.Forwards]:()=>{xf(A,ja.First,{skipElements:[C.relatedTarget]})},[jc.Backwards]:()=>{xf(A,ja.Last,{skipElements:[C.relatedTarget]})}})})}),x=$y(),b=T.useRef(!1),P={ref:r,onKeyDown(C){C.key=="Tab"&&(b.current=!0,x.requestAnimationFrame(()=>{b.current=!1}))},onBlur(C){let A=sC(s);n.current instanceof HTMLElement&&A.add(n.current);let k=C.relatedTarget;k instanceof HTMLElement&&k.dataset.headlessuiFocusGuard!=="true"&&(aC(A,k)||(b.current?xf(n.current,$n(v.current,{[jc.Forwards]:()=>ja.Next,[jc.Backwards]:()=>ja.Previous})|ja.WrapAround,{relativeTo:C.target}):C.target instanceof HTMLElement&&Ha(C.target)))}};return Ee.createElement(Ee.Fragment,null,!!(l&4)&&Ee.createElement(av,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:ip.Focusable}),Er({ourProps:P,theirProps:d,defaultTag:Uj,name:"FocusTrap"}),!!(l&4)&&Ee.createElement(av,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:ip.Focusable}))}let Zj=fr(Wj),bc=Object.assign(Zj,{features:oC});function Hj(e=!0){let t=T.useRef(Po.slice());return Wy(([n],[r])=>{r===!0&&n===!1&&Ap(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Po.slice())},[e,Po,t]),Wt(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Yj({ownerDocument:e},t){let n=Hj(t);Wy(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Ha(n())},[t]),iC(()=>{t&&Ha(n())})}function Gj({ownerDocument:e,container:t,initialFocus:n},r){let o=T.useRef(null),s=Nd();return Wy(()=>{if(!r)return;let l=t.current;l&&Ap(()=>{if(!s.current)return;let d=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===d){o.current=d;return}}else if(l.contains(d)){o.current=d;return}n!=null&&n.current?Ha(n.current):xf(l,ja.First)===Gb.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=e==null?void 0:e.activeElement})},[r]),o}function Vj({ownerDocument:e,container:t,containers:n,previousActiveElement:r},o){let s=Nd();rC(e==null?void 0:e.defaultView,"focus",l=>{if(!o||!s.current)return;let d=sC(n);t.current instanceof HTMLElement&&d.add(t.current);let h=r.current;if(!h)return;let g=l.target;g&&g instanceof HTMLElement?aC(d,g)?(r.current=g,Ha(g)):(l.preventDefault(),l.stopPropagation(),Ha(h)):Ha(r.current)},!0)}function aC(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let lC=T.createContext(!1);function qj(){return T.useContext(lC)}function lv(e){return Ee.createElement(lC.Provider,{value:e.force},e.children)}function Kj(e){let t=qj(),n=T.useContext(uC),r=Pd(e),[o,s]=T.useState(()=>{if(!t&&n!==null||$s.isServer)return null;let l=r==null?void 0:r.getElementById("headlessui-portal-root");if(l)return l;if(r===null)return null;let d=r.createElement("div");return d.setAttribute("id","headlessui-portal-root"),r.body.appendChild(d)});return T.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),T.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),o}let Qj=T.Fragment;function Jj(e,t){let n=e,r=T.useRef(null),o=Wr(Jb(v=>{r.current=v}),t),s=Pd(r),l=Kj(r),[d]=T.useState(()=>{var v;return $s.isServer?null:(v=s==null?void 0:s.createElement("div"))!=null?v:null}),h=T.useContext(uv),g=Eu();return Ur(()=>{!l||!d||l.contains(d)||(d.setAttribute("data-headlessui-portal",""),l.appendChild(d))},[l,d]),Ur(()=>{if(d&&h)return h.register(d)},[h,d]),iC(()=>{var v;!l||!d||(d instanceof Node&&l.contains(d)&&l.removeChild(d),l.childNodes.length<=0&&((v=l.parentElement)==null||v.removeChild(l)))}),g?!l||!d?null:Pb.createPortal(Er({ourProps:{ref:o},theirProps:n,defaultTag:Qj,name:"Portal"}),d):null}let Xj=T.Fragment,uC=T.createContext(null);function eI(e,t){let{target:n,...r}=e,o={ref:Wr(t)};return Ee.createElement(uC.Provider,{value:n},Er({ourProps:o,theirProps:r,defaultTag:Xj,name:"Popover.Group"}))}let uv=T.createContext(null);function tI(){let e=T.useContext(uv),t=T.useRef([]),n=Wt(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=Wt(s=>{let l=t.current.indexOf(s);l!==-1&&t.current.splice(l,1),e&&e.unregister(s)}),o=T.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,T.useMemo(()=>function({children:s}){return Ee.createElement(uv.Provider,{value:o},s)},[o])]}let nI=fr(Jj),rI=fr(eI),cv=Object.assign(nI,{Group:rI});function iI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const sI=typeof Object.is=="function"?Object.is:iI,{useState:oI,useEffect:aI,useLayoutEffect:lI,useDebugValue:uI}=mu;function cI(e,t,n){const r=t(),[{inst:o},s]=oI({inst:{value:r,getSnapshot:t}});return lI(()=>{o.value=r,o.getSnapshot=t,Gg(o)&&s({inst:o})},[e,r,t]),aI(()=>(Gg(o)&&s({inst:o}),e(()=>{Gg(o)&&s({inst:o})})),[e]),uI(r),r}function Gg(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!sI(n,r)}catch{return!0}}function dI(e,t,n){return t()}const hI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fI=!hI,pI=fI?dI:cI,mI="useSyncExternalStore"in mu?(e=>e.useSyncExternalStore)(mu):pI;function gI(e){return mI(e.subscribe,e.getSnapshot,e.getSnapshot)}function _I(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...s){let l=t[o].call(n,...s);l&&(n=l,r.forEach(d=>d()))}}}function vI(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,o=r.clientWidth-r.offsetWidth,s=e-o;n.style(r,"paddingRight",`${s}px`)}}}function yI(){return qb()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(s=>s()).some(s=>s.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let d=il();d.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>d.dispose()))}let s=(o=window.scrollY)!=null?o:window.pageYOffset,l=null;t.addEventListener(e,"click",d=>{if(d.target instanceof HTMLElement)try{let h=d.target.closest("a");if(!h)return;let{hash:g}=new URL(h.href),v=e.querySelector(g);v&&!r(v)&&(l=v)}catch{}},!0),t.addEventListener(e,"touchstart",d=>{if(d.target instanceof HTMLElement)if(r(d.target)){let h=d.target;for(;h.parentElement&&r(h.parentElement);)h=h.parentElement;t.style(h,"overscrollBehavior","contain")}else t.style(d.target,"touchAction","none")}),t.addEventListener(e,"touchmove",d=>{if(d.target instanceof HTMLElement)if(r(d.target)){let h=d.target;for(;h.parentElement&&h.dataset.headlessuiPortal!==""&&!(h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth);)h=h.parentElement;h.dataset.headlessuiPortal===""&&d.preventDefault()}else d.preventDefault()},{passive:!1}),t.add(()=>{var d;let h=(d=window.scrollY)!=null?d:window.pageYOffset;s!==h&&window.scrollTo(0,s),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function wI(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function xI(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let za=_I(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:il(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:xI(n)},o=[yI(),vI(),wI()];o.forEach(({before:s})=>s==null?void 0:s(r)),o.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});za.subscribe(()=>{let e=za.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&za.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&za.dispatch("TEARDOWN",n)}});function SI(e,t,n){let r=gI(za),o=e?r.get(e):void 0,s=o?o.count>0:!1;return Ur(()=>{if(!(!e||!t))return za.dispatch("PUSH",e,n),()=>za.dispatch("POP",e,n)},[t,e]),s}let Vg=new Map,Cc=new Map;function F1(e,t=!0){Ur(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function o(){var l;if(!r)return;let d=(l=Cc.get(r))!=null?l:1;if(d===1?Cc.delete(r):Cc.set(r,d-1),d!==1)return;let h=Vg.get(r);h&&(h["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",h["aria-hidden"]),r.inert=h.inert,Vg.delete(r))}let s=(n=Cc.get(r))!=null?n:0;return Cc.set(r,s+1),s!==0||(Vg.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),o},[e,t])}function LI({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let o=T.useRef((r=n==null?void 0:n.current)!=null?r:null),s=Pd(o),l=Wt(()=>{var d,h,g;let v=[];for(let y of e)y!==null&&(y instanceof HTMLElement?v.push(y):"current"in y&&y.current instanceof HTMLElement&&v.push(y.current));if(t!=null&&t.current)for(let y of t.current)v.push(y);for(let y of(d=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?d:[])y!==document.body&&y!==document.head&&y instanceof HTMLElement&&y.id!=="headlessui-portal-root"&&(y.contains(o.current)||y.contains((g=(h=o.current)==null?void 0:h.getRootNode())==null?void 0:g.host)||v.some(x=>y.contains(x))||v.push(y));return v});return{resolveContainers:l,contains:Wt(d=>l().some(h=>h.contains(d))),mainTreeNodeRef:o,MainTreeNode:T.useMemo(()=>function(){return n!=null?null:Ee.createElement(av,{features:ip.Hidden,ref:o})},[o,n])}}let Hy=T.createContext(()=>{});Hy.displayName="StackContext";var dv=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(dv||{});function bI(){return T.useContext(Hy)}function CI({children:e,onUpdate:t,type:n,element:r,enabled:o}){let s=bI(),l=Wt((...d)=>{t==null||t(...d),s(...d)});return Ur(()=>{let d=o===void 0||o===!0;return d&&l(0,n,r),()=>{d&&l(1,n,r)}},[l,n,r,o]),Ee.createElement(Hy.Provider,{value:l},e)}let cC=T.createContext(null);function dC(){let e=T.useContext(cC);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,dC),t}return e}function kI(){let[e,t]=T.useState([]);return[e.length>0?e.join(" "):void 0,T.useMemo(()=>function(n){let r=Wt(s=>(t(l=>[...l,s]),()=>t(l=>{let d=l.slice(),h=d.indexOf(s);return h!==-1&&d.splice(h,1),d}))),o=T.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return Ee.createElement(cC.Provider,{value:o},n.children)},[t])]}let TI="p";function EI(e,t){let n=Jo(),{id:r=`headlessui-description-${n}`,...o}=e,s=dC(),l=Wr(t);Ur(()=>s.register(r),[r,s.register]);let d={ref:l,...s.props,id:r};return Er({ourProps:d,theirProps:o,slot:s.slot||{},defaultTag:TI,name:s.name||"Description"})}let PI=fr(EI),NI=Object.assign(PI,{});var OI=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(OI||{}),MI=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(MI||{});let DI={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},sp=T.createContext(null);sp.displayName="DialogContext";function Od(e){let t=T.useContext(sp);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Od),n}return t}function AI(e,t,n=()=>[document.body]){SI(e,t,r=>{var o;return{containers:[...(o=r.containers)!=null?o:[],n]}})}function jI(e,t){return $n(t.type,DI,e,t)}let II="div",RI=Lu.RenderStrategy|Lu.Static;function FI(e,t){let n=Jo(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:s,initialFocus:l,role:d="dialog",__demoMode:h=!1,...g}=e,[v,y]=T.useState(0),x=T.useRef(!1);d=function(){return d==="dialog"||d==="alertdialog"?d:(x.current||(x.current=!0,console.warn(`Invalid role [${d}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let b=jp();o===void 0&&b!==null&&(o=(b&Jn.Open)===Jn.Open);let P=T.useRef(null),C=Wr(P,t),A=Pd(P),k=e.hasOwnProperty("open")||b!==null,O=e.hasOwnProperty("onClose");if(!k&&!O)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!k)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!O)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof o!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let M=o?0:1,[F,$]=T.useReducer(jI,{titleId:null,descriptionId:null,panelRef:T.createRef()}),Q=Wt(()=>s(!1)),ie=Wt(ot=>$({type:0,id:ot})),ee=Eu()?h?!1:M===0:!1,Ce=v>1,ce=T.useContext(sp)!==null,[Re,$e]=tI(),le={get current(){var ot;return(ot=F.panelRef.current)!=null?ot:P.current}},{resolveContainers:me,mainTreeNodeRef:ze,MainTreeNode:be}=LI({portals:Re,defaultContainers:[le]}),Ke=Ce?"parent":"leaf",G=b!==null?(b&Jn.Closing)===Jn.Closing:!1,ye=ce||G?!1:ee,X=T.useCallback(()=>{var ot,Et;return(Et=Array.from((ot=A==null?void 0:A.querySelectorAll("body > *"))!=null?ot:[]).find(mt=>mt.id==="headlessui-portal-root"?!1:mt.contains(ze.current)&&mt instanceof HTMLElement))!=null?Et:null},[ze]);F1(X,ye);let ge=Ce?!0:ee,De=T.useCallback(()=>{var ot,Et;return(Et=Array.from((ot=A==null?void 0:A.querySelectorAll("[data-headlessui-portal]"))!=null?ot:[]).find(mt=>mt.contains(ze.current)&&mt instanceof HTMLElement))!=null?Et:null},[ze]);F1(De,ge),Aj(me,ot=>{ot.preventDefault(),Q()},!(!ee||Ce));let Ue=!(Ce||M!==0);rC(A==null?void 0:A.defaultView,"keydown",ot=>{Ue&&(ot.defaultPrevented||ot.key===Ia.Escape&&(ot.preventDefault(),ot.stopPropagation(),Q()))}),AI(A,!(G||M!==0||ce),me),T.useEffect(()=>{if(M!==0||!P.current)return;let ot=new ResizeObserver(Et=>{for(let mt of Et){let Ye=mt.target.getBoundingClientRect();Ye.x===0&&Ye.y===0&&Ye.width===0&&Ye.height===0&&Q()}});return ot.observe(P.current),()=>ot.disconnect()},[M,P,Q]);let[Se,vt]=kI(),St=T.useMemo(()=>[{dialogState:M,close:Q,setTitleId:ie},F],[M,F,Q,ie]),jt=T.useMemo(()=>({open:M===0}),[M]),yn={ref:C,id:r,role:d,"aria-modal":M===0?!0:void 0,"aria-labelledby":F.titleId,"aria-describedby":Se};return Ee.createElement(CI,{type:"Dialog",enabled:M===0,element:P,onUpdate:Wt((ot,Et)=>{Et==="Dialog"&&$n(ot,{[dv.Add]:()=>y(mt=>mt+1),[dv.Remove]:()=>y(mt=>mt-1)})})},Ee.createElement(lv,{force:!0},Ee.createElement(cv,null,Ee.createElement(sp.Provider,{value:St},Ee.createElement(cv.Group,{target:P},Ee.createElement(lv,{force:!1},Ee.createElement(vt,{slot:jt,name:"Dialog.Description"},Ee.createElement(bc,{initialFocus:l,containers:me,features:ee?$n(Ke,{parent:bc.features.RestoreFocus,leaf:bc.features.All&~bc.features.FocusLock}):bc.features.None},Ee.createElement($e,null,Er({ourProps:yn,theirProps:g,slot:jt,defaultTag:II,features:RI,visible:M===0,name:"Dialog"}))))))))),Ee.createElement(be,null))}let BI="div";function zI(e,t){let n=Jo(),{id:r=`headlessui-dialog-overlay-${n}`,...o}=e,[{dialogState:s,close:l}]=Od("Dialog.Overlay"),d=Wr(t),h=Wt(v=>{if(v.target===v.currentTarget){if(nC(v.currentTarget))return v.preventDefault();v.preventDefault(),v.stopPropagation(),l()}}),g=T.useMemo(()=>({open:s===0}),[s]);return Er({ourProps:{ref:d,id:r,"aria-hidden":!0,onClick:h},theirProps:o,slot:g,defaultTag:BI,name:"Dialog.Overlay"})}let $I="div";function UI(e,t){let n=Jo(),{id:r=`headlessui-dialog-backdrop-${n}`,...o}=e,[{dialogState:s},l]=Od("Dialog.Backdrop"),d=Wr(t);T.useEffect(()=>{if(l.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[l.panelRef]);let h=T.useMemo(()=>({open:s===0}),[s]);return Ee.createElement(lv,{force:!0},Ee.createElement(cv,null,Er({ourProps:{ref:d,id:r,"aria-hidden":!0},theirProps:o,slot:h,defaultTag:$I,name:"Dialog.Backdrop"})))}let WI="div";function ZI(e,t){let n=Jo(),{id:r=`headlessui-dialog-panel-${n}`,...o}=e,[{dialogState:s},l]=Od("Dialog.Panel"),d=Wr(t,l.panelRef),h=T.useMemo(()=>({open:s===0}),[s]),g=Wt(v=>{v.stopPropagation()});return Er({ourProps:{ref:d,id:r,onClick:g},theirProps:o,slot:h,defaultTag:WI,name:"Dialog.Panel"})}let HI="h2";function YI(e,t){let n=Jo(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:s,setTitleId:l}]=Od("Dialog.Title"),d=Wr(t);T.useEffect(()=>(l(r),()=>l(null)),[r,l]);let h=T.useMemo(()=>({open:s===0}),[s]);return Er({ourProps:{ref:d,id:r},theirProps:o,slot:h,defaultTag:HI,name:"Dialog.Title"})}let GI=fr(FI),VI=fr(UI),qI=fr(ZI),KI=fr(zI),QI=fr(YI),Pn=Object.assign(GI,{Backdrop:VI,Panel:qI,Overlay:KI,Title:QI,Description:NI});var B1;let JI=(B1=Ee.startTransition)!=null?B1:function(e){e()};var XI=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(XI||{}),eR=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(eR||{});let tR={0:e=>({...e,disclosureState:$n(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Yy=T.createContext(null);Yy.displayName="DisclosureContext";function Gy(e){let t=T.useContext(Yy);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Gy),n}return t}let Vy=T.createContext(null);Vy.displayName="DisclosureAPIContext";function hC(e){let t=T.useContext(Vy);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,hC),n}return t}let qy=T.createContext(null);qy.displayName="DisclosurePanelContext";function nR(){return T.useContext(qy)}function rR(e,t){return $n(t.type,tR,e,t)}let iR=T.Fragment;function sR(e,t){let{defaultOpen:n=!1,...r}=e,o=T.useRef(null),s=Wr(t,Jb(A=>{o.current=A},e.as===void 0||e.as===T.Fragment)),l=T.useRef(null),d=T.useRef(null),h=T.useReducer(rR,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:d,panelRef:l,buttonId:null,panelId:null}),[{disclosureState:g,buttonId:v},y]=h,x=Wt(A=>{y({type:1});let k=Uy(o);if(!k||!v)return;let O=A?A instanceof HTMLElement?A:A.current instanceof HTMLElement?A.current:k.getElementById(v):k.getElementById(v);O==null||O.focus()}),b=T.useMemo(()=>({close:x}),[x]),P=T.useMemo(()=>({open:g===0,close:x}),[g,x]),C={ref:s};return Ee.createElement(Yy.Provider,{value:h},Ee.createElement(Vy.Provider,{value:b},Ee.createElement(tC,{value:$n(g,{0:Jn.Open,1:Jn.Closed})},Er({ourProps:C,theirProps:r,slot:P,defaultTag:iR,name:"Disclosure"}))))}let oR="button";function aR(e,t){let n=Jo(),{id:r=`headlessui-disclosure-button-${n}`,...o}=e,[s,l]=Gy("Disclosure.Button"),d=nR(),h=d===null?!1:d===s.panelId,g=T.useRef(null),v=Wr(g,t,h?null:s.buttonRef),y=Xb();T.useEffect(()=>{if(!h)return l({type:2,buttonId:r}),()=>{l({type:2,buttonId:null})}},[r,l,h]);let x=Wt(O=>{var M;if(h){if(s.disclosureState===1)return;switch(O.key){case Ia.Space:case Ia.Enter:O.preventDefault(),O.stopPropagation(),l({type:0}),(M=s.buttonRef.current)==null||M.focus();break}}else switch(O.key){case Ia.Space:case Ia.Enter:O.preventDefault(),O.stopPropagation(),l({type:0});break}}),b=Wt(O=>{switch(O.key){case Ia.Space:O.preventDefault();break}}),P=Wt(O=>{var M;nC(O.currentTarget)||e.disabled||(h?(l({type:0}),(M=s.buttonRef.current)==null||M.focus()):l({type:0}))}),C=T.useMemo(()=>({open:s.disclosureState===0}),[s]),A=jj(e,g),k=h?{ref:v,type:A,onKeyDown:x,onClick:P}:{ref:v,id:r,type:A,"aria-expanded":s.disclosureState===0,"aria-controls":s.linkedPanel?s.panelId:void 0,onKeyDown:x,onKeyUp:b,onClick:P};return Er({mergeRefs:y,ourProps:k,theirProps:o,slot:C,defaultTag:oR,name:"Disclosure.Button"})}let lR="div",uR=Lu.RenderStrategy|Lu.Static;function cR(e,t){let n=Jo(),{id:r=`headlessui-disclosure-panel-${n}`,...o}=e,[s,l]=Gy("Disclosure.Panel"),{close:d}=hC("Disclosure.Panel"),h=Xb(),g=Wr(t,s.panelRef,P=>{JI(()=>l({type:P?4:5}))});T.useEffect(()=>(l({type:3,panelId:r}),()=>{l({type:3,panelId:null})}),[r,l]);let v=jp(),y=v!==null?(v&Jn.Open)===Jn.Open:s.disclosureState===0,x=T.useMemo(()=>({open:s.disclosureState===0,close:d}),[s,d]),b={ref:g,id:r};return Ee.createElement(qy.Provider,{value:s.panelId},Er({mergeRefs:h,ourProps:b,theirProps:o,slot:x,defaultTag:lR,features:uR,visible:y,name:"Disclosure.Panel"}))}let dR=fr(sR),hR=fr(aR),fR=fr(cR),cu=Object.assign(dR,{Button:hR,Panel:fR});function pR(e=0){let[t,n]=T.useState(e),r=Nd(),o=T.useCallback(h=>{r.current&&n(g=>g|h)},[t,r]),s=T.useCallback(h=>!!(t&h),[t]),l=T.useCallback(h=>{r.current&&n(g=>g&~h)},[n,r]),d=T.useCallback(h=>{r.current&&n(g=>g^h)},[n]);return{flags:t,addFlag:o,hasFlag:s,removeFlag:l,toggleFlag:d}}function mR(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function qg(e,...t){e&&t.length>0&&e.classList.add(...t)}function Kg(e,...t){e&&t.length>0&&e.classList.remove(...t)}function gR(e,t){let n=il();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(e),[s,l]=[r,o].map(h=>{let[g=0]=h.split(",").filter(Boolean).map(v=>v.includes("ms")?parseFloat(v):parseFloat(v)*1e3).sort((v,y)=>y-v);return g}),d=s+l;if(d!==0){n.group(g=>{g.setTimeout(()=>{t(),g.dispose()},d),g.addEventListener(e,"transitionrun",v=>{v.target===v.currentTarget&&g.dispose()})});let h=n.addEventListener(e,"transitionend",g=>{g.target===g.currentTarget&&(t(),h())})}else t();return n.add(()=>t()),n.dispose}function _R(e,t,n,r){let o=n?"enter":"leave",s=il(),l=r!==void 0?mR(r):()=>{};o==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let d=$n(o,{enter:()=>t.enter,leave:()=>t.leave}),h=$n(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),g=$n(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Kg(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),qg(e,...t.base,...d,...g),s.nextFrame(()=>{Kg(e,...t.base,...d,...g),qg(e,...t.base,...d,...h),gR(e,()=>(Kg(e,...t.base,...d),qg(e,...t.base,...t.entered),l()))}),s.dispose}function vR({immediate:e,container:t,direction:n,classes:r,onStart:o,onStop:s}){let l=Nd(),d=$y(),h=Us(n);Ur(()=>{e&&(h.current="enter")},[e]),Ur(()=>{let g=il();d.add(g.dispose);let v=t.current;if(v&&h.current!=="idle"&&l.current)return g.dispose(),o.current(h.current),g.add(_R(v,r.current,h.current==="enter",()=>{g.dispose(),s.current(h.current)})),g.dispose},[n])}function bo(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Ip=T.createContext(null);Ip.displayName="TransitionContext";var yR=(e=>(e.Visible="visible",e.Hidden="hidden",e))(yR||{});function wR(){let e=T.useContext(Ip);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function xR(){let e=T.useContext(Rp);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Rp=T.createContext(null);Rp.displayName="NestingContext";function Fp(e){return"children"in e?Fp(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function fC(e,t){let n=Us(e),r=T.useRef([]),o=Nd(),s=$y(),l=Wt((b,P=Ao.Hidden)=>{let C=r.current.findIndex(({el:A})=>A===b);C!==-1&&($n(P,{[Ao.Unmount](){r.current.splice(C,1)},[Ao.Hidden](){r.current[C].state="hidden"}}),s.microTask(()=>{var A;!Fp(r)&&o.current&&((A=n.current)==null||A.call(n))}))}),d=Wt(b=>{let P=r.current.find(({el:C})=>C===b);return P?P.state!=="visible"&&(P.state="visible"):r.current.push({el:b,state:"visible"}),()=>l(b,Ao.Unmount)}),h=T.useRef([]),g=T.useRef(Promise.resolve()),v=T.useRef({enter:[],leave:[],idle:[]}),y=Wt((b,P,C)=>{h.current.splice(0),t&&(t.chains.current[P]=t.chains.current[P].filter(([A])=>A!==b)),t==null||t.chains.current[P].push([b,new Promise(A=>{h.current.push(A)})]),t==null||t.chains.current[P].push([b,new Promise(A=>{Promise.all(v.current[P].map(([k,O])=>O)).then(()=>A())})]),P==="enter"?g.current=g.current.then(()=>t==null?void 0:t.wait.current).then(()=>C(P)):C(P)}),x=Wt((b,P,C)=>{Promise.all(v.current[P].splice(0).map(([A,k])=>k)).then(()=>{var A;(A=h.current.shift())==null||A()}).then(()=>C(P))});return T.useMemo(()=>({children:r,register:d,unregister:l,onStart:y,onStop:x,wait:g,chains:v}),[d,l,r,y,x,v,g])}function SR(){}let LR=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function z1(e){var t;let n={};for(let r of LR)n[r]=(t=e[r])!=null?t:SR;return n}function bR(e){let t=T.useRef(z1(e));return T.useEffect(()=>{t.current=z1(e)},[e]),t}let CR="div",pC=Lu.RenderStrategy;function kR(e,t){var n,r;let{beforeEnter:o,afterEnter:s,beforeLeave:l,afterLeave:d,enter:h,enterFrom:g,enterTo:v,entered:y,leave:x,leaveFrom:b,leaveTo:P,...C}=e,A=T.useRef(null),k=Wr(A,t),O=(n=C.unmount)==null||n?Ao.Unmount:Ao.Hidden,{show:M,appear:F,initial:$}=wR(),[Q,ie]=T.useState(M?"visible":"hidden"),ee=xR(),{register:Ce,unregister:ce}=ee;T.useEffect(()=>Ce(A),[Ce,A]),T.useEffect(()=>{if(O===Ao.Hidden&&A.current){if(M&&Q!=="visible"){ie("visible");return}return $n(Q,{hidden:()=>ce(A),visible:()=>Ce(A)})}},[Q,A,Ce,ce,M,O]);let Re=Us({base:bo(C.className),enter:bo(h),enterFrom:bo(g),enterTo:bo(v),entered:bo(y),leave:bo(x),leaveFrom:bo(b),leaveTo:bo(P)}),$e=bR({beforeEnter:o,afterEnter:s,beforeLeave:l,afterLeave:d}),le=Eu();T.useEffect(()=>{if(le&&Q==="visible"&&A.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[A,Q,le]);let me=$&&!F,ze=F&&M&&$,be=!le||me?"idle":M?"enter":"leave",Ke=pR(0),G=Wt(Ue=>$n(Ue,{enter:()=>{Ke.addFlag(Jn.Opening),$e.current.beforeEnter()},leave:()=>{Ke.addFlag(Jn.Closing),$e.current.beforeLeave()},idle:()=>{}})),ye=Wt(Ue=>$n(Ue,{enter:()=>{Ke.removeFlag(Jn.Opening),$e.current.afterEnter()},leave:()=>{Ke.removeFlag(Jn.Closing),$e.current.afterLeave()},idle:()=>{}})),X=fC(()=>{ie("hidden"),ce(A)},ee),ge=T.useRef(!1);vR({immediate:ze,container:A,classes:Re,direction:be,onStart:Us(Ue=>{ge.current=!0,X.onStart(A,Ue,G)}),onStop:Us(Ue=>{ge.current=!1,X.onStop(A,Ue,ye),Ue==="leave"&&!Fp(X)&&(ie("hidden"),ce(A))})});let De=C,Qe={ref:k};return ze?De={...De,className:rp(C.className,...Re.current.enter,...Re.current.enterFrom)}:ge.current&&(De.className=rp(C.className,(r=A.current)==null?void 0:r.className),De.className===""&&delete De.className),Ee.createElement(Rp.Provider,{value:X},Ee.createElement(tC,{value:$n(Q,{visible:Jn.Open,hidden:Jn.Closed})|Ke.flags},Er({ourProps:Qe,theirProps:De,defaultTag:CR,features:pC,visible:Q==="visible",name:"Transition.Child"})))}function TR(e,t){let{show:n,appear:r=!1,unmount:o=!0,...s}=e,l=T.useRef(null),d=Wr(l,t);Eu();let h=jp();if(n===void 0&&h!==null&&(n=(h&Jn.Open)===Jn.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[g,v]=T.useState(n?"visible":"hidden"),y=fC(()=>{v("hidden")}),[x,b]=T.useState(!0),P=T.useRef([n]);Ur(()=>{x!==!1&&P.current[P.current.length-1]!==n&&(P.current.push(n),b(!1))},[P,n]);let C=T.useMemo(()=>({show:n,appear:r,initial:x}),[n,r,x]);T.useEffect(()=>{if(n)v("visible");else if(!Fp(y))v("hidden");else{let M=l.current;if(!M)return;let F=M.getBoundingClientRect();F.x===0&&F.y===0&&F.width===0&&F.height===0&&v("hidden")}},[n,y]);let A={unmount:o},k=Wt(()=>{var M;x&&b(!1),(M=e.beforeEnter)==null||M.call(e)}),O=Wt(()=>{var M;x&&b(!1),(M=e.beforeLeave)==null||M.call(e)});return Ee.createElement(Rp.Provider,{value:y},Ee.createElement(Ip.Provider,{value:C},Er({ourProps:{...A,as:T.Fragment,children:Ee.createElement(mC,{ref:d,...A,...s,beforeEnter:k,beforeLeave:O})},theirProps:{},defaultTag:T.Fragment,features:pC,visible:g==="visible",name:"Transition"})))}function ER(e,t){let n=T.useContext(Ip)!==null,r=jp()!==null;return Ee.createElement(Ee.Fragment,null,!n&&r?Ee.createElement(hv,{ref:t,...e}):Ee.createElement(mC,{ref:t,...e}))}let hv=fr(TR),mC=fr(kR),PR=fr(ER),Nn=Object.assign(hv,{Child:PR,Root:hv});var fv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Xn,function(n){var r="1.9.4";function o(i){var u,f,_,S;for(f=1,_=arguments.length;f<_;f++){S=arguments[f];for(u in S)i[u]=S[u]}return i}var s=Object.create||function(){function i(){}return function(u){return i.prototype=u,new i}}();function l(i,u){var f=Array.prototype.slice;if(i.bind)return i.bind.apply(i,f.call(arguments,1));var _=f.call(arguments,2);return function(){return i.apply(u,_.length?_.concat(f.call(arguments)):arguments)}}var d=0;function h(i){return"_leaflet_id"in i||(i._leaflet_id=++d),i._leaflet_id}function g(i,u,f){var _,S,N,R;return R=function(){_=!1,S&&(N.apply(f,S),S=!1)},N=function(){_?S=arguments:(i.apply(f,arguments),setTimeout(R,u),_=!0)},N}function v(i,u,f){var _=u[1],S=u[0],N=_-S;return i===_&&f?i:((i-S)%N+N)%N+S}function y(){return!1}function x(i,u){if(u===!1)return i;var f=Math.pow(10,u===void 0?6:u);return Math.round(i*f)/f}function b(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function P(i){return b(i).split(/\s+/)}function C(i,u){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?s(i.options):{});for(var f in u)i.options[f]=u[f];return i.options}function A(i,u,f){var _=[];for(var S in i)_.push(encodeURIComponent(f?S.toUpperCase():S)+"="+encodeURIComponent(i[S]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function O(i,u){return i.replace(k,function(f,_){var S=u[_];if(S===void 0)throw new Error("No value provided for variable "+f);return typeof S=="function"&&(S=S(u)),S})}var M=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function F(i,u){for(var f=0;f<i.length;f++)if(i[f]===u)return f;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Q(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var ie=0;function ee(i){var u=+new Date,f=Math.max(0,16-(u-ie));return ie=u+f,window.setTimeout(i,f)}var Ce=window.requestAnimationFrame||Q("RequestAnimationFrame")||ee,ce=window.cancelAnimationFrame||Q("CancelAnimationFrame")||Q("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Re(i,u,f){if(f&&Ce===ee)i.call(u);else return Ce.call(window,l(i,u))}function $e(i){i&&ce.call(window,i)}var le={__proto__:null,extend:o,create:s,bind:l,get lastId(){return d},stamp:h,throttle:g,wrapNum:v,falseFn:y,formatNum:x,trim:b,splitWords:P,setOptions:C,getParamString:A,template:O,isArray:M,indexOf:F,emptyImageUrl:$,requestFn:Ce,cancelFn:ce,requestAnimFrame:Re,cancelAnimFrame:$e};function me(){}me.extend=function(i){var u=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=u.__super__=this.prototype,_=s(f);_.constructor=u,u.prototype=_;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return i.statics&&o(u,i.statics),i.includes&&(ze(i.includes),o.apply(null,[_].concat(i.includes))),o(_,i),delete _.statics,delete _.includes,_.options&&(_.options=f.options?s(f.options):{},o(_.options,i.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,R=_._initHooks.length;N<R;N++)_._initHooks[N].call(this)}},u},me.include=function(i){var u=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=u,this.mergeOptions(i.options)),this},me.mergeOptions=function(i){return o(this.prototype.options,i),this},me.addInitHook=function(i){var u=Array.prototype.slice.call(arguments,1),f=typeof i=="function"?i:function(){this[i].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function ze(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=M(i)?i:[i];for(var u=0;u<i.length;u++)i[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var be={on:function(i,u,f){if(typeof i=="object")for(var _ in i)this._on(_,i[_],u);else{i=P(i);for(var S=0,N=i.length;S<N;S++)this._on(i[S],u,f)}return this},off:function(i,u,f){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var _ in i)this._off(_,i[_],u);else{i=P(i);for(var S=arguments.length===1,N=0,R=i.length;N<R;N++)S?this._off(i[N]):this._off(i[N],u,f)}return this},_on:function(i,u,f,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(i,u,f)===!1){f===this&&(f=void 0);var S={fn:u,ctx:f};_&&(S.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(S)}},_off:function(i,u,f){var _,S,N;if(this._events&&(_=this._events[i],!!_)){if(arguments.length===1){if(this._firingCount)for(S=0,N=_.length;S<N;S++)_[S].fn=y;delete this._events[i];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var R=this._listens(i,u,f);if(R!==!1){var Z=_[R];this._firingCount&&(Z.fn=y,this._events[i]=_=_.slice()),_.splice(R,1)}}},fire:function(i,u,f){if(!this.listens(i,f))return this;var _=o({},u,{type:i,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[i];if(S){this._firingCount=this._firingCount+1||1;for(var N=0,R=S.length;N<R;N++){var Z=S[N],Y=Z.fn;Z.once&&this.off(i,Y,Z.ctx),Y.call(Z.ctx||this,_)}this._firingCount--}}return f&&this._propagateEvent(_),this},listens:function(i,u,f,_){typeof i!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(_=!!u,S=void 0,f=void 0);var N=this._events&&this._events[i];if(N&&N.length&&this._listens(i,S,f)!==!1)return!0;if(_){for(var R in this._eventParents)if(this._eventParents[R].listens(i,u,f,_))return!0}return!1},_listens:function(i,u,f){if(!this._events)return!1;var _=this._events[i]||[];if(!u)return!!_.length;f===this&&(f=void 0);for(var S=0,N=_.length;S<N;S++)if(_[S].fn===u&&_[S].ctx===f)return S;return!1},once:function(i,u,f){if(typeof i=="object")for(var _ in i)this._on(_,i[_],u,!0);else{i=P(i);for(var S=0,N=i.length;S<N;S++)this._on(i[S],u,f,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[h(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[h(i)],this},_propagateEvent:function(i){for(var u in this._eventParents)this._eventParents[u].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};be.addEventListener=be.on,be.removeEventListener=be.clearAllEventListeners=be.off,be.addOneTimeEventListener=be.once,be.fireEvent=be.fire,be.hasEventListeners=be.listens;var Ke=me.extend(be);function G(i,u,f){this.x=f?Math.round(i):i,this.y=f?Math.round(u):u}var ye=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(i){return this.clone()._add(X(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(X(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new G(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new G(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ye(this.x),this.y=ye(this.y),this},distanceTo:function(i){i=X(i);var u=i.x-this.x,f=i.y-this.y;return Math.sqrt(u*u+f*f)},equals:function(i){return i=X(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=X(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function X(i,u,f){return i instanceof G?i:M(i)?new G(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new G(i.x,i.y):new G(i,u,f)}function ge(i,u){if(i)for(var f=u?[i,u]:i,_=0,S=f.length;_<S;_++)this.extend(f[_])}ge.prototype={extend:function(i){var u,f;if(!i)return this;if(i instanceof G||typeof i[0]=="number"||"x"in i)u=f=X(i);else if(i=De(i),u=i.min,f=i.max,!u||!f)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=f.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(i){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var u,f;return typeof i[0]=="number"||i instanceof G?i=X(i):i=De(i),i instanceof ge?(u=i.min,f=i.max):u=f=i,u.x>=this.min.x&&f.x<=this.max.x&&u.y>=this.min.y&&f.y<=this.max.y},intersects:function(i){i=De(i);var u=this.min,f=this.max,_=i.min,S=i.max,N=S.x>=u.x&&_.x<=f.x,R=S.y>=u.y&&_.y<=f.y;return N&&R},overlaps:function(i){i=De(i);var u=this.min,f=this.max,_=i.min,S=i.max,N=S.x>u.x&&_.x<f.x,R=S.y>u.y&&_.y<f.y;return N&&R},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var u=this.min,f=this.max,_=Math.abs(u.x-f.x)*i,S=Math.abs(u.y-f.y)*i;return De(X(u.x-_,u.y-S),X(f.x+_,f.y+S))},equals:function(i){return i?(i=De(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function De(i,u){return!i||i instanceof ge?i:new ge(i,u)}function Qe(i,u){if(i)for(var f=u?[i,u]:i,_=0,S=f.length;_<S;_++)this.extend(f[_])}Qe.prototype={extend:function(i){var u=this._southWest,f=this._northEast,_,S;if(i instanceof He)_=i,S=i;else if(i instanceof Qe){if(_=i._southWest,S=i._northEast,!_||!S)return this}else return i?this.extend(Se(i)||Ue(i)):this;return!u&&!f?(this._southWest=new He(_.lat,_.lng),this._northEast=new He(S.lat,S.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),f.lat=Math.max(S.lat,f.lat),f.lng=Math.max(S.lng,f.lng)),this},pad:function(i){var u=this._southWest,f=this._northEast,_=Math.abs(u.lat-f.lat)*i,S=Math.abs(u.lng-f.lng)*i;return new Qe(new He(u.lat-_,u.lng-S),new He(f.lat+_,f.lng+S))},getCenter:function(){return new He((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new He(this.getNorth(),this.getWest())},getSouthEast:function(){return new He(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof He||"lat"in i?i=Se(i):i=Ue(i);var u=this._southWest,f=this._northEast,_,S;return i instanceof Qe?(_=i.getSouthWest(),S=i.getNorthEast()):_=S=i,_.lat>=u.lat&&S.lat<=f.lat&&_.lng>=u.lng&&S.lng<=f.lng},intersects:function(i){i=Ue(i);var u=this._southWest,f=this._northEast,_=i.getSouthWest(),S=i.getNorthEast(),N=S.lat>=u.lat&&_.lat<=f.lat,R=S.lng>=u.lng&&_.lng<=f.lng;return N&&R},overlaps:function(i){i=Ue(i);var u=this._southWest,f=this._northEast,_=i.getSouthWest(),S=i.getNorthEast(),N=S.lat>u.lat&&_.lat<f.lat,R=S.lng>u.lng&&_.lng<f.lng;return N&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,u){return i?(i=Ue(i),this._southWest.equals(i.getSouthWest(),u)&&this._northEast.equals(i.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ue(i,u){return i instanceof Qe?i:new Qe(i,u)}function He(i,u,f){if(isNaN(i)||isNaN(u))throw new Error("Invalid LatLng object: ("+i+", "+u+")");this.lat=+i,this.lng=+u,f!==void 0&&(this.alt=+f)}He.prototype={equals:function(i,u){if(!i)return!1;i=Se(i);var f=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return f<=(u===void 0?1e-9:u)},toString:function(i){return"LatLng("+x(this.lat,i)+", "+x(this.lng,i)+")"},distanceTo:function(i){return St.distance(this,Se(i))},wrap:function(){return St.wrapLatLng(this)},toBounds:function(i){var u=180*i/40075017,f=u/Math.cos(Math.PI/180*this.lat);return Ue([this.lat-u,this.lng-f],[this.lat+u,this.lng+f])},clone:function(){return new He(this.lat,this.lng,this.alt)}};function Se(i,u,f){return i instanceof He?i:M(i)&&typeof i[0]!="object"?i.length===3?new He(i[0],i[1],i[2]):i.length===2?new He(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new He(i.lat,"lng"in i?i.lng:i.lon,i.alt):u===void 0?null:new He(i,u,f)}var vt={latLngToPoint:function(i,u){var f=this.projection.project(i),_=this.scale(u);return this.transformation._transform(f,_)},pointToLatLng:function(i,u){var f=this.scale(u),_=this.transformation.untransform(i,f);return this.projection.unproject(_)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var u=this.projection.bounds,f=this.scale(i),_=this.transformation.transform(u.min,f),S=this.transformation.transform(u.max,f);return new ge(_,S)},infinite:!1,wrapLatLng:function(i){var u=this.wrapLng?v(i.lng,this.wrapLng,!0):i.lng,f=this.wrapLat?v(i.lat,this.wrapLat,!0):i.lat,_=i.alt;return new He(f,u,_)},wrapLatLngBounds:function(i){var u=i.getCenter(),f=this.wrapLatLng(u),_=u.lat-f.lat,S=u.lng-f.lng;if(_===0&&S===0)return i;var N=i.getSouthWest(),R=i.getNorthEast(),Z=new He(N.lat-_,N.lng-S),Y=new He(R.lat-_,R.lng-S);return new Qe(Z,Y)}},St=o({},vt,{wrapLng:[-180,180],R:6371e3,distance:function(i,u){var f=Math.PI/180,_=i.lat*f,S=u.lat*f,N=Math.sin((u.lat-i.lat)*f/2),R=Math.sin((u.lng-i.lng)*f/2),Z=N*N+Math.cos(_)*Math.cos(S)*R*R,Y=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*Y}}),jt=6378137,yn={R:jt,MAX_LATITUDE:85.0511287798,project:function(i){var u=Math.PI/180,f=this.MAX_LATITUDE,_=Math.max(Math.min(f,i.lat),-f),S=Math.sin(_*u);return new G(this.R*i.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(i){var u=180/Math.PI;return new He((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*u,i.x*u/this.R)},bounds:function(){var i=jt*Math.PI;return new ge([-i,-i],[i,i])}()};function ot(i,u,f,_){if(M(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=u,this._c=f,this._d=_}ot.prototype={transform:function(i,u){return this._transform(i.clone(),u)},_transform:function(i,u){return u=u||1,i.x=u*(this._a*i.x+this._b),i.y=u*(this._c*i.y+this._d),i},untransform:function(i,u){return u=u||1,new G((i.x/u-this._b)/this._a,(i.y/u-this._d)/this._c)}};function Et(i,u,f,_){return new ot(i,u,f,_)}var mt=o({},St,{code:"EPSG:3857",projection:yn,transformation:function(){var i=.5/(Math.PI*yn.R);return Et(i,.5,-i,.5)}()}),Ye=o({},mt,{code:"EPSG:900913"});function Ln(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Me(i,u){var f="",_,S,N,R,Z,Y;for(_=0,N=i.length;_<N;_++){for(Z=i[_],S=0,R=Z.length;S<R;S++)Y=Z[S],f+=(S?"L":"M")+Y.x+" "+Y.y;f+=u?Te.svg?"z":"x":""}return f||"M0 0"}var Pt=document.documentElement.style,zt="ActiveXObject"in window,Zr=zt&&!document.addEventListener,fn="msLaunchUri"in navigator&&!("documentMode"in document),on=At("webkit"),Wn=At("android"),Zn=At("android 2")||At("android 3"),ii=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ht=Wn&&At("Google")&&ii<537&&!("AudioNode"in window),Pr=!!window.opera,te=!fn&&At("chrome"),pe=At("gecko")&&!on&&!Pr&&!zt,je=!te&&At("safari"),W=At("phantom"),q="OTransition"in Pt,J=navigator.platform.indexOf("Win")===0,de=zt&&"transition"in Pt,ke="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Zn,Ie="MozPerspective"in Pt,Lt=!window.L_DISABLE_3D&&(de||ke||Ie)&&!q&&!W,Ne=typeof orientation<"u"||At("mobile"),Dn=Ne&&on,It=Ne&&ke,Nt=!window.PointerEvent&&window.MSPointerEvent,ht=!!(window.PointerEvent||Nt),pr="ontouchstart"in window||!!window.TouchEvent,Jt=!window.L_NO_TOUCH&&(pr||ht),Xt=Ne&&Pr,Ci=Ne&&pe,H=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,oe=function(){var i=!1;try{var u=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",y,u),window.removeEventListener("testPassiveEventSupport",y,u)}catch{}return i}(),_e=function(){return!!document.createElement("canvas").getContext}(),Fe=!!(document.createElementNS&&Ln("svg").createSVGRect),Be=!!Fe&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),it=!Fe&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var u=i.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),$t=navigator.platform.indexOf("Mac")===0,bn=navigator.platform.indexOf("Linux")===0;function At(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Te={ie:zt,ielt9:Zr,edge:fn,webkit:on,android:Wn,android23:Zn,androidStock:Ht,opera:Pr,chrome:te,gecko:pe,safari:je,phantom:W,opera12:q,win:J,ie3d:de,webkit3d:ke,gecko3d:Ie,any3d:Lt,mobile:Ne,mobileWebkit:Dn,mobileWebkit3d:It,msPointer:Nt,pointer:ht,touch:Jt,touchNative:pr,mobileOpera:Xt,mobileGecko:Ci,retina:H,passiveEvents:oe,canvas:_e,svg:Fe,vml:it,inlineSvg:Be,mac:$t,linux:bn},ki=Te.msPointer?"MSPointerDown":"pointerdown",ll=Te.msPointer?"MSPointerMove":"pointermove",no=Te.msPointer?"MSPointerUp":"pointerup",ta=Te.msPointer?"MSPointerCancel":"pointercancel",na={touchstart:ki,touchmove:ll,touchend:no,touchcancel:ta},ul={touchstart:hl,touchmove:dl,touchend:dl,touchcancel:dl},Je={},Yt=!1;function an(i,u,f){return u==="touchstart"&&ro(),ul[u]?(f=ul[u].bind(this,f),i.addEventListener(na[u],f,!1),f):(console.warn("wrong event specified:",u),y)}function mr(i,u,f){if(!na[u]){console.warn("wrong event specified:",u);return}i.removeEventListener(na[u],f,!1)}function gr(i){Je[i.pointerId]=i}function ra(i){Je[i.pointerId]&&(Je[i.pointerId]=i)}function cl(i){delete Je[i.pointerId]}function ro(){Yt||(document.addEventListener(ki,gr,!0),document.addEventListener(ll,ra,!0),document.addEventListener(no,cl,!0),document.addEventListener(ta,cl,!0),Yt=!0)}function dl(i,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var f in Je)u.touches.push(Je[f]);u.changedTouches=[u],i(u)}}function hl(i,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&nt(u),dl(i,u)}function sm(i){var u={},f,_;for(_ in i)f=i[_],u[_]=f&&f.bind?f.bind(i):f;return i=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var om=200;function am(i,u){i.addEventListener("dblclick",u);var f=0,_;function S(N){if(N.detail!==1){_=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var R=Gd(N);if(!(R.some(function(Y){return Y instanceof HTMLLabelElement&&Y.attributes.for})&&!R.some(function(Y){return Y instanceof HTMLInputElement||Y instanceof HTMLSelectElement}))){var Z=Date.now();Z-f<=om?(_++,_===2&&u(sm(N))):_=1,f=Z}}}return i.addEventListener("click",S),{dblclick:u,simDblclick:S}}function zd(i,u){i.removeEventListener("dblclick",u.dblclick),i.removeEventListener("click",u.simDblclick)}var fl=so(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),io=so(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),$d=io==="webkitTransition"||io==="OTransition"?io+"End":"transitionend";function Ud(i){return typeof i=="string"?document.getElementById(i):i}function ia(i,u){var f=i.style[u]||i.currentStyle&&i.currentStyle[u];if((!f||f==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(i,null);f=_?_[u]:null}return f==="auto"?null:f}function bt(i,u,f){var _=document.createElement(i);return _.className=u||"",f&&f.appendChild(_),_}function Vt(i){var u=i.parentNode;u&&u.removeChild(i)}function sa(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function gs(i){var u=i.parentNode;u&&u.lastChild!==i&&u.appendChild(i)}function Vi(i){var u=i.parentNode;u&&u.firstChild!==i&&u.insertBefore(i,u.firstChild)}function ju(i,u){if(i.classList!==void 0)return i.classList.contains(u);var f=ml(i);return f.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(f)}function tt(i,u){if(i.classList!==void 0)for(var f=P(u),_=0,S=f.length;_<S;_++)i.classList.add(f[_]);else if(!ju(i,u)){var N=ml(i);pl(i,(N?N+" ":"")+u)}}function qt(i,u){i.classList!==void 0?i.classList.remove(u):pl(i,b((" "+ml(i)+" ").replace(" "+u+" "," ")))}function pl(i,u){i.className.baseVal===void 0?i.className=u:i.className.baseVal=u}function ml(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function _r(i,u){"opacity"in i.style?i.style.opacity=u:"filter"in i.style&&Wd(i,u)}function Wd(i,u){var f=!1,_="DXImageTransform.Microsoft.Alpha";try{f=i.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),f?(f.Enabled=u!==100,f.Opacity=u):i.style.filter+=" progid:"+_+"(opacity="+u+")"}function so(i){for(var u=document.documentElement.style,f=0;f<i.length;f++)if(i[f]in u)return i[f];return!1}function _s(i,u,f){var _=u||new G(0,0);i.style[fl]=(Te.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(f?" scale("+f+")":"")}function pn(i,u){i._leaflet_pos=u,Te.any3d?_s(i,u):(i.style.left=u.x+"px",i.style.top=u.y+"px")}function Ti(i){return i._leaflet_pos||new G(0,0)}var vs,si,gl;if("onselectstart"in document)vs=function(){et(window,"selectstart",nt)},si=function(){Ut(window,"selectstart",nt)};else{var oo=so(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vs=function(){if(oo){var i=document.documentElement.style;gl=i[oo],i[oo]="none"}},si=function(){oo&&(document.documentElement.style[oo]=gl,gl=void 0)}}function Iu(){et(window,"dragstart",nt)}function _l(){Ut(window,"dragstart",nt)}var oa,vl;function yl(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(wl(),oa=i,vl=i.style.outlineStyle,i.style.outlineStyle="none",et(window,"keydown",wl))}function wl(){oa&&(oa.style.outlineStyle=vl,oa=void 0,vl=void 0,Ut(window,"keydown",wl))}function Zd(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Ru(i){var u=i.getBoundingClientRect();return{x:u.width/i.offsetWidth||1,y:u.height/i.offsetHeight||1,boundingClientRect:u}}var Hd={__proto__:null,TRANSFORM:fl,TRANSITION:io,TRANSITION_END:$d,get:Ud,getStyle:ia,create:bt,remove:Vt,empty:sa,toFront:gs,toBack:Vi,hasClass:ju,addClass:tt,removeClass:qt,setClass:pl,getClass:ml,setOpacity:_r,testProp:so,setTransform:_s,setPosition:pn,getPosition:Ti,get disableTextSelection(){return vs},get enableTextSelection(){return si},disableImageDrag:Iu,enableImageDrag:_l,preventOutline:yl,restoreOutline:wl,getSizedParentNode:Zd,getScale:Ru};function et(i,u,f,_){if(u&&typeof u=="object")for(var S in u)Fu(i,S,u[S],f);else{u=P(u);for(var N=0,R=u.length;N<R;N++)Fu(i,u[N],f,_)}return this}var oi="_leaflet_events";function Ut(i,u,f,_){if(arguments.length===1)Yd(i),delete i[oi];else if(u&&typeof u=="object")for(var S in u)Bu(i,S,u[S],f);else if(u=P(u),arguments.length===2)Yd(i,function(Z){return F(u,Z)!==-1});else for(var N=0,R=u.length;N<R;N++)Bu(i,u[N],f,_);return this}function Yd(i,u){for(var f in i[oi]){var _=f.split(/\d/)[0];(!u||u(_))&&Bu(i,_,null,null,f)}}var aa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fu(i,u,f,_){var S=u+h(f)+(_?"_"+h(_):"");if(i[oi]&&i[oi][S])return this;var N=function(Z){return f.call(_||i,Z||window.event)},R=N;!Te.touchNative&&Te.pointer&&u.indexOf("touch")===0?N=an(i,u,N):Te.touch&&u==="dblclick"?N=am(i,N):"addEventListener"in i?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?i.addEventListener(aa[u]||u,N,Te.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(N=function(Z){Z=Z||window.event,$u(i,Z)&&R(Z)},i.addEventListener(aa[u],N,!1)):i.addEventListener(u,R,!1):i.attachEvent("on"+u,N),i[oi]=i[oi]||{},i[oi][S]=N}function Bu(i,u,f,_,S){S=S||u+h(f)+(_?"_"+h(_):"");var N=i[oi]&&i[oi][S];if(!N)return this;!Te.touchNative&&Te.pointer&&u.indexOf("touch")===0?mr(i,u,N):Te.touch&&u==="dblclick"?zd(i,N):"removeEventListener"in i?i.removeEventListener(aa[u]||u,N,!1):i.detachEvent("on"+u,N),i[oi][S]=null}function ys(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function zu(i){return Fu(i,"wheel",ys),this}function la(i){return et(i,"mousedown touchstart dblclick contextmenu",ys),i._leaflet_disable_click=!0,this}function nt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Ct(i){return nt(i),ys(i),this}function Gd(i){if(i.composedPath)return i.composedPath();for(var u=[],f=i.target;f;)u.push(f),f=f.parentNode;return u}function Vd(i,u){if(!u)return new G(i.clientX,i.clientY);var f=Ru(u),_=f.boundingClientRect;return new G((i.clientX-_.left)/f.x-u.clientLeft,(i.clientY-_.top)/f.y-u.clientTop)}var lm=Te.linux&&Te.chrome?window.devicePixelRatio:Te.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qd(i){return Te.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/lm:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function $u(i,u){var f=u.relatedTarget;if(!f)return!0;try{for(;f&&f!==i;)f=f.parentNode}catch{return!1}return f!==i}var um={__proto__:null,on:et,off:Ut,stopPropagation:ys,disableScrollPropagation:zu,disableClickPropagation:la,preventDefault:nt,stop:Ct,getPropagationPath:Gd,getMousePosition:Vd,getWheelDelta:qd,isExternalTarget:$u,addListener:et,removeListener:Ut},Uu=Ke.extend({run:function(i,u,f,_){this.stop(),this._el=i,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Ti(i),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Re(this._animate,this),this._step()},_step:function(i){var u=+new Date-this._startTime,f=this._duration*1e3;u<f?this._runFrame(this._easeOut(u/f),i):(this._runFrame(1),this._complete())},_runFrame:function(i,u){var f=this._startPos.add(this._offset.multiplyBy(i));u&&f._round(),pn(this._el,f),this.fire("step")},_complete:function(){$e(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),gt=Ke.extend({options:{crs:mt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,u){u=C(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Se(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=io&&Te.any3d&&!Te.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),et(this._proxy,$d,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,u,f){if(u=u===void 0?this._zoom:this._limitZoom(u),i=this._limitCenter(Se(i),u,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=o({animate:f.animate},f.zoom),f.pan=o({animate:f.animate,duration:f.duration},f.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,u,f.zoom):this._tryAnimatedPan(i,f.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(i,u,f.pan&&f.pan.noMoveStart),this},setZoom:function(i,u){return this._loaded?this.setView(this.getCenter(),i,{zoom:u}):(this._zoom=i,this)},zoomIn:function(i,u){return i=i||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,u)},zoomOut:function(i,u){return i=i||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,u)},setZoomAround:function(i,u,f){var _=this.getZoomScale(u),S=this.getSize().divideBy(2),N=i instanceof G?i:this.latLngToContainerPoint(i),R=N.subtract(S).multiplyBy(1-1/_),Z=this.containerPointToLatLng(S.add(R));return this.setView(Z,u,{zoom:f})},_getBoundsCenterZoom:function(i,u){u=u||{},i=i.getBounds?i.getBounds():Ue(i);var f=X(u.paddingTopLeft||u.padding||[0,0]),_=X(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(i,!1,f.add(_));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:i.getCenter(),zoom:S};var N=_.subtract(f).divideBy(2),R=this.project(i.getSouthWest(),S),Z=this.project(i.getNorthEast(),S),Y=this.unproject(R.add(Z).divideBy(2).add(N),S);return{center:Y,zoom:S}},fitBounds:function(i,u){if(i=Ue(i),!i.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(i,u);return this.setView(f.center,f.zoom,u)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,u){return this.setView(i,this._zoom,{pan:u})},panBy:function(i,u){if(i=X(i).round(),u=u||{},!i.x&&!i.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Uu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){tt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,f,u.duration||.25,u.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,u,f){if(f=f||{},f.animate===!1||!Te.any3d)return this.setView(i,u,f);this._stop();var _=this.project(this.getCenter()),S=this.project(i),N=this.getSize(),R=this._zoom;i=Se(i),u=u===void 0?R:u;var Z=Math.max(N.x,N.y),Y=Z*this.getZoomScale(R,u),se=S.distanceTo(_)||1,we=1.42,We=we*we;function st(Kt){var Sa=Kt?-1:1,D=Kt?Y:Z,_o=Y*Y-Z*Z+Sa*We*We*se*se,Ml=2*D*We*se,or=_o/Ml,ct=Math.sqrt(or*or+1)-or,Lm=ct<1e-9?-18:Math.log(ct);return Lm}function wn(Kt){return(Math.exp(Kt)-Math.exp(-Kt))/2}function un(Kt){return(Math.exp(Kt)+Math.exp(-Kt))/2}function Hn(Kt){return wn(Kt)/un(Kt)}var Fn=st(0);function Yr(Kt){return Z*(un(Fn)/un(Fn+we*Kt))}function ym(Kt){return Z*(un(Fn)*Hn(Fn+we*Kt)-wn(Fn))/We}function wm(Kt){return 1-Math.pow(1-Kt,1.5)}var xm=Date.now(),dh=(st(1)-Fn)/we,Sm=f.duration?1e3*f.duration:1e3*dh*.8;function xa(){var Kt=(Date.now()-xm)/Sm,Sa=wm(Kt)*dh;Kt<=1?(this._flyToFrame=Re(xa,this),this._move(this.unproject(_.add(S.subtract(_).multiplyBy(ym(Sa)/se)),R),this.getScaleZoom(Z/Yr(Sa),R),{flyTo:!0})):this._move(i,u)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),xa.call(this),this},flyToBounds:function(i,u){var f=this._getBoundsCenterZoom(i,u);return this.flyTo(f.center,f.zoom,u)},setMaxBounds:function(i){return i=Ue(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var u=this.options.minZoom;return this.options.minZoom=i,this._loaded&&u!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var u=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&u!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,u){this._enforcingBounds=!0;var f=this.getCenter(),_=this._limitCenter(f,this._zoom,Ue(i));return f.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(i,u){u=u||{};var f=X(u.paddingTopLeft||u.padding||[0,0]),_=X(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),N=this.project(i),R=this.getPixelBounds(),Z=De([R.min.add(f),R.max.subtract(_)]),Y=Z.getSize();if(!Z.contains(N)){this._enforcingBounds=!0;var se=N.subtract(Z.getCenter()),we=Z.extend(N).getSize().subtract(Y);S.x+=se.x<0?-we.x:we.x,S.y+=se.y<0?-we.y:we.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),_=u.divideBy(2).round(),S=f.divideBy(2).round(),N=_.subtract(S);return!N.x&&!N.y?this:(i.animate&&i.pan?this.panBy(N):(i.pan&&this._rawPanBy(N),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=l(this._handleGeolocationResponse,this),f=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,f,i):navigator.geolocation.getCurrentPosition(u,f,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var u=i.code,f=i.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var u=i.coords.latitude,f=i.coords.longitude,_=new He(u,f),S=_.toBounds(i.coords.accuracy*2),N=this._locateOptions;if(N.setView){var R=this.getBoundsZoom(S);this.setView(_,N.maxZoom?Math.min(R,N.maxZoom):R)}var Z={latlng:_,bounds:S,timestamp:i.timestamp};for(var Y in i.coords)typeof i.coords[Y]=="number"&&(Z[Y]=i.coords[Y]);this.fire("locationfound",Z)}},addHandler:function(i,u){if(!u)return this;var f=this[i]=new u(this);return this._handlers.push(f),this.options[i]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($e(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Vt(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,u){var f="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),_=bt("div",f,u||this._mapPane);return i&&(this._panes[i]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),u=this.unproject(i.getBottomLeft()),f=this.unproject(i.getTopRight());return new Qe(u,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,u,f){i=Ue(i),f=X(f||[0,0]);var _=this.getZoom()||0,S=this.getMinZoom(),N=this.getMaxZoom(),R=i.getNorthWest(),Z=i.getSouthEast(),Y=this.getSize().subtract(f),se=De(this.project(Z,_),this.project(R,_)).getSize(),we=Te.any3d?this.options.zoomSnap:1,We=Y.x/se.x,st=Y.y/se.y,wn=u?Math.max(We,st):Math.min(We,st);return _=this.getScaleZoom(wn,_),we&&(_=Math.round(_/(we/100))*(we/100),_=u?Math.ceil(_/we)*we:Math.floor(_/we)*we),Math.max(S,Math.min(N,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,u){var f=this._getTopLeftPoint(i,u);return new ge(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,u){var f=this.options.crs;return u=u===void 0?this._zoom:u,f.scale(i)/f.scale(u)},getScaleZoom:function(i,u){var f=this.options.crs;u=u===void 0?this._zoom:u;var _=f.zoom(i*f.scale(u));return isNaN(_)?1/0:_},project:function(i,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Se(i),u)},unproject:function(i,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(X(i),u)},layerPointToLatLng:function(i){var u=X(i).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(i){var u=this.project(Se(i))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(Se(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(Ue(i))},distance:function(i,u){return this.options.crs.distance(Se(i),Se(u))},containerPointToLayerPoint:function(i){return X(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return X(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var u=this.containerPointToLayerPoint(X(i));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Se(i)))},mouseEventToContainerPoint:function(i){return Vd(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var u=this._container=Ud(i);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");et(u,"scroll",this._onScroll,this),this._containerId=h(u)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Te.any3d,tt(i,"leaflet-container"+(Te.touch?" leaflet-touch":"")+(Te.retina?" leaflet-retina":"")+(Te.ielt9?" leaflet-oldie":"")+(Te.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=ia(i,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),pn(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(tt(i.markerPane,"leaflet-zoom-hide"),tt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,u,f){pn(this._mapPane,new G(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,f)._move(i,u)._moveEnd(S),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(i,u){return i&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(i,u,f,_){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),_?f&&f.pinch&&this.fire("zoom",f):((S||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $e(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){pn(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[h(this._container)]=this;var u=i?Ut:et;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Te.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$e(this._resizeRequest),this._resizeRequest=Re(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,u){for(var f=[],_,S=u==="mouseout"||u==="mouseover",N=i.target||i.srcElement,R=!1;N;){if(_=this._targets[h(N)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){R=!0;break}if(_&&_.listens(u,!0)&&(S&&!$u(N,i)||(f.push(_),S))||N===this._container)break;N=N.parentNode}return!f.length&&!R&&!S&&this.listens(u,!0)&&(f=[this]),f},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var u=i.target||i.srcElement;if(!(!this._loaded||u._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(u))){var f=i.type;f==="mousedown"&&yl(u),this._fireDOMEvent(i,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,u,f){if(i.type==="click"){var _=o({},i);_.type="preclick",this._fireDOMEvent(_,_.type,f)}var S=this._findEventTargets(i,u);if(f){for(var N=[],R=0;R<f.length;R++)f[R].listens(u,!0)&&N.push(f[R]);S=N.concat(S)}if(S.length){u==="contextmenu"&&nt(i);var Z=S[0],Y={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var se=Z.getLatLng&&(!Z._radius||Z._radius<=10);Y.containerPoint=se?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(i),Y.layerPoint=this.containerPointToLayerPoint(Y.containerPoint),Y.latlng=se?Z.getLatLng():this.layerPointToLatLng(Y.layerPoint)}for(R=0;R<S.length;R++)if(S[R].fire(u,Y,!0),Y.originalEvent._stopped||S[R].options.bubblingMouseEvents===!1&&F(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,u=this._handlers.length;i<u;i++)this._handlers[i].disable()},whenReady:function(i,u){return this._loaded?i.call(u||this,{target:this}):this.on("load",i,u),this},_getMapPanePos:function(){return Ti(this._mapPane)||new G(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,u){var f=i&&u!==void 0?this._getNewPixelOrigin(i,u):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,u){var f=this.getSize()._divideBy(2);return this.project(i,u)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,u,f){var _=this._getNewPixelOrigin(f,u);return this.project(i,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(i,u,f){var _=this._getNewPixelOrigin(f,u);return De([this.project(i.getSouthWest(),u)._subtract(_),this.project(i.getNorthWest(),u)._subtract(_),this.project(i.getSouthEast(),u)._subtract(_),this.project(i.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,u,f){if(!f)return i;var _=this.project(i,u),S=this.getSize().divideBy(2),N=new ge(_.subtract(S),_.add(S)),R=this._getBoundsOffset(N,f,u);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?i:this.unproject(_.add(R),u)},_limitOffset:function(i,u){if(!u)return i;var f=this.getPixelBounds(),_=new ge(f.min.add(i),f.max.add(i));return i.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(i,u,f){var _=De(this.project(u.getNorthEast(),f),this.project(u.getSouthWest(),f)),S=_.min.subtract(i.min),N=_.max.subtract(i.max),R=this._rebound(S.x,-N.x),Z=this._rebound(S.y,-N.y);return new G(R,Z)},_rebound:function(i,u){return i+u>0?Math.round(i-u)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(u))},_limitZoom:function(i){var u=this.getMinZoom(),f=this.getMaxZoom(),_=Te.any3d?this.options.zoomSnap:1;return _&&(i=Math.round(i/_)*_),Math.max(u,Math.min(f,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,u){var f=this._getCenterOffset(i)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,u),!0)},_createAnimProxy:function(){var i=this._proxy=bt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(u){var f=fl,_=this._proxy.style[f];_s(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),u=this.getZoom();_s(this._proxy,this.project(i,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,u,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),S=this._getCenterOffset(i)._divideBy(1-1/_);return f.animate!==!0&&!this.getSize().contains(S)?!1:(Re(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(i,u,!0)},this),!0)},_animateZoom:function(i,u,f,_){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=u,tt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Rn(i,u){return new gt(i,u)}var vr=me.extend({options:{position:"topright"},initialize:function(i){C(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var u=this._map;return u&&u.removeControl(this),this.options.position=i,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var u=this._container=this.onAdd(i),f=this.getPosition(),_=i._controlCorners[f];return tt(u,"leaflet-control"),f.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Hr=function(i){return new vr(i)};gt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},u="leaflet-",f=this._controlContainer=bt("div",u+"control-container",this._container);function _(S,N){var R=u+S+" "+u+N;i[S+N]=bt("div",R,f)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Vt(this._controlCorners[i]);Vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Wu=vr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,u,f,_){return f<_?-1:_<f?1:0}},initialize:function(i,u,f){C(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in i)this._addLayer(i[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return vr.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,u){return this._addLayer(i,u),this._map?this._update():this},addOverlay:function(i,u){return this._addLayer(i,u,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var u=this._getLayer(h(i));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){tt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(tt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):qt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",u=this._container=bt("div",i),f=this.options.collapsed;u.setAttribute("aria-haspopup",!0),la(u),zu(u);var _=this._section=bt("section",i+"-list");f&&(this._map.on("click",this.collapse,this),et(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=bt("a",i+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),et(S,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){nt(N),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=bt("div",i+"-base",_),this._separator=bt("div",i+"-separator",_),this._overlaysList=bt("div",i+"-overlays",_),u.appendChild(_)},_getLayer:function(i){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&h(this._layers[u].layer)===i)return this._layers[u]},_addLayer:function(i,u,f){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:u,overlay:f}),this.options.sortLayers&&this._layers.sort(l(function(_,S){return this.options.sortFunction(_.layer,S.layer,_.name,S.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;sa(this._baseLayersList),sa(this._overlaysList),this._layerControlInputs=[];var i,u,f,_,S=0;for(f=0;f<this._layers.length;f++)_=this._layers[f],this._addItem(_),u=u||_.overlay,i=i||!_.overlay,S+=_.overlay?0:1;return this.options.hideSingleBase&&(i=i&&S>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=u&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var u=this._getLayer(h(i.target)),f=u.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;f&&this._map.fire(f,u)},_createRadioElement:function(i,u){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=f,_.firstChild},_addItem:function(i){var u=document.createElement("label"),f=this._map.hasLayer(i.layer),_;i.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=f):_=this._createRadioElement("leaflet-base-layers_"+h(this),f),this._layerControlInputs.push(_),_.layerId=h(i.layer),et(_,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+i.name;var N=document.createElement("span");u.appendChild(N),N.appendChild(_),N.appendChild(S);var R=i.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,u,f,_=[],S=[];this._handlingClick=!0;for(var N=i.length-1;N>=0;N--)u=i[N],f=this._getLayer(u.layerId).layer,u.checked?_.push(f):u.checked||S.push(f);for(N=0;N<S.length;N++)this._map.hasLayer(S[N])&&this._map.removeLayer(S[N]);for(N=0;N<_.length;N++)this._map.hasLayer(_[N])||this._map.addLayer(_[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,u,f,_=this._map.getZoom(),S=i.length-1;S>=0;S--)u=i[S],f=this._getLayer(u.layerId).layer,u.disabled=f.options.minZoom!==void 0&&_<f.options.minZoom||f.options.maxZoom!==void 0&&_>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,et(i,"click",nt),this.expand();var u=this;setTimeout(function(){Ut(i,"click",nt),u._preventClick=!1})}}),Zu=function(i,u,f){return new Wu(i,u,f)},rr=vr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var u="leaflet-control-zoom",f=bt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",f,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,u,f,_,S){var N=bt("a",f,_);return N.innerHTML=i,N.href="#",N.title=u,N.setAttribute("role","button"),N.setAttribute("aria-label",u),la(N),et(N,"click",Ct),et(N,"click",S,this),et(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var i=this._map,u="leaflet-disabled";qt(this._zoomInButton,u),qt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(tt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(tt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});gt.mergeOptions({zoomControl:!0}),gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new rr,this.addControl(this.zoomControl))});var Kd=function(i){return new rr(i)},Hu=vr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var u="leaflet-control-scale",f=bt("div",u),_=this.options;return this._addScales(_,u+"-line",f),i.on(_.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),f},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,u,f){i.metric&&(this._mScale=bt("div",u,f)),i.imperial&&(this._iScale=bt("div",u,f))},_update:function(){var i=this._map,u=i.getSize().y/2,f=i.distance(i.containerPointToLatLng([0,u]),i.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(f)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var u=this._getRoundNum(i),f=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,f,u/i)},_updateImperial:function(i){var u=i*3.2808399,f,_,S;u>5280?(f=u/5280,_=this._getRoundNum(f),this._updateScale(this._iScale,_+" mi",_/f)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(i,u,f){i.style.width=Math.round(this.options.maxWidth*f)+"px",i.innerHTML=u},_getRoundNum:function(i){var u=Math.pow(10,(Math.floor(i)+"").length-1),f=i/u;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,u*f}}),Qd=function(i){return new Hu(i)},Jd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',xl=vr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Te.inlineSvg?Jd+" ":"")+"Leaflet</a>"},initialize:function(i){C(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=bt("div","leaflet-control-attribution"),la(this._container);for(var u in i._layers)i._layers[u].getAttribution&&this.addAttribution(i._layers[u].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var u in this._attributions)this._attributions[u]&&i.push(u);var f=[];this.options.prefix&&f.push(this.options.prefix),i.length&&f.push(i.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});gt.mergeOptions({attributionControl:!0}),gt.addInitHook(function(){this.options.attributionControl&&new xl().addTo(this)});var Xd=function(i){return new xl(i)};vr.Layers=Wu,vr.Zoom=rr,vr.Scale=Hu,vr.Attribution=xl,Hr.layers=Zu,Hr.zoom=Kd,Hr.scale=Qd,Hr.attribution=Xd;var ln=me.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ln.addTo=function(i,u){return i.addHandler(u,this),this};var cm={Events:be},yr=Te.touch?"touchstart mousedown":"mousedown",qi=Ke.extend({options:{clickTolerance:3},initialize:function(i,u,f,_){C(this,_),this._element=i,this._dragStartTarget=u||i,this._preventOutline=f},enable:function(){this._enabled||(et(this._dragStartTarget,yr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qi._dragging===this&&this.finishDrag(!0),Ut(this._dragStartTarget,yr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!ju(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){qi._dragging===this&&this.finishDrag();return}if(!(qi._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(qi._dragging=this,this._preventOutline&&yl(this._element),Iu(),vs(),!this._moving)){this.fire("down");var u=i.touches?i.touches[0]:i,f=Zd(this._element);this._startPoint=new G(u.clientX,u.clientY),this._startPos=Ti(this._element),this._parentScale=Ru(f);var _=i.type==="mousedown";et(document,_?"mousemove":"touchmove",this._onMove,this),et(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var u=i.touches&&i.touches.length===1?i.touches[0]:i,f=new G(u.clientX,u.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,nt(i),this._moved||(this.fire("dragstart"),this._moved=!0,tt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),tt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),pn(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){qt(document.body,"leaflet-dragging"),this._lastTarget&&(qt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ut(document,"mousemove touchmove",this._onMove,this),Ut(document,"mouseup touchend touchcancel",this._onUp,this),_l(),si();var u=this._moved&&this._moving;this._moving=!1,qi._dragging=!1,u&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Yu(i,u,f){var _,S=[1,4,2,8],N,R,Z,Y,se,we,We,st;for(N=0,we=i.length;N<we;N++)i[N]._code=ai(i[N],u);for(Z=0;Z<4;Z++){for(We=S[Z],_=[],N=0,we=i.length,R=we-1;N<we;R=N++)Y=i[N],se=i[R],Y._code&We?se._code&We||(st=ca(se,Y,We,u,f),st._code=ai(st,u),_.push(st)):(se._code&We&&(st=ca(se,Y,We,u,f),st._code=ai(st,u),_.push(st)),_.push(Y));i=_}return i}function Ei(i,u){var f,_,S,N,R,Z,Y,se,we;if(!i||i.length===0)throw new Error("latlngs not passed");wr(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var We=Se([0,0]),st=Ue(i),wn=st.getNorthWest().distanceTo(st.getSouthWest())*st.getNorthEast().distanceTo(st.getNorthWest());wn<1700&&(We=ao(i));var un=i.length,Hn=[];for(f=0;f<un;f++){var Fn=Se(i[f]);Hn.push(u.project(Se([Fn.lat-We.lat,Fn.lng-We.lng])))}for(Z=Y=se=0,f=0,_=un-1;f<un;_=f++)S=Hn[f],N=Hn[_],R=S.y*N.x-N.y*S.x,Y+=(S.x+N.x)*R,se+=(S.y+N.y)*R,Z+=R*3;Z===0?we=Hn[0]:we=[Y/Z,se/Z];var Yr=u.unproject(X(we));return Se([Yr.lat+We.lat,Yr.lng+We.lng])}function ao(i){for(var u=0,f=0,_=0,S=0;S<i.length;S++){var N=Se(i[S]);u+=N.lat,f+=N.lng,_++}return Se([u/_,f/_])}var Gu={__proto__:null,clipPolygon:Yu,polygonCenter:Ei,centroid:ao};function Gt(i,u){if(!u||!i.length)return i.slice();var f=u*u;return i=hm(i,f),i=dm(i,f),i}function Pi(i,u,f){return Math.sqrt(da(i,u,f,!0))}function Vu(i,u,f){return da(i,u,f)}function dm(i,u){var f=i.length,_=typeof Uint8Array<"u"?Uint8Array:Array,S=new _(f);S[0]=S[f-1]=1,ua(i,S,u,0,f-1);var N,R=[];for(N=0;N<f;N++)S[N]&&R.push(i[N]);return R}function ua(i,u,f,_,S){var N=0,R,Z,Y;for(Z=_+1;Z<=S-1;Z++)Y=da(i[Z],i[_],i[S],!0),Y>N&&(R=Z,N=Y);N>f&&(u[R]=1,ua(i,u,f,_,R),ua(i,u,f,R,S))}function hm(i,u){for(var f=[i[0]],_=1,S=0,N=i.length;_<N;_++)lo(i[_],i[S])>u&&(f.push(i[_]),S=_);return S<N-1&&f.push(i[N-1]),f}var eh;function th(i,u,f,_,S){var N=_?eh:ai(i,f),R=ai(u,f),Z,Y,se;for(eh=R;;){if(!(N|R))return[i,u];if(N&R)return!1;Z=N||R,Y=ca(i,u,Z,f,S),se=ai(Y,f),Z===N?(i=Y,N=se):(u=Y,R=se)}}function ca(i,u,f,_,S){var N=u.x-i.x,R=u.y-i.y,Z=_.min,Y=_.max,se,we;return f&8?(se=i.x+N*(Y.y-i.y)/R,we=Y.y):f&4?(se=i.x+N*(Z.y-i.y)/R,we=Z.y):f&2?(se=Y.x,we=i.y+R*(Y.x-i.x)/N):f&1&&(se=Z.x,we=i.y+R*(Z.x-i.x)/N),new G(se,we,S)}function ai(i,u){var f=0;return i.x<u.min.x?f|=1:i.x>u.max.x&&(f|=2),i.y<u.min.y?f|=4:i.y>u.max.y&&(f|=8),f}function lo(i,u){var f=u.x-i.x,_=u.y-i.y;return f*f+_*_}function da(i,u,f,_){var S=u.x,N=u.y,R=f.x-S,Z=f.y-N,Y=R*R+Z*Z,se;return Y>0&&(se=((i.x-S)*R+(i.y-N)*Z)/Y,se>1?(S=f.x,N=f.y):se>0&&(S+=R*se,N+=Z*se)),R=i.x-S,Z=i.y-N,_?R*R+Z*Z:new G(S,N)}function wr(i){return!M(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function qu(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),wr(i)}function Sl(i,u){var f,_,S,N,R,Z,Y,se;if(!i||i.length===0)throw new Error("latlngs not passed");wr(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var we=Se([0,0]),We=Ue(i),st=We.getNorthWest().distanceTo(We.getSouthWest())*We.getNorthEast().distanceTo(We.getNorthWest());st<1700&&(we=ao(i));var wn=i.length,un=[];for(f=0;f<wn;f++){var Hn=Se(i[f]);un.push(u.project(Se([Hn.lat-we.lat,Hn.lng-we.lng])))}for(f=0,_=0;f<wn-1;f++)_+=un[f].distanceTo(un[f+1])/2;if(_===0)se=un[0];else for(f=0,N=0;f<wn-1;f++)if(R=un[f],Z=un[f+1],S=R.distanceTo(Z),N+=S,N>_){Y=(N-_)/S,se=[Z.x-Y*(Z.x-R.x),Z.y-Y*(Z.y-R.y)];break}var Fn=u.unproject(X(se));return Se([Fn.lat+we.lat,Fn.lng+we.lng])}var Ku={__proto__:null,simplify:Gt,pointToSegmentDistance:Pi,closestPointOnSegment:Vu,clipSegment:th,_getEdgeIntersection:ca,_getBitCode:ai,_sqClosestPointOnSegment:da,isFlat:wr,_flat:qu,polylineCenter:Sl},Ll={project:function(i){return new G(i.lng,i.lat)},unproject:function(i){return new He(i.y,i.x)},bounds:new ge([-180,-90],[180,90])},Qu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ge([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var u=Math.PI/180,f=this.R,_=i.lat*u,S=this.R_MINOR/f,N=Math.sqrt(1-S*S),R=N*Math.sin(_),Z=Math.tan(Math.PI/4-_/2)/Math.pow((1-R)/(1+R),N/2);return _=-f*Math.log(Math.max(Z,1e-10)),new G(i.lng*u*f,_)},unproject:function(i){for(var u=180/Math.PI,f=this.R,_=this.R_MINOR/f,S=Math.sqrt(1-_*_),N=Math.exp(-i.y/f),R=Math.PI/2-2*Math.atan(N),Z=0,Y=.1,se;Z<15&&Math.abs(Y)>1e-7;Z++)se=S*Math.sin(R),se=Math.pow((1-se)/(1+se),S/2),Y=Math.PI/2-2*Math.atan(N*se)-R,R+=Y;return new He(R*u,i.x*u/f)}},Ju={__proto__:null,LonLat:Ll,Mercator:Qu,SphericalMercator:yn},Xu=o({},St,{code:"EPSG:3395",projection:Qu,transformation:function(){var i=.5/(Math.PI*Qu.R);return Et(i,.5,-i,.5)}()}),nh=o({},St,{code:"EPSG:4326",projection:Ll,transformation:Et(1/180,1,-1/180,.5)}),rh=o({},vt,{projection:Ll,transformation:Et(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,u){var f=u.lng-i.lng,_=u.lat-i.lat;return Math.sqrt(f*f+_*_)},infinite:!0});vt.Earth=St,vt.EPSG3395=Xu,vt.EPSG3857=mt,vt.EPSG900913=Ye,vt.EPSG4326=nh,vt.Simple=rh;var en=Ke.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[h(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[h(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var u=i.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var f=this.getEvents();u.on(f,this),this.once("remove",function(){u.off(f,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});gt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var u=h(i);return this._layers[u]?this:(this._layers[u]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var u=h(i);return this._layers[u]?(this._loaded&&i.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return h(i)in this._layers},eachLayer:function(i,u){for(var f in this._layers)i.call(u,this._layers[f]);return this},_addLayers:function(i){i=i?M(i)?i:[i]:[];for(var u=0,f=i.length;u<f;u++)this.addLayer(i[u])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[h(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var u=h(i);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,u=-1/0,f=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var S=this._zoomBoundLayers[_].options;i=S.minZoom===void 0?i:Math.min(i,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=i===1/0?void 0:i,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ki=en.extend({initialize:function(i,u){C(this,u),this._layers={};var f,_;if(i)for(f=0,_=i.length;f<_;f++)this.addLayer(i[f])},addLayer:function(i){var u=this.getLayerId(i);return this._layers[u]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var u=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(i){var u=typeof i=="number"?i:this.getLayerId(i);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var u=Array.prototype.slice.call(arguments,1),f,_;for(f in this._layers)_=this._layers[f],_[i]&&_[i].apply(_,u);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,u){for(var f in this._layers)i.call(u,this._layers[f]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return h(i)}}),ha=function(i,u){return new Ki(i,u)},li=Ki.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ki.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ki.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Qe;for(var u in this._layers){var f=this._layers[u];i.extend(f.getBounds?f.getBounds():f.getLatLng())}return i}}),ih=function(i,u){return new li(i,u)},uo=me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){C(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,u){var f=this._getIconUrl(i);if(!f){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(f,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(i,u){var f=this.options,_=f[u+"Size"];typeof _=="number"&&(_=[_,_]);var S=X(_),N=X(u==="shadow"&&f.shadowAnchor||f.iconAnchor||S&&S.divideBy(2,!0));i.className="leaflet-marker-"+u+" "+(f.className||""),N&&(i.style.marginLeft=-N.x+"px",i.style.marginTop=-N.y+"px"),S&&(i.style.width=S.x+"px",i.style.height=S.y+"px")},_createImg:function(i,u){return u=u||document.createElement("img"),u.src=i,u},_getIconUrl:function(i){return Te.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function fm(i){return new uo(i)}var fa=uo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof fa.imagePath!="string"&&(fa.imagePath=this._detectIconPath()),(this.options.imagePath||fa.imagePath)+uo.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var u=function(f,_,S){var N=_.exec(f);return N&&N[S]};return i=u(i,/^url\((['"])?(.+)\1\)$/,2),i&&u(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=bt("div","leaflet-default-icon-path",document.body),u=ia(i,"background-image")||ia(i,"backgroundImage");if(document.body.removeChild(i),u=this._stripUrl(u),u)return u;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),sh=ln.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new qi(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),tt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var u=this._marker,f=u._map,_=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,N=Ti(u._icon),R=f.getPixelBounds(),Z=f.getPixelOrigin(),Y=De(R.min._subtract(Z).add(S),R.max._subtract(Z).subtract(S));if(!Y.contains(N)){var se=X((Math.max(Y.max.x,N.x)-Y.max.x)/(R.max.x-Y.max.x)-(Math.min(Y.min.x,N.x)-Y.min.x)/(R.min.x-Y.min.x),(Math.max(Y.max.y,N.y)-Y.max.y)/(R.max.y-Y.max.y)-(Math.min(Y.min.y,N.y)-Y.min.y)/(R.min.y-Y.min.y)).multiplyBy(_);f.panBy(se,{animate:!1}),this._draggable._newPos._add(se),this._draggable._startPos._add(se),pn(u._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Re(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&($e(this._panRequest),this._panRequest=Re(this._adjustPan.bind(this,i)))},_onDrag:function(i){var u=this._marker,f=u._shadow,_=Ti(u._icon),S=u._map.layerPointToLatLng(_);f&&pn(f,_),u._latlng=S,i.latlng=S,i.oldLatLng=this._oldLatLng,u.fire("move",i).fire("drag",i)},_onDragEnd:function(i){$e(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),bl=en.extend({options:{icon:new fa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,u){C(this,u),this._latlng=Se(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var u=this._latlng;return this._latlng=Se(i),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=i.icon.createIcon(this._icon),_=!1;f!==this._icon&&(this._icon&&this._removeIcon(),_=!0,i.title&&(f.title=i.title),f.tagName==="IMG"&&(f.alt=i.alt||"")),tt(f,u),i.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&et(f,"focus",this._panOnFocus,this);var S=i.icon.createShadow(this._shadow),N=!1;S!==this._shadow&&(this._removeShadow(),N=!0),S&&(tt(S,u),S.alt=""),this._shadow=S,i.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&N&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(this._icon,"focus",this._panOnFocus,this),Vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Vt(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&pn(this._icon,i),this._shadow&&pn(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(tt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sh)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sh(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&_r(this._icon,i),this._shadow&&_r(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var u=this.options.icon.options,f=u.iconSize?X(u.iconSize):X(0,0),_=u.iconAnchor?X(u.iconAnchor):X(0,0);i.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:f.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function co(i,u){return new bl(i,u)}var Qi=en.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return C(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Cl=Qi.extend({options:{fill:!0,radius:10},initialize:function(i,u){C(this,u),this._latlng=Se(i),this._radius=this.options.radius},setLatLng:function(i){var u=this._latlng;return this._latlng=Se(i),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var u=i&&i.radius||this._radius;return Qi.prototype.setStyle.call(this,i),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,u=this._radiusY||i,f=this._clickTolerance(),_=[i+f,u+f];this._pxBounds=new ge(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ec(i,u){return new Cl(i,u)}var kl=Cl.extend({initialize:function(i,u,f){if(typeof u=="number"&&(u=o({},f,{radius:u})),C(this,u),this._latlng=Se(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Qe(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Qi.prototype.setStyle,_project:function(){var i=this._latlng.lng,u=this._latlng.lat,f=this._map,_=f.options.crs;if(_.distance===St.distance){var S=Math.PI/180,N=this._mRadius/St.R/S,R=f.project([u+N,i]),Z=f.project([u-N,i]),Y=R.add(Z).divideBy(2),se=f.unproject(Y).lat,we=Math.acos((Math.cos(N*S)-Math.sin(u*S)*Math.sin(se*S))/(Math.cos(u*S)*Math.cos(se*S)))/S;(isNaN(we)||we===0)&&(we=N/Math.cos(Math.PI/180*u)),this._point=Y.subtract(f.getPixelOrigin()),this._radius=isNaN(we)?0:Y.x-f.project([se,i-we]).x,this._radiusY=Y.y-R.y}else{var We=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(We).x}this._updateBounds()}});function Ji(i,u,f){return new kl(i,u,f)}var Nr=Qi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,u){C(this,u),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var u=1/0,f=null,_=da,S,N,R=0,Z=this._parts.length;R<Z;R++)for(var Y=this._parts[R],se=1,we=Y.length;se<we;se++){S=Y[se-1],N=Y[se];var We=_(i,S,N,!0);We<u&&(u=We,f=_(i,S,N))}return f&&(f.distance=Math.sqrt(u)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,u){return u=u||this._defaultShape(),i=Se(i),u.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Qe,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return wr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var u=[],f=wr(i),_=0,S=i.length;_<S;_++)f?(u[_]=Se(i[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(i[_]);return u},_project:function(){var i=new ge;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),u=new G(i,i);this._rawPxBounds&&(this._pxBounds=new ge([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(i,u,f){var _=i[0]instanceof He,S=i.length,N,R;if(_){for(R=[],N=0;N<S;N++)R[N]=this._map.latLngToLayerPoint(i[N]),f.extend(R[N]);u.push(R)}else for(N=0;N<S;N++)this._projectLatlngs(i[N],u,f)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,f,_,S,N,R,Z,Y;for(f=0,S=0,N=this._rings.length;f<N;f++)for(Y=this._rings[f],_=0,R=Y.length;_<R-1;_++)Z=th(Y[_],Y[_+1],i,_,!0),Z&&(u[S]=u[S]||[],u[S].push(Z[0]),(Z[1]!==Y[_+1]||_===R-2)&&(u[S].push(Z[1]),S++))}},_simplifyPoints:function(){for(var i=this._parts,u=this.options.smoothFactor,f=0,_=i.length;f<_;f++)i[f]=Gt(i[f],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,u){var f,_,S,N,R,Z,Y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(f=0,N=this._parts.length;f<N;f++)for(Z=this._parts[f],_=0,R=Z.length,S=R-1;_<R;S=_++)if(!(!u&&_===0)&&Pi(i,Z[S],Z[_])<=Y)return!0;return!1}});function pm(i,u){return new Nr(i,u)}Nr._flat=qu;var ho=Nr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ei(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var u=Nr.prototype._convertLatLngs.call(this,i),f=u.length;return f>=2&&u[0]instanceof He&&u[0].equals(u[f-1])&&u.pop(),u},_setLatLngs:function(i){Nr.prototype._setLatLngs.call(this,i),wr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return wr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,u=this.options.weight,f=new G(u,u);if(i=new ge(i.min.subtract(f),i.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,S=this._rings.length,N;_<S;_++)N=Yu(this._rings[_],i,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var u=!1,f,_,S,N,R,Z,Y,se;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(N=0,Y=this._parts.length;N<Y;N++)for(f=this._parts[N],R=0,se=f.length,Z=se-1;R<se;Z=R++)_=f[R],S=f[Z],_.y>i.y!=S.y>i.y&&i.x<(S.x-_.x)*(i.y-_.y)/(S.y-_.y)+_.x&&(u=!u);return u||Nr.prototype._containsPoint.call(this,i,!0)}});function mm(i,u){return new ho(i,u)}var ir=li.extend({initialize:function(i,u){C(this,u),this._layers={},i&&this.addData(i)},addData:function(i){var u=M(i)?i:i.features,f,_,S;if(u){for(f=0,_=u.length;f<_;f++)S=u[f],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var N=this.options;if(N.filter&&!N.filter(i))return this;var R=sr(i,N);return R?(R.feature=Ni(i),R.defaultOptions=R.options,this.resetStyle(R),N.onEachFeature&&N.onEachFeature(i,R),this.addLayer(R)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(u){this._setLayerStyle(u,i)},this)},_setLayerStyle:function(i,u){i.setStyle&&(typeof u=="function"&&(u=u(i.feature)),i.setStyle(u))}});function sr(i,u){var f=i.type==="Feature"?i.geometry:i,_=f?f.coordinates:null,S=[],N=u&&u.pointToLayer,R=u&&u.coordsToLatLng||nc,Z,Y,se,we;if(!_&&!f)return null;switch(f.type){case"Point":return Z=R(_),tc(N,i,Z,u);case"MultiPoint":for(se=0,we=_.length;se<we;se++)Z=R(_[se]),S.push(tc(N,i,Z,u));return new li(S);case"LineString":case"MultiLineString":return Y=Tl(_,f.type==="LineString"?0:1,R),new Nr(Y,u);case"Polygon":case"MultiPolygon":return Y=Tl(_,f.type==="Polygon"?1:2,R),new ho(Y,u);case"GeometryCollection":for(se=0,we=f.geometries.length;se<we;se++){var We=sr({geometry:f.geometries[se],type:"Feature",properties:i.properties},u);We&&S.push(We)}return new li(S);case"FeatureCollection":for(se=0,we=f.features.length;se<we;se++){var st=sr(f.features[se],u);st&&S.push(st)}return new li(S);default:throw new Error("Invalid GeoJSON object.")}}function tc(i,u,f,_){return i?i(u,f):new bl(f,_&&_.markersInheritOptions&&_)}function nc(i){return new He(i[1],i[0],i[2])}function Tl(i,u,f){for(var _=[],S=0,N=i.length,R;S<N;S++)R=u?Tl(i[S],u-1,f):(f||nc)(i[S]),_.push(R);return _}function rc(i,u){return i=Se(i),i.alt!==void 0?[x(i.lng,u),x(i.lat,u),x(i.alt,u)]:[x(i.lng,u),x(i.lat,u)]}function El(i,u,f,_){for(var S=[],N=0,R=i.length;N<R;N++)S.push(u?El(i[N],wr(i[N])?0:u-1,f,_):rc(i[N],_));return!u&&f&&S.length>0&&S.push(S[0].slice()),S}function fo(i,u){return i.feature?o({},i.feature,{geometry:u}):Ni(u)}function Ni(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var z={toGeoJSON:function(i){return fo(this,{type:"Point",coordinates:rc(this.getLatLng(),i)})}};bl.include(z),kl.include(z),Cl.include(z),Nr.include({toGeoJSON:function(i){var u=!wr(this._latlngs),f=El(this._latlngs,u?1:0,!1,i);return fo(this,{type:(u?"Multi":"")+"LineString",coordinates:f})}}),ho.include({toGeoJSON:function(i){var u=!wr(this._latlngs),f=u&&!wr(this._latlngs[0]),_=El(this._latlngs,f?2:u?1:0,!0,i);return u||(_=[_]),fo(this,{type:(f?"Multi":"")+"Polygon",coordinates:_})}}),Ki.include({toMultiPoint:function(i){var u=[];return this.eachLayer(function(f){u.push(f.toGeoJSON(i).geometry.coordinates)}),fo(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(i){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(i);var f=u==="GeometryCollection",_=[];return this.eachLayer(function(S){if(S.toGeoJSON){var N=S.toGeoJSON(i);if(f)_.push(N.geometry);else{var R=Ni(N);R.type==="FeatureCollection"?_.push.apply(_,R.features):_.push(R)}}}),f?fo(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function K(i,u){return new ir(i,u)}var V=K,Le=en.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,u,f){this._url=i,this._bounds=Ue(u),C(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(tt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&gs(this._image),this},bringToBack:function(){return this._map&&Vi(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=Ue(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",u=this._image=i?this._url:bt("img");if(tt(u,"leaflet-image-layer"),this._zoomAnimated&&tt(u,"leaflet-zoom-animated"),this.options.className&&tt(u,this.options.className),u.onselectstart=y,u.onmousemove=y,u.onload=l(this.fire,this,"load"),u.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(i){var u=this._map.getZoomScale(i.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;_s(this._image,f,u)},_reset:function(){var i=this._image,u=new ge(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=u.getSize();pn(i,u.min),i.style.width=f.x+"px",i.style.height=f.y+"px"},_updateOpacity:function(){_r(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Xe=function(i,u,f){return new Le(i,u,f)},kt=Le.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",u=this._image=i?this._url:bt("video");if(tt(u,"leaflet-image-layer"),this._zoomAnimated&&tt(u,"leaflet-zoom-animated"),this.options.className&&tt(u,this.options.className),u.onselectstart=y,u.onmousemove=y,u.onloadeddata=l(this.fire,this,"load"),i){for(var f=u.getElementsByTagName("source"),_=[],S=0;S<f.length;S++)_.push(f[S].src);this._url=f.length>0?_:[u.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var R=bt("source");R.src=this._url[N],u.appendChild(R)}}});function Cn(i,u,f){return new kt(i,u,f)}var Rt=Le.extend({_initImage:function(){var i=this._image=this._url;tt(i,"leaflet-image-layer"),this._zoomAnimated&&tt(i,"leaflet-zoom-animated"),this.options.className&&tt(i,this.options.className),i.onselectstart=y,i.onmousemove=y}});function ic(i,u,f){return new Rt(i,u,f)}var ui=en.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,u){i&&(i instanceof He||M(i))?(this._latlng=Se(i),C(this,u)):(C(this,i),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&_r(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&_r(this._container,1),this.bringToFront(),this.options.interactive&&(tt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(_r(this._container,0),this._removeTimeout=setTimeout(l(Vt,void 0,this._container),200)):Vt(this._container),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=Se(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gs(this._container),this},bringToBack:function(){return this._map&&Vi(this._container),this},_prepareOpen:function(i){var u=this._source;if(!u._map)return!1;if(u instanceof li){u=null;var f=this._source._layers;for(var _ in f)if(f[_]._map){u=f[_];break}if(!u)return!1;this._source=u}if(!i)if(u.getCenter)i=u.getCenter();else if(u.getLatLng)i=u.getLatLng();else if(u.getBounds)i=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")i.innerHTML=u;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),u=X(this.options.offset),f=this._getAnchor();this._zoomAnimated?pn(this._container,i.add(f)):u=u.add(i).add(f);var _=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});gt.include({_initOverlay:function(i,u,f,_){var S=u;return S instanceof i||(S=new i(_).setContent(u)),f&&S.setLatLng(f),S}}),en.include({_initOverlay:function(i,u,f,_){var S=f;return S instanceof i?(C(S,_),S._source=this):(S=u&&!_?u:new i(_,this),S.setContent(f)),S}});var qn=ui.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,ui.prototype.openOn.call(this,i)},onAdd:function(i){ui.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qi||this._source.on("preclick",ys))},onRemove:function(i){ui.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qi||this._source.off("preclick",ys))},getEvents:function(){var i=ui.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",u=this._container=bt("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=bt("div",i+"-content-wrapper",u);if(this._contentNode=bt("div",i+"-content",f),la(u),zu(this._contentNode),et(u,"contextmenu",ys),this._tipContainer=bt("div",i+"-tip-container",u),this._tip=bt("div",i+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=bt("a",i+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',et(_,"click",function(S){nt(S),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,u=i.style;u.width="",u.whiteSpace="nowrap";var f=i.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),u.width=f+1+"px",u.whiteSpace="",u.height="";var _=i.offsetHeight,S=this.options.maxHeight,N="leaflet-popup-scrolled";S&&_>S?(u.height=S+"px",tt(i,N)):qt(i,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),f=this._getAnchor();pn(this._container,u.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,u=parseInt(ia(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+u,_=this._containerWidth,S=new G(this._containerLeft,-f-this._containerBottom);S._add(Ti(this._container));var N=i.layerPointToContainerPoint(S),R=X(this.options.autoPanPadding),Z=X(this.options.autoPanPaddingTopLeft||R),Y=X(this.options.autoPanPaddingBottomRight||R),se=i.getSize(),we=0,We=0;N.x+_+Y.x>se.x&&(we=N.x+_-se.x+Y.x),N.x-we-Z.x<0&&(we=N.x-Z.x),N.y+f+Y.y>se.y&&(We=N.y+f-se.y+Y.y),N.y-We-Z.y<0&&(We=N.y-Z.y),(we||We)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([we,We]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Pl=function(i,u){return new qn(i,u)};gt.mergeOptions({closePopupOnClick:!0}),gt.include({openPopup:function(i,u,f){return this._initOverlay(qn,i,u,f).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),en.include({bindPopup:function(i,u){return this._popup=this._initOverlay(qn,this._popup,i,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof li||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Ct(i);var u=i.layer||i.target;if(this._popup._source===u&&!(u instanceof Qi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=u,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Nl=ui.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){ui.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){ui.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=ui.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",u=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var u,f,_=this._map,S=this._container,N=_.latLngToContainerPoint(_.getCenter()),R=_.layerPointToContainerPoint(i),Z=this.options.direction,Y=S.offsetWidth,se=S.offsetHeight,we=X(this.options.offset),We=this._getAnchor();Z==="top"?(u=Y/2,f=se):Z==="bottom"?(u=Y/2,f=0):Z==="center"?(u=Y/2,f=se/2):Z==="right"?(u=0,f=se/2):Z==="left"?(u=Y,f=se/2):R.x<N.x?(Z="right",u=0,f=se/2):(Z="left",u=Y+(we.x+We.x)*2,f=se/2),i=i.subtract(X(u,f,!0)).add(we).add(We),qt(S,"leaflet-tooltip-right"),qt(S,"leaflet-tooltip-left"),qt(S,"leaflet-tooltip-top"),qt(S,"leaflet-tooltip-bottom"),tt(S,"leaflet-tooltip-"+Z),pn(S,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&_r(this._container,i)},_animateZoom:function(i){var u=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(u)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),po=function(i,u){return new Nl(i,u)};gt.include({openTooltip:function(i,u,f){return this._initOverlay(Nl,i,u,f).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),en.include({bindTooltip:function(i,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Nl,this._tooltip,i,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var u=i?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[u](f),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof li||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var u=typeof i.getElement=="function"&&i.getElement();u&&(et(u,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),et(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var u=typeof i.getElement=="function"&&i.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var u=i.latlng,f,_;this._tooltip.options.sticky&&i.originalEvent&&(f=this._map.mouseEventToContainerPoint(i.originalEvent),_=this._map.containerPointToLayerPoint(f),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var pa=uo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var u=i&&i.tagName==="DIV"?i:document.createElement("div"),f=this.options;if(f.html instanceof Element?(sa(u),u.appendChild(f.html)):u.innerHTML=f.html!==!1?f.html:"",f.bgPos){var _=X(f.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Ol(i){return new pa(i)}uo.Default=fa;var yt=en.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Te.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){C(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Vt(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof G?i:new G(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var u=this.getPane().children,f=-i(-1/0,1/0),_=0,S=u.length,N;_<S;_++)N=u[_].style.zIndex,u[_]!==this._container&&N&&(f=i(f,+N));isFinite(f)&&(this.options.zIndex=f+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Te.ielt9){_r(this._container,this.options.opacity);var i=+new Date,u=!1,f=!1;for(var _ in this._tiles){var S=this._tiles[_];if(!(!S.current||!S.loaded)){var N=Math.min(1,(i-S.loaded)/200);_r(S.el,N),N<1?u=!0:(S.active?f=!0:this._onOpaqueTile(S),S.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),u&&($e(this._fadeFrame),this._fadeFrame=Re(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=bt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,u=this.options.maxZoom;if(i!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===i?(this._levels[f].el.style.zIndex=u-Math.abs(i-f),this._onUpdateLevel(f)):(Vt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var _=this._levels[i],S=this._map;return _||(_=this._levels[i]={},_.el=bt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=S.project(S.unproject(S.getPixelOrigin()),i).round(),_.zoom=i,this._setZoomTransform(_,S.getCenter(),S.getZoom()),y(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var i,u,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)u=this._tiles[i],u.retain=u.current;for(i in this._tiles)if(u=this._tiles[i],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var u in this._tiles)this._tiles[u].coords.z===i&&this._removeTile(u)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Vt(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,u,f,_){var S=Math.floor(i/2),N=Math.floor(u/2),R=f-1,Z=new G(+S,+N);Z.z=+R;var Y=this._tileCoordsToKey(Z),se=this._tiles[Y];return se&&se.active?(se.retain=!0,!0):(se&&se.loaded&&(se.retain=!0),R>_?this._retainParent(S,N,R,_):!1)},_retainChildren:function(i,u,f,_){for(var S=2*i;S<2*i+2;S++)for(var N=2*u;N<2*u+2;N++){var R=new G(S,N);R.z=f+1;var Z=this._tileCoordsToKey(R),Y=this._tiles[Z];if(Y&&Y.active){Y.retain=!0;continue}else Y&&Y.loaded&&(Y.retain=!0);f+1<_&&this._retainChildren(S,N,f+1,_)}},_resetView:function(i){var u=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var u=this.options;return u.minNativeZoom!==void 0&&i<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<i?u.maxNativeZoom:i},_setView:function(i,u,f,_){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var N=this.options.updateWhenZooming&&S!==this._tileZoom;(!_||N)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(i),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(i,u)},_setZoomTransforms:function(i,u){for(var f in this._levels)this._setZoomTransform(this._levels[f],i,u)},_setZoomTransform:function(i,u,f){var _=this._map.getZoomScale(f,i.zoom),S=i.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,f)).round();Te.any3d?_s(i.el,S,_):pn(i.el,S)},_resetGrid:function(){var i=this._map,u=i.options.crs,f=this._tileSize=this.getTileSize(),_=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,u.wrapLng[0]],_).x/f.x),Math.ceil(i.project([0,u.wrapLng[1]],_).x/f.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([u.wrapLat[0],0],_).y/f.x),Math.ceil(i.project([u.wrapLat[1],0],_).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var u=this._map,f=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(f,this._tileZoom),S=u.project(i,this._tileZoom).floor(),N=u.getSize().divideBy(_*2);return new ge(S.subtract(N),S.add(N))},_update:function(i){var u=this._map;if(u){var f=this._clampZoom(u.getZoom());if(i===void 0&&(i=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(i),S=this._pxBoundsToTileRange(_),N=S.getCenter(),R=[],Z=this.options.keepBuffer,Y=new ge(S.getBottomLeft().subtract([Z,-Z]),S.getTopRight().add([Z,-Z]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var se in this._tiles){var we=this._tiles[se].coords;(we.z!==this._tileZoom||!Y.contains(new G(we.x,we.y)))&&(this._tiles[se].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(i,f);return}for(var We=S.min.y;We<=S.max.y;We++)for(var st=S.min.x;st<=S.max.x;st++){var wn=new G(st,We);if(wn.z=this._tileZoom,!!this._isValidTile(wn)){var un=this._tiles[this._tileCoordsToKey(wn)];un?un.current=!0:R.push(wn)}}if(R.sort(function(Fn,Yr){return Fn.distanceTo(N)-Yr.distanceTo(N)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Hn=document.createDocumentFragment();for(st=0;st<R.length;st++)this._addTile(R[st],Hn);this._level.el.appendChild(Hn)}}}},_isValidTile:function(i){var u=this._map.options.crs;if(!u.infinite){var f=this._globalTileRange;if(!u.wrapLng&&(i.x<f.min.x||i.x>f.max.x)||!u.wrapLat&&(i.y<f.min.y||i.y>f.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(i);return Ue(this.options.bounds).overlaps(_)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var u=this._map,f=this.getTileSize(),_=i.scaleBy(f),S=_.add(f),N=u.unproject(_,i.z),R=u.unproject(S,i.z);return[N,R]},_tileCoordsToBounds:function(i){var u=this._tileCoordsToNwSe(i),f=new Qe(u[0],u[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var u=i.split(":"),f=new G(+u[0],+u[1]);return f.z=+u[2],f},_removeTile:function(i){var u=this._tiles[i];u&&(Vt(u.el),delete this._tiles[i],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){tt(i,"leaflet-tile");var u=this.getTileSize();i.style.width=u.x+"px",i.style.height=u.y+"px",i.onselectstart=y,i.onmousemove=y,Te.ielt9&&this.options.opacity<1&&_r(i,this.options.opacity)},_addTile:function(i,u){var f=this._getTilePos(i),_=this._tileCoordsToKey(i),S=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(S),this.createTile.length<2&&Re(l(this._tileReady,this,i,null,S)),pn(S,f),this._tiles[_]={el:S,coords:i,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:i})},_tileReady:function(i,u,f){u&&this.fire("tileerror",{error:u,tile:f,coords:i});var _=this._tileCoordsToKey(i);f=this._tiles[_],f&&(f.loaded=+new Date,this._map._fadeAnimated?(_r(f.el,0),$e(this._fadeFrame),this._fadeFrame=Re(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),u||(tt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Te.ielt9||!this._map._fadeAnimated?Re(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var u=new G(this._wrapX?v(i.x,this._wrapX):i.x,this._wrapY?v(i.y,this._wrapY):i.y);return u.z=i.z,u},_pxBoundsToTileRange:function(i){var u=this.getTileSize();return new ge(i.min.unscaleBy(u).floor(),i.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function gm(i){return new yt(i)}var ws=yt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,u){this._url=i,u=C(this,u),u.detectRetina&&Te.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,u){return this._url===i&&u===void 0&&(u=!0),this._url=i,u||this.redraw(),this},createTile:function(i,u){var f=document.createElement("img");return et(f,"load",l(this._tileOnLoad,this,u,f)),et(f,"error",l(this._tileOnError,this,u,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(i),f},getTileUrl:function(i){var u={r:Te.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-i.y;this.options.tms&&(u.y=f),u["-y"]=f}return O(this._url,o(u,this.options))},_tileOnLoad:function(i,u){Te.ielt9?setTimeout(l(i,this,null,u),0):i(null,u)},_tileOnError:function(i,u,f){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),i(f,u)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,u=this.options.maxZoom,f=this.options.zoomReverse,_=this.options.zoomOffset;return f&&(i=u-i),i+_},_getSubdomain:function(i){var u=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var i,u;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(u=this._tiles[i].el,u.onload=y,u.onerror=y,!u.complete)){u.src=$;var f=this._tiles[i].coords;Vt(u),delete this._tiles[i],this.fire("tileabort",{tile:u,coords:f})}},_removeTile:function(i){var u=this._tiles[i];if(u)return u.el.setAttribute("src",$),yt.prototype._removeTile.call(this,i)},_tileReady:function(i,u,f){if(!(!this._map||f&&f.getAttribute("src")===$))return yt.prototype._tileReady.call(this,i,u,f)}});function ma(i,u){return new ws(i,u)}var oh=ws.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,u){this._url=i;var f=o({},this.defaultWmsParams);for(var _ in u)_ in this.options||(f[_]=u[_]);u=C(this,u);var S=u.detectRetina&&Te.retina?2:1,N=this.getTileSize();f.width=N.x*S,f.height=N.y*S,this.wmsParams=f},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,ws.prototype.onAdd.call(this,i)},getTileUrl:function(i){var u=this._tileCoordsToNwSe(i),f=this._crs,_=De(f.project(u[0]),f.project(u[1])),S=_.min,N=_.max,R=(this._wmsVersion>=1.3&&this._crs===nh?[S.y,S.x,N.y,N.x]:[S.x,S.y,N.x,N.y]).join(","),Z=ws.prototype.getTileUrl.call(this,i);return Z+A(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(i,u){return o(this.wmsParams,i),u||this.redraw(),this}});function _m(i,u){return new oh(i,u)}ws.WMS=oh,ma.wms=_m;var Oi=en.extend({options:{padding:.1},initialize:function(i){C(this,i),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),tt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,u){var f=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),N=_.multiplyBy(-f).add(S).subtract(this._map._getNewPixelOrigin(i,u));Te.any3d?_s(this._container,N,f):pn(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,u=this._map.getSize(),f=this._map.containerPointToLayerPoint(u.multiplyBy(-i)).round();this._bounds=new ge(f,f.add(u.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ga=Oi.extend({options:{tolerance:0},getEvents:function(){var i=Oi.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");et(i,"mousemove",this._onMouseMove,this),et(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),et(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){$e(this._redrawRequest),delete this._ctx,Vt(this._container),Ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var u in this._layers)i=this._layers[u],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oi.prototype._update.call(this);var i=this._bounds,u=this._container,f=i.getSize(),_=Te.retina?2:1;pn(u,i.min),u.width=_*f.x,u.height=_*f.y,u.style.width=f.x+"px",u.style.height=f.y+"px",Te.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[h(i)]=i;var u=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var u=i._order,f=u.next,_=u.prev;f?f.prev=_:this._drawLast=_,_?_.next=f:this._drawFirst=f,delete i._order,delete this._layers[h(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var u=i.options.dashArray.split(/[, ]+/),f=[],_,S;for(S=0;S<u.length;S++){if(_=Number(u[S]),isNaN(_))return;f.push(_)}i.options._dashArray=f}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Re(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var u=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ge,this._redrawBounds.extend(i._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(i._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var u=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,u=this._redrawBounds;if(this._ctx.save(),u){var f=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)i=_.layer,(!u||i._pxBounds&&i._pxBounds.intersects(u))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,u){if(this._drawing){var f,_,S,N,R=i._parts,Z=R.length,Y=this._ctx;if(Z){for(Y.beginPath(),f=0;f<Z;f++){for(_=0,S=R[f].length;_<S;_++)N=R[f][_],Y[_?"lineTo":"moveTo"](N.x,N.y);u&&Y.closePath()}this._fillStroke(Y,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var u=i._point,f=this._ctx,_=Math.max(Math.round(i._radius),1),S=(Math.max(Math.round(i._radiusY),1)||_)/_;S!==1&&(f.save(),f.scale(1,S)),f.beginPath(),f.arc(u.x,u.y/S,_,0,Math.PI*2,!1),S!==1&&f.restore(),this._fillStroke(f,i)}},_fillStroke:function(i,u){var f=u.options;f.fill&&(i.globalAlpha=f.fillOpacity,i.fillStyle=f.fillColor||f.color,i.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(i.setLineDash&&i.setLineDash(u.options&&u.options._dashArray||[]),i.globalAlpha=f.opacity,i.lineWidth=f.weight,i.strokeStyle=f.color,i.lineCap=f.lineCap,i.lineJoin=f.lineJoin,i.stroke())},_onClick:function(i){for(var u=this._map.mouseEventToLayerPoint(i),f,_,S=this._drawFirst;S;S=S.next)f=S.layer,f.options.interactive&&f._containsPoint(u)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(f))&&(_=f);this._fireEvent(_?[_]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,u)}},_handleMouseOut:function(i){var u=this._hoveredLayer;u&&(qt(this._container,"leaflet-interactive"),this._fireEvent([u],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,u){if(!this._mouseHoverThrottled){for(var f,_,S=this._drawFirst;S;S=S.next)f=S.layer,f.options.interactive&&f._containsPoint(u)&&(_=f);_!==this._hoveredLayer&&(this._handleMouseOut(i),_&&(tt(this._container,"leaflet-interactive"),this._fireEvent([_],i,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,u,f){this._map._fireDOMEvent(u,f||u.type,i)},_bringToFront:function(i){var u=i._order;if(u){var f=u.next,_=u.prev;if(f)f.prev=_;else return;_?_.next=f:f&&(this._drawFirst=f),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(i)}},_bringToBack:function(i){var u=i._order;if(u){var f=u.next,_=u.prev;if(_)_.next=f;else return;f?f.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(i)}}});function Mi(i){return Te.canvas?new ga(i):null}var Xi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ah={_initContainer:function(){this._container=bt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Oi.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var u=i._container=Xi("shape");tt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",i._path=Xi("path"),u.appendChild(i._path),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){var u=i._container;this._container.appendChild(u),i.options.interactive&&i.addInteractiveTarget(u)},_removePath:function(i){var u=i._container;Vt(u),i.removeInteractiveTarget(u),delete this._layers[h(i)]},_updateStyle:function(i){var u=i._stroke,f=i._fill,_=i.options,S=i._container;S.stroked=!!_.stroke,S.filled=!!_.fill,_.stroke?(u||(u=i._stroke=Xi("stroke")),S.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=M(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(S.removeChild(u),i._stroke=null),_.fill?(f||(f=i._fill=Xi("fill")),S.appendChild(f),f.color=_.fillColor||_.color,f.opacity=_.fillOpacity):f&&(S.removeChild(f),i._fill=null)},_updateCircle:function(i){var u=i._point.round(),f=Math.round(i._radius),_=Math.round(i._radiusY||f);this._setPath(i,i._empty()?"M0 0":"AL "+u.x+","+u.y+" "+f+","+_+" 0,"+65535*360)},_setPath:function(i,u){i._path.v=u},_bringToFront:function(i){gs(i._container)},_bringToBack:function(i){Vi(i._container)}},xs=Te.vml?Xi:Ln,mo=Oi.extend({_initContainer:function(){this._container=xs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Vt(this._container),Ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oi.prototype._update.call(this);var i=this._bounds,u=i.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,f.setAttribute("width",u.x),f.setAttribute("height",u.y)),pn(f,i.min),f.setAttribute("viewBox",[i.min.x,i.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(i){var u=i._path=xs("path");i.options.className&&tt(u,i.options.className),i.options.interactive&&tt(u,"leaflet-interactive"),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Vt(i._path),i.removeInteractiveTarget(i._path),delete this._layers[h(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var u=i._path,f=i.options;u&&(f.stroke?(u.setAttribute("stroke",f.color),u.setAttribute("stroke-opacity",f.opacity),u.setAttribute("stroke-width",f.weight),u.setAttribute("stroke-linecap",f.lineCap),u.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?u.setAttribute("stroke-dasharray",f.dashArray):u.removeAttribute("stroke-dasharray"),f.dashOffset?u.setAttribute("stroke-dashoffset",f.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),f.fill?(u.setAttribute("fill",f.fillColor||f.color),u.setAttribute("fill-opacity",f.fillOpacity),u.setAttribute("fill-rule",f.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(i,u){this._setPath(i,Me(i._parts,u))},_updateCircle:function(i){var u=i._point,f=Math.max(Math.round(i._radius),1),_=Math.max(Math.round(i._radiusY),1)||f,S="a"+f+","+_+" 0 1,0 ",N=i._empty()?"M0 0":"M"+(u.x-f)+","+u.y+S+f*2+",0 "+S+-f*2+",0 ";this._setPath(i,N)},_setPath:function(i,u){i._path.setAttribute("d",u)},_bringToFront:function(i){gs(i._path)},_bringToBack:function(i){Vi(i._path)}});Te.vml&&mo.include(ah);function sc(i){return Te.svg||Te.vml?new mo(i):null}gt.include({getRenderer:function(i){var u=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var u=this._paneRenderers[i];return u===void 0&&(u=this._createRenderer({pane:i}),this._paneRenderers[i]=u),u},_createRenderer:function(i){return this.options.preferCanvas&&Mi(i)||sc(i)}});var _a=ho.extend({initialize:function(i,u){ho.prototype.initialize.call(this,this._boundsToLatLngs(i),u)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=Ue(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function lh(i,u){return new _a(i,u)}mo.create=xs,mo.pointsToPath=Me,ir.geometryToLayer=sr,ir.coordsToLatLng=nc,ir.coordsToLatLngs=Tl,ir.latLngToCoords=rc,ir.latLngsToCoords=El,ir.getFeature=fo,ir.asFeature=Ni,gt.mergeOptions({boxZoom:!0});var go=ln.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vs(),Iu(),this._startPoint=this._map.mouseEventToContainerPoint(i),et(document,{contextmenu:Ct,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=bt("div","leaflet-zoom-box",this._container),tt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var u=new ge(this._point,this._startPoint),f=u.getSize();pn(this._box,u.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Vt(this._box),qt(this._container,"leaflet-crosshair")),si(),_l(),Ut(document,{contextmenu:Ct,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var u=new Qe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gt.addInitHook("addHandler","boxZoom",go),gt.mergeOptions({doubleClickZoom:!0});var es=ln.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var u=this._map,f=u.getZoom(),_=u.options.zoomDelta,S=i.originalEvent.shiftKey?f-_:f+_;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(i.containerPoint,S)}});gt.addInitHook("addHandler","doubleClickZoom",es),gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var va=ln.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new qi(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}tt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qt(this._map._container,"leaflet-grab"),qt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Ue(this._map.options.maxBounds);this._offsetLimit=De(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var u=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(u),this._prunePositions(u)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,u){return i-(i-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;i.x<u.min.x&&(i.x=this._viscousLimit(i.x,u.min.x)),i.y<u.min.y&&(i.y=this._viscousLimit(i.y,u.min.y)),i.x>u.max.x&&(i.x=this._viscousLimit(i.x,u.max.x)),i.y>u.max.y&&(i.y=this._viscousLimit(i.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,u=Math.round(i/2),f=this._initialWorldOffset,_=this._draggable._newPos.x,S=(_-u+f)%i+u-f,N=(_+u+f)%i-u-f,R=Math.abs(S+f)<Math.abs(N+f)?S:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(i){var u=this._map,f=u.options,_=!f.inertia||i.noInertia||this._times.length<2;if(u.fire("dragend",i),_)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,R=f.easeLinearity,Z=S.multiplyBy(R/N),Y=Z.distanceTo([0,0]),se=Math.min(f.inertiaMaxSpeed,Y),we=Z.multiplyBy(se/Y),We=se/(f.inertiaDeceleration*R),st=we.multiplyBy(-We/2).round();!st.x&&!st.y?u.fire("moveend"):(st=u._limitOffset(st,u.options.maxBounds),Re(function(){u.panBy(st,{duration:We,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});gt.addInitHook("addHandler","dragging",va),gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var uh=ln.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),et(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,u=document.documentElement,f=i.scrollTop||u.scrollTop,_=i.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var u=this._panKeys={},f=this.keyCodes,_,S;for(_=0,S=f.left.length;_<S;_++)u[f.left[_]]=[-1*i,0];for(_=0,S=f.right.length;_<S;_++)u[f.right[_]]=[i,0];for(_=0,S=f.down.length;_<S;_++)u[f.down[_]]=[0,i];for(_=0,S=f.up.length;_<S;_++)u[f.up[_]]=[0,-1*i]},_setZoomDelta:function(i){var u=this._zoomKeys={},f=this.keyCodes,_,S;for(_=0,S=f.zoomIn.length;_<S;_++)u[f.zoomIn[_]]=i;for(_=0,S=f.zoomOut.length;_<S;_++)u[f.zoomOut[_]]=-i},_addHooks:function(){et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var u=i.keyCode,f=this._map,_;if(u in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(_=this._panKeys[u],i.shiftKey&&(_=X(_).multiplyBy(3)),f.options.maxBounds&&(_=f._limitOffset(X(_),f.options.maxBounds)),f.options.worldCopyJump){var S=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(_)));f.panTo(S)}else f.panBy(_)}else if(u in this._zoomKeys)f.setZoom(f.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Ct(i)}}});gt.addInitHook("addHandler","keyboard",uh),gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ch=ln.extend({addHooks:function(){et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var u=qd(i),f=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var _=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),_),Ct(i)},_performZoom:function(){var i=this._map,u=i.getZoom(),f=this._map.options.zoomSnap||0;i._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,N=f?Math.ceil(S/f)*f:S,R=i._limitZoom(u+(this._delta>0?N:-N))-u;this._delta=0,this._startTime=null,R&&(i.options.scrollWheelZoom==="center"?i.setZoom(u+R):i.setZoomAround(this._lastMousePos,u+R))}});gt.addInitHook("addHandler","scrollWheelZoom",ch);var vm=600;gt.mergeOptions({tapHold:Te.touchNative&&Te.safari&&Te.mobile,tapTolerance:15});var ya=ln.extend({addHooks:function(){et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var u=i.touches[0];this._startPos=this._newPos=new G(u.clientX,u.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(et(document,"touchend",nt),et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),vm),et(document,"touchend touchcancel contextmenu",this._cancel,this),et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Ut(document,"touchend",nt),Ut(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)},_onMove:function(i){var u=i.touches[0];this._newPos=new G(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,u){var f=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});f._simulated=!0,u.target.dispatchEvent(f)}});gt.addInitHook("addHandler","tapHold",ya),gt.mergeOptions({touchZoom:Te.touch,bounceAtZoomLimits:!0});var wa=ln.extend({addHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var u=this._map;if(!(!i.touches||i.touches.length!==2||u._animatingZoom||this._zooming)){var f=u.mouseEventToContainerPoint(i.touches[0]),_=u.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(f.add(_)._divideBy(2))),this._startDist=f.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),et(document,"touchmove",this._onTouchMove,this),et(document,"touchend touchcancel",this._onTouchEnd,this),nt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var u=this._map,f=u.mouseEventToContainerPoint(i.touches[0]),_=u.mouseEventToContainerPoint(i.touches[1]),S=f.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var N=f._add(_)._divideBy(2)._subtract(this._centerPoint);if(S===1&&N.x===0&&N.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),$e(this._animRequest);var R=l(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Re(R,this,!0),nt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$e(this._animRequest),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gt.addInitHook("addHandler","touchZoom",wa),gt.BoxZoom=go,gt.DoubleClickZoom=es,gt.Drag=va,gt.Keyboard=uh,gt.ScrollWheelZoom=ch,gt.TapHold=ya,gt.TouchZoom=wa,n.Bounds=ge,n.Browser=Te,n.CRS=vt,n.Canvas=ga,n.Circle=kl,n.CircleMarker=Cl,n.Class=me,n.Control=vr,n.DivIcon=pa,n.DivOverlay=ui,n.DomEvent=um,n.DomUtil=Hd,n.Draggable=qi,n.Evented=Ke,n.FeatureGroup=li,n.GeoJSON=ir,n.GridLayer=yt,n.Handler=ln,n.Icon=uo,n.ImageOverlay=Le,n.LatLng=He,n.LatLngBounds=Qe,n.Layer=en,n.LayerGroup=Ki,n.LineUtil=Ku,n.Map=gt,n.Marker=bl,n.Mixin=cm,n.Path=Qi,n.Point=G,n.PolyUtil=Gu,n.Polygon=ho,n.Polyline=Nr,n.Popup=qn,n.PosAnimation=Uu,n.Projection=Ju,n.Rectangle=_a,n.Renderer=Oi,n.SVG=mo,n.SVGOverlay=Rt,n.TileLayer=ws,n.Tooltip=Nl,n.Transformation=ot,n.Util=le,n.VideoOverlay=kt,n.bind=l,n.bounds=De,n.canvas=Mi,n.circle=Ji,n.circleMarker=ec,n.control=Hr,n.divIcon=Ol,n.extend=o,n.featureGroup=ih,n.geoJSON=K,n.geoJson=V,n.gridLayer=gm,n.icon=fm,n.imageOverlay=Xe,n.latLng=Se,n.latLngBounds=Ue,n.layerGroup=ha,n.map=Rn,n.marker=co,n.point=X,n.polygon=mm,n.polyline=pm,n.popup=Pl,n.rectangle=lh,n.setOptions=C,n.stamp=h,n.svg=sc,n.svgOverlay=ic,n.tileLayer=ma,n.tooltip=po,n.transformation=Et,n.version=r,n.videoOverlay=Cn;var oc=window.L;n.noConflict=function(){return window.L=oc,this},window.L=n})})(fv,fv.exports);var NR=fv.exports;const Mn=Wv(NR);var $1={exports:{}};(function(e,t){(function(n,r){r(t)})(Xn,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(s){L.Util.setOptions(this,s),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var l=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,l?this._withAnimation:this._noAnimation),this._markerCluster=l?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(s){if(s instanceof L.LayerGroup)return this.addLayers([s]);if(!s.getLatLng)return this._nonPointGroup.addLayer(s),this.fire("layeradd",{layer:s}),this;if(!this._map)return this._needsClustering.push(s),this.fire("layeradd",{layer:s}),this;if(this.hasLayer(s))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(s,this._maxZoom),this.fire("layeradd",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var l=s,d=this._zoom;if(s.__parent)for(;l.__parent._zoom>=d;)l=l.__parent;return this._currentShownBounds.contains(l.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(s,l):this._animationAddLayerNonAnimated(s,l)),this},removeLayer:function(s){return s instanceof L.LayerGroup?this.removeLayers([s]):s.getLatLng?this._map?s.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(s)),this._removeLayer(s,!0),this.fire("layerremove",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),s.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(s)&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,s)&&this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s}),this):(this._nonPointGroup.removeLayer(s),this.fire("layerremove",{layer:s}),this)},addLayers:function(s,l){if(!L.Util.isArray(s))return this.addLayer(s);var d=this._featureGroup,h=this._nonPointGroup,g=this.options.chunkedLoading,v=this.options.chunkInterval,y=this.options.chunkProgress,x=s.length,b=0,P=!0,C;if(this._map){var A=new Date().getTime(),k=L.bind(function(){var M=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();b<x;b++){if(g&&b%200===0){var F=new Date().getTime()-M;if(F>v)break}if(C=s[b],C instanceof L.LayerGroup){P&&(s=s.slice(),P=!1),this._extractNonGroupLayers(C,s),x=s.length;continue}if(!C.getLatLng){h.addLayer(C),l||this.fire("layeradd",{layer:C});continue}if(!this.hasLayer(C)&&(this._addLayer(C,this._maxZoom),l||this.fire("layeradd",{layer:C}),C.__parent&&C.__parent.getChildCount()===2)){var $=C.__parent.getAllChildMarkers(),Q=$[0]===C?$[1]:$[0];d.removeLayer(Q)}}y&&y(b,x,new Date().getTime()-A),b===x?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(k,this.options.chunkDelay)},this);k()}else for(var O=this._needsClustering;b<x;b++){if(C=s[b],C instanceof L.LayerGroup){P&&(s=s.slice(),P=!1),this._extractNonGroupLayers(C,s),x=s.length;continue}if(!C.getLatLng){h.addLayer(C);continue}this.hasLayer(C)||O.push(C)}return this},removeLayers:function(s){var l,d,h=s.length,g=this._featureGroup,v=this._nonPointGroup,y=!0;if(!this._map){for(l=0;l<h;l++){if(d=s[l],d instanceof L.LayerGroup){y&&(s=s.slice(),y=!1),this._extractNonGroupLayers(d,s),h=s.length;continue}this._arraySplice(this._needsClustering,d),v.removeLayer(d),this.hasLayer(d)&&this._needsRemoving.push({layer:d,latlng:d._latlng}),this.fire("layerremove",{layer:d})}return this}if(this._unspiderfy){this._unspiderfy();var x=s.slice(),b=h;for(l=0;l<b;l++){if(d=x[l],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,x),b=x.length;continue}this._unspiderfyLayer(d)}}for(l=0;l<h;l++){if(d=s[l],d instanceof L.LayerGroup){y&&(s=s.slice(),y=!1),this._extractNonGroupLayers(d,s),h=s.length;continue}if(!d.__parent){v.removeLayer(d),this.fire("layerremove",{layer:d});continue}this._removeLayer(d,!0,!0),this.fire("layerremove",{layer:d}),g.hasLayer(d)&&(g.removeLayer(d),d.clusterShow&&d.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(s){s.off(this._childMarkerEventHandlers,this),delete s.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var s=new L.LatLngBounds;this._topClusterLevel&&s.extend(this._topClusterLevel._bounds);for(var l=this._needsClustering.length-1;l>=0;l--)s.extend(this._needsClustering[l].getLatLng());return s.extend(this._nonPointGroup.getBounds()),s},eachLayer:function(s,l){var d=this._needsClustering.slice(),h=this._needsRemoving,g,v,y;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(d),v=d.length-1;v>=0;v--){for(g=!0,y=h.length-1;y>=0;y--)if(h[y].layer===d[v]){g=!1;break}g&&s.call(l,d[v])}this._nonPointGroup.eachLayer(s,l)},getLayers:function(){var s=[];return this.eachLayer(function(l){s.push(l)}),s},getLayer:function(s){var l=null;return s=parseInt(s,10),this.eachLayer(function(d){L.stamp(d)===s&&(l=d)}),l},hasLayer:function(s){if(!s)return!1;var l,d=this._needsClustering;for(l=d.length-1;l>=0;l--)if(d[l]===s)return!0;for(d=this._needsRemoving,l=d.length-1;l>=0;l--)if(d[l].layer===s)return!1;return!!(s.__parent&&s.__parent._group===this)||this._nonPointGroup.hasLayer(s)},zoomToShowLayer:function(s,l){var d=this._map;typeof l!="function"&&(l=function(){});var h=function(){(d.hasLayer(s)||d.hasLayer(s.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",h,this),this.off("animationend",h,this),d.hasLayer(s)?l():s.__parent._icon&&(this.once("spiderfied",l,this),s.__parent.spiderfy()))};s._icon&&this._map.getBounds().contains(s.getLatLng())?l():s.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",h,this),this._map.panTo(s.getLatLng())):(this._map.on("moveend",h,this),this.on("animationend",h,this),s.__parent.zoomToBounds())},onAdd:function(s){this._map=s;var l,d,h;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(s),this._nonPointGroup.addTo(s),this._gridClusters||this._generateInitialClusters(),this._maxLat=s.options.crs.projection.MAX_LATITUDE,l=0,d=this._needsRemoving.length;l<d;l++)h=this._needsRemoving[l],h.newlatlng=h.layer._latlng,h.layer._latlng=h.latlng;for(l=0,d=this._needsRemoving.length;l<d;l++)h=this._needsRemoving[l],this._removeLayer(h.layer,!0),h.layer._latlng=h.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),d=this._needsClustering,this._needsClustering=[],this.addLayers(d,!0)},onRemove:function(s){s.off("zoomend",this._zoomEnd,this),s.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(s){for(var l=s;l&&!l._icon;)l=l.__parent;return l||null},_arraySplice:function(s,l){for(var d=s.length-1;d>=0;d--)if(s[d]===l)return s.splice(d,1),!0},_removeFromGridUnclustered:function(s,l){for(var d=this._map,h=this._gridUnclustered,g=Math.floor(this._map.getMinZoom());l>=g&&h[l].removeObject(s,d.project(s.getLatLng(),l));l--);},_childMarkerDragStart:function(s){s.target.__dragStart=s.target._latlng},_childMarkerMoved:function(s){if(!this._ignoreMove&&!s.target.__dragStart){var l=s.target._popup&&s.target._popup.isOpen();this._moveChild(s.target,s.oldLatLng,s.latlng),l&&s.target.openPopup()}},_moveChild:function(s,l,d){s._latlng=l,this.removeLayer(s),s._latlng=d,this.addLayer(s)},_childMarkerDragEnd:function(s){var l=s.target.__dragStart;delete s.target.__dragStart,l&&this._moveChild(s.target,l,s.target._latlng)},_removeLayer:function(s,l,d){var h=this._gridClusters,g=this._gridUnclustered,v=this._featureGroup,y=this._map,x=Math.floor(this._map.getMinZoom());l&&this._removeFromGridUnclustered(s,this._maxZoom);var b=s.__parent,P=b._markers,C;for(this._arraySplice(P,s);b&&(b._childCount--,b._boundsNeedUpdate=!0,!(b._zoom<x));)l&&b._childCount<=1?(C=b._markers[0]===s?b._markers[1]:b._markers[0],h[b._zoom].removeObject(b,y.project(b._cLatLng,b._zoom)),g[b._zoom].addObject(C,y.project(C.getLatLng(),b._zoom)),this._arraySplice(b.__parent._childClusters,b),b.__parent._markers.push(C),C.__parent=b.__parent,b._icon&&(v.removeLayer(b),d||v.addLayer(C))):b._iconNeedsUpdate=!0,b=b.__parent;delete s.__parent},_isOrIsParent:function(s,l){for(;l;){if(s===l)return!0;l=l.parentNode}return!1},fire:function(s,l,d){if(l&&l.layer instanceof L.MarkerCluster){if(l.originalEvent&&this._isOrIsParent(l.layer._icon,l.originalEvent.relatedTarget))return;s="cluster"+s}L.FeatureGroup.prototype.fire.call(this,s,l,d)},listens:function(s,l){return L.FeatureGroup.prototype.listens.call(this,s,l)||L.FeatureGroup.prototype.listens.call(this,"cluster"+s,l)},_defaultIconCreateFunction:function(s){var l=s.getChildCount(),d=" marker-cluster-";return l<10?d+="small":l<100?d+="medium":d+="large",new L.DivIcon({html:"<div><span>"+l+"</span></div>",className:"marker-cluster"+d,iconSize:new L.Point(40,40)})},_bindEvents:function(){var s=this._map,l=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,g=this.options.spiderfyOnEveryZoom;(l||h||g)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),s.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(s){var l=s.layer,d=l;if(!(s.type==="clusterkeypress"&&s.originalEvent&&s.originalEvent.keyCode!==13)){for(;d._childClusters.length===1;)d=d._childClusters[0];d._zoom===this._maxZoom&&d._childCount===l._childCount&&this.options.spiderfyOnMaxZoom?l.spiderfy():this.options.zoomToBoundsOnClick&&l.zoomToBounds(),this.options.spiderfyOnEveryZoom&&l.spiderfy(),s.originalEvent&&s.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(s){var l=this._map;this._inZoomAnimation||(this._shownPolygon&&l.removeLayer(this._shownPolygon),s.layer.getChildCount()>2&&s.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(s.layer.getConvexHull(),this.options.polygonOptions),l.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var s=this.options.spiderfyOnMaxZoom,l=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,h=this.options.spiderfyOnEveryZoom,g=this._map;(s||d||h)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),l&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),g.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var s=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),s),this._currentShownBounds=s}},_generateInitialClusters:function(){var s=Math.ceil(this._map.getMaxZoom()),l=Math.floor(this._map.getMinZoom()),d=this.options.maxClusterRadius,h=d;typeof d!="function"&&(h=function(){return d}),this.options.disableClusteringAtZoom!==null&&(s=this.options.disableClusteringAtZoom-1),this._maxZoom=s,this._gridClusters={},this._gridUnclustered={};for(var g=s;g>=l;g--)this._gridClusters[g]=new L.DistanceGrid(h(g)),this._gridUnclustered[g]=new L.DistanceGrid(h(g));this._topClusterLevel=new this._markerCluster(this,l-1)},_addLayer:function(s,l){var d=this._gridClusters,h=this._gridUnclustered,g=Math.floor(this._map.getMinZoom()),v,y;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(s),s.on(this._childMarkerEventHandlers,this);l>=g;l--){v=this._map.project(s.getLatLng(),l);var x=d[l].getNearObject(v);if(x){x._addChild(s),s.__parent=x;return}if(x=h[l].getNearObject(v),x){var b=x.__parent;b&&this._removeLayer(x,!1);var P=new this._markerCluster(this,l,x,s);d[l].addObject(P,this._map.project(P._cLatLng,l)),x.__parent=P,s.__parent=P;var C=P;for(y=l-1;y>b._zoom;y--)C=new this._markerCluster(this,y,C),d[y].addObject(C,this._map.project(x.getLatLng(),y));b._addChild(C),this._removeFromGridUnclustered(x,l);return}h[l].addObject(s,v)}this._topClusterLevel._addChild(s),s.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(s){s instanceof L.MarkerCluster&&s._iconNeedsUpdate&&s._updateIcon()})},_enqueue:function(s){this._queue.push(s),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var s=0;s<this._queue.length;s++)this._queue[s].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var s=Math.round(this._map._zoom);this._processQueue(),this._zoom<s&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,s)):this._zoom>s?(this._animationStart(),this._animationZoomOut(this._zoom,s)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(s){var l=this._maxLat;return l!==void 0&&(s.getNorth()>=l&&(s._northEast.lat=1/0),s.getSouth()<=-l&&(s._southWest.lat=-1/0)),s},_animationAddLayerNonAnimated:function(s,l){if(l===s)this._featureGroup.addLayer(s);else if(l._childCount===2){l._addToMap();var d=l.getAllChildMarkers();this._featureGroup.removeLayer(d[0]),this._featureGroup.removeLayer(d[1])}else l._updateIcon()},_extractNonGroupLayers:function(s,l){var d=s.getLayers(),h=0,g;for(l=l||[];h<d.length;h++){if(g=d[h],g instanceof L.LayerGroup){this._extractNonGroupLayers(g,l);continue}l.push(g)}return l},_overrideMarkerIcon:function(s){var l=s.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[s]}});return l}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(s,l){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(s,l){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(s,l){this._animationAddLayerNonAnimated(s,l)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(s,l){var d=this._getExpandedVisibleBounds(),h=this._featureGroup,g=Math.floor(this._map.getMinZoom()),v;this._ignoreMove=!0,this._topClusterLevel._recursively(d,s,g,function(y){var x=y._latlng,b=y._markers,P;for(d.contains(x)||(x=null),y._isSingleParent()&&s+1===l?(h.removeLayer(y),y._recursivelyAddChildrenToMap(null,l,d)):(y.clusterHide(),y._recursivelyAddChildrenToMap(x,l,d)),v=b.length-1;v>=0;v--)P=b[v],d.contains(P._latlng)||h.removeLayer(P)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(d,l),h.eachLayer(function(y){!(y instanceof L.MarkerCluster)&&y._icon&&y.clusterShow()}),this._topClusterLevel._recursively(d,s,l,function(y){y._recursivelyRestoreChildPositions(l)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(d,s,g,function(y){h.removeLayer(y),y.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(s,l){this._animationZoomOutSingle(this._topClusterLevel,s-1,l),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s,this._getExpandedVisibleBounds())},_animationAddLayer:function(s,l){var d=this,h=this._featureGroup;h.addLayer(s),l!==s&&(l._childCount>2?(l._updateIcon(),this._forceLayout(),this._animationStart(),s._setPos(this._map.latLngToLayerPoint(l.getLatLng())),s.clusterHide(),this._enqueue(function(){h.removeLayer(s),s.clusterShow(),d._animationEnd()})):(this._forceLayout(),d._animationStart(),d._animationZoomOutSingle(l,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(s,l,d){var h=this._getExpandedVisibleBounds(),g=Math.floor(this._map.getMinZoom());s._recursivelyAnimateChildrenInAndAddSelfToMap(h,g,l+1,d);var v=this;this._forceLayout(),s._recursivelyBecomeVisible(h,d),this._enqueue(function(){if(s._childCount===1){var y=s._markers[0];this._ignoreMove=!0,y.setLatLng(y.getLatLng()),this._ignoreMove=!1,y.clusterShow&&y.clusterShow()}else s._recursively(h,d,g,function(x){x._recursivelyRemoveChildrenFromMap(h,g,l+1)});v._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(s){return new L.MarkerClusterGroup(s)};var o=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(s,l,d,h){L.Marker.prototype.initialize.call(this,d?d._cLatLng||d.getLatLng():new L.LatLng(0,0),{icon:this,pane:s.options.clusterPane}),this._group=s,this._zoom=l,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,d&&this._addChild(d),h&&this._addChild(h)},getAllChildMarkers:function(s,l){s=s||[];for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d].getAllChildMarkers(s,l);for(var h=this._markers.length-1;h>=0;h--)l&&this._markers[h].__dragStart||s.push(this._markers[h]);return s},getChildCount:function(){return this._childCount},zoomToBounds:function(s){for(var l=this._childClusters.slice(),d=this._group._map,h=d.getBoundsZoom(this._bounds),g=this._zoom+1,v=d.getZoom(),y;l.length>0&&h>g;){g++;var x=[];for(y=0;y<l.length;y++)x=x.concat(l[y]._childClusters);l=x}h>g?this._group._map.setView(this._latlng,g):h<=v?this._group._map.setView(this._latlng,v+1):this._group._map.fitBounds(this._bounds,s)},getBounds:function(){var s=new L.LatLngBounds;return s.extend(this._bounds),s},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(s,l){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(s),s instanceof L.MarkerCluster?(l||(this._childClusters.push(s),s.__parent=this),this._childCount+=s._childCount):(l||this._markers.push(s),this._childCount++),this.__parent&&this.__parent._addChild(s,!0)},_setClusterCenter:function(s){this._cLatLng||(this._cLatLng=s._cLatLng||s._latlng)},_resetBounds:function(){var s=this._bounds;s._southWest&&(s._southWest.lat=1/0,s._southWest.lng=1/0),s._northEast&&(s._northEast.lat=-1/0,s._northEast.lng=-1/0)},_recalculateBounds:function(){var s=this._markers,l=this._childClusters,d=0,h=0,g=this._childCount,v,y,x,b;if(g!==0){for(this._resetBounds(),v=0;v<s.length;v++)x=s[v]._latlng,this._bounds.extend(x),d+=x.lat,h+=x.lng;for(v=0;v<l.length;v++)y=l[v],y._boundsNeedUpdate&&y._recalculateBounds(),this._bounds.extend(y._bounds),x=y._wLatLng,b=y._childCount,d+=x.lat*b,h+=x.lng*b;this._latlng=this._wLatLng=new L.LatLng(d/g,h/g),this._boundsNeedUpdate=!1}},_addToMap:function(s){s&&(this._backupLatlng=this._latlng,this.setLatLng(s)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(s,l,d){this._recursively(s,this._group._map.getMinZoom(),d-1,function(h){var g=h._markers,v,y;for(v=g.length-1;v>=0;v--)y=g[v],y._icon&&(y._setPos(l),y.clusterHide())},function(h){var g=h._childClusters,v,y;for(v=g.length-1;v>=0;v--)y=g[v],y._icon&&(y._setPos(l),y.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(s,l,d,h){this._recursively(s,h,l,function(g){g._recursivelyAnimateChildrenIn(s,g._group._map.latLngToLayerPoint(g.getLatLng()).round(),d),g._isSingleParent()&&d-1===h?(g.clusterShow(),g._recursivelyRemoveChildrenFromMap(s,l,d)):g.clusterHide(),g._addToMap()})},_recursivelyBecomeVisible:function(s,l){this._recursively(s,this._group._map.getMinZoom(),l,null,function(d){d.clusterShow()})},_recursivelyAddChildrenToMap:function(s,l,d){this._recursively(d,this._group._map.getMinZoom()-1,l,function(h){if(l!==h._zoom)for(var g=h._markers.length-1;g>=0;g--){var v=h._markers[g];d.contains(v._latlng)&&(s&&(v._backupLatlng=v.getLatLng(),v.setLatLng(s),v.clusterHide&&v.clusterHide()),h._group._featureGroup.addLayer(v))}},function(h){h._addToMap(s)})},_recursivelyRestoreChildPositions:function(s){for(var l=this._markers.length-1;l>=0;l--){var d=this._markers[l];d._backupLatlng&&(d.setLatLng(d._backupLatlng),delete d._backupLatlng)}if(s-1===this._zoom)for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h]._restorePosition();else for(var g=this._childClusters.length-1;g>=0;g--)this._childClusters[g]._recursivelyRestoreChildPositions(s)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(s,l,d,h){var g,v;this._recursively(s,l-1,d-1,function(y){for(v=y._markers.length-1;v>=0;v--)g=y._markers[v],(!h||!h.contains(g._latlng))&&(y._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())},function(y){for(v=y._childClusters.length-1;v>=0;v--)g=y._childClusters[v],(!h||!h.contains(g._latlng))&&(y._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())})},_recursively:function(s,l,d,h,g){var v=this._childClusters,y=this._zoom,x,b;if(l<=y&&(h&&h(this),g&&y===d&&g(this)),y<l||y<d)for(x=v.length-1;x>=0;x--)b=v[x],b._boundsNeedUpdate&&b._recalculateBounds(),s.intersects(b._bounds)&&b._recursively(s,l,d,h,g)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var s=this.options.opacity;return this.setOpacity(0),this.options.opacity=s,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(s){this._cellSize=s,this._sqCellSize=s*s,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(s,l){var d=this._getCoord(l.x),h=this._getCoord(l.y),g=this._grid,v=g[h]=g[h]||{},y=v[d]=v[d]||[],x=L.Util.stamp(s);this._objectPoint[x]=l,y.push(s)},updateObject:function(s,l){this.removeObject(s),this.addObject(s,l)},removeObject:function(s,l){var d=this._getCoord(l.x),h=this._getCoord(l.y),g=this._grid,v=g[h]=g[h]||{},y=v[d]=v[d]||[],x,b;for(delete this._objectPoint[L.Util.stamp(s)],x=0,b=y.length;x<b;x++)if(y[x]===s)return y.splice(x,1),b===1&&delete v[d],!0},eachObject:function(s,l){var d,h,g,v,y,x,b,P=this._grid;for(d in P){y=P[d];for(h in y)for(x=y[h],g=0,v=x.length;g<v;g++)b=s.call(l,x[g]),b&&(g--,v--)}},getNearObject:function(s){var l=this._getCoord(s.x),d=this._getCoord(s.y),h,g,v,y,x,b,P,C,A=this._objectPoint,k=this._sqCellSize,O=null;for(h=d-1;h<=d+1;h++)if(y=this._grid[h],y){for(g=l-1;g<=l+1;g++)if(x=y[g],x)for(v=0,b=x.length;v<b;v++)P=x[v],C=this._sqDist(A[L.Util.stamp(P)],s),(C<k||C<=k&&O===null)&&(k=C,O=P)}return O},_getCoord:function(s){var l=Math.floor(s/this._cellSize);return isFinite(l)?l:s},_sqDist:function(s,l){var d=l.x-s.x,h=l.y-s.y;return d*d+h*h}},function(){L.QuickHull={getDistant:function(s,l){var d=l[1].lat-l[0].lat,h=l[0].lng-l[1].lng;return h*(s.lat-l[0].lat)+d*(s.lng-l[0].lng)},findMostDistantPointFromBaseLine:function(s,l){var d=0,h=null,g=[],v,y,x;for(v=l.length-1;v>=0;v--){if(y=l[v],x=this.getDistant(y,s),x>0)g.push(y);else continue;x>d&&(d=x,h=y)}return{maxPoint:h,newPoints:g}},buildConvexHull:function(s,l){var d=[],h=this.findMostDistantPointFromBaseLine(s,l);return h.maxPoint?(d=d.concat(this.buildConvexHull([s[0],h.maxPoint],h.newPoints)),d=d.concat(this.buildConvexHull([h.maxPoint,s[1]],h.newPoints)),d):[s[0]]},getConvexHull:function(s){var l=!1,d=!1,h=!1,g=!1,v=null,y=null,x=null,b=null,P=null,C=null,A;for(A=s.length-1;A>=0;A--){var k=s[A];(l===!1||k.lat>l)&&(v=k,l=k.lat),(d===!1||k.lat<d)&&(y=k,d=k.lat),(h===!1||k.lng>h)&&(x=k,h=k.lng),(g===!1||k.lng<g)&&(b=k,g=k.lng)}d!==l?(C=y,P=v):(C=b,P=x);var O=[].concat(this.buildConvexHull([C,P],s),this.buildConvexHull([P,C],s));return O}}}(),L.MarkerCluster.include({getConvexHull:function(){var s=this.getAllChildMarkers(),l=[],d,h;for(h=s.length-1;h>=0;h--)d=s[h].getLatLng(),l.push(d);return L.QuickHull.getConvexHull(l)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var s=this.getAllChildMarkers(null,!0),l=this._group,d=l._map,h=d.latLngToLayerPoint(this._latlng),g;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?g=this._group.options.spiderfyShapePositions(s.length,h):s.length>=this._circleSpiralSwitchover?g=this._generatePointsSpiral(s.length,h):(h.y+=10,g=this._generatePointsCircle(s.length,h)),this._animationSpiderfy(s,g)}},unspiderfy:function(s){this._group._inZoomAnimation||(this._animationUnspiderfy(s),this._group._spiderfied=null)},_generatePointsCircle:function(s,l){var d=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+s),h=d/this._2PI,g=this._2PI/s,v=[],y,x;for(h=Math.max(h,35),v.length=s,y=0;y<s;y++)x=this._circleStartAngle+y*g,v[y]=new L.Point(l.x+h*Math.cos(x),l.y+h*Math.sin(x))._round();return v},_generatePointsSpiral:function(s,l){var d=this._group.options.spiderfyDistanceMultiplier,h=d*this._spiralLengthStart,g=d*this._spiralFootSeparation,v=d*this._spiralLengthFactor*this._2PI,y=0,x=[],b;for(x.length=s,b=s;b>=0;b--)b<s&&(x[b]=new L.Point(l.x+h*Math.cos(y),l.y+h*Math.sin(y))._round()),y+=g/h+b*5e-4,h+=v/y;return x},_noanimationUnspiderfy:function(){var s=this._group,l=s._map,d=s._featureGroup,h=this.getAllChildMarkers(null,!0),g,v;for(s._ignoreMove=!0,this.setOpacity(1),v=h.length-1;v>=0;v--)g=h[v],d.removeLayer(g),g._preSpiderfyLatlng&&(g.setLatLng(g._preSpiderfyLatlng),delete g._preSpiderfyLatlng),g.setZIndexOffset&&g.setZIndexOffset(0),g._spiderLeg&&(l.removeLayer(g._spiderLeg),delete g._spiderLeg);s.fire("unspiderfied",{cluster:this,markers:h}),s._ignoreMove=!1,s._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(s,l){var d=this._group,h=d._map,g=d._featureGroup,v=this._group.options.spiderLegPolylineOptions,y,x,b,P;for(d._ignoreMove=!0,y=0;y<s.length;y++)P=h.layerPointToLatLng(l[y]),x=s[y],b=new L.Polyline([this._latlng,P],v),h.addLayer(b),x._spiderLeg=b,x._preSpiderfyLatlng=x._latlng,x.setLatLng(P),x.setZIndexOffset&&x.setZIndexOffset(1e6),g.addLayer(x);this.setOpacity(.3),d._ignoreMove=!1,d.fire("spiderfied",{cluster:this,markers:s})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(s,l){var d=this,h=this._group,g=h._map,v=h._featureGroup,y=this._latlng,x=g.latLngToLayerPoint(y),b=L.Path.SVG,P=L.extend({},this._group.options.spiderLegPolylineOptions),C=P.opacity,A,k,O,M,F,$;for(C===void 0&&(C=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),b?(P.opacity=0,P.className=(P.className||"")+" leaflet-cluster-spider-leg"):P.opacity=C,h._ignoreMove=!0,A=0;A<s.length;A++)k=s[A],$=g.layerPointToLatLng(l[A]),O=new L.Polyline([y,$],P),g.addLayer(O),k._spiderLeg=O,b&&(M=O._path,F=M.getTotalLength()+.1,M.style.strokeDasharray=F,M.style.strokeDashoffset=F),k.setZIndexOffset&&k.setZIndexOffset(1e6),k.clusterHide&&k.clusterHide(),v.addLayer(k),k._setPos&&k._setPos(x);for(h._forceLayout(),h._animationStart(),A=s.length-1;A>=0;A--)$=g.layerPointToLatLng(l[A]),k=s[A],k._preSpiderfyLatlng=k._latlng,k.setLatLng($),k.clusterShow&&k.clusterShow(),b&&(O=k._spiderLeg,M=O._path,M.style.strokeDashoffset=0,O.setStyle({opacity:C}));this.setOpacity(.3),h._ignoreMove=!1,setTimeout(function(){h._animationEnd(),h.fire("spiderfied",{cluster:d,markers:s})},200)},_animationUnspiderfy:function(s){var l=this,d=this._group,h=d._map,g=d._featureGroup,v=s?h._latLngToNewLayerPoint(this._latlng,s.zoom,s.center):h.latLngToLayerPoint(this._latlng),y=this.getAllChildMarkers(null,!0),x=L.Path.SVG,b,P,C,A,k,O;for(d._ignoreMove=!0,d._animationStart(),this.setOpacity(1),P=y.length-1;P>=0;P--)b=y[P],b._preSpiderfyLatlng&&(b.closePopup(),b.setLatLng(b._preSpiderfyLatlng),delete b._preSpiderfyLatlng,O=!0,b._setPos&&(b._setPos(v),O=!1),b.clusterHide&&(b.clusterHide(),O=!1),O&&g.removeLayer(b),x&&(C=b._spiderLeg,A=C._path,k=A.getTotalLength()+.1,A.style.strokeDashoffset=k,C.setStyle({opacity:0})));d._ignoreMove=!1,setTimeout(function(){var M=0;for(P=y.length-1;P>=0;P--)b=y[P],b._spiderLeg&&M++;for(P=y.length-1;P>=0;P--)b=y[P],b._spiderLeg&&(b.clusterShow&&b.clusterShow(),b.setZIndexOffset&&b.setZIndexOffset(0),M>1&&g.removeLayer(b),h.removeLayer(b._spiderLeg),delete b._spiderLeg);d._animationEnd(),d.fire("unspiderfied",{cluster:l,markers:y})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(s){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(s))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(s){this._spiderfied&&this._spiderfied.unspiderfy(s)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(s){s._spiderLeg&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow(),s.setZIndexOffset&&s.setZIndexOffset(0),this._map.removeLayer(s._spiderLeg),delete s._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(s){return s?s instanceof L.MarkerClusterGroup?s=s._topClusterLevel.getAllChildMarkers():s instanceof L.LayerGroup?s=s._layers:s instanceof L.MarkerCluster?s=s.getAllChildMarkers():s instanceof L.Marker&&(s=[s]):s=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(s),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(s),this},_flagParentsIconsNeedUpdate:function(s){var l,d;for(l in s)for(d=s[l].__parent;d;)d._iconNeedsUpdate=!0,d=d.__parent},_refreshSingleMarkerModeMarkers:function(s){var l,d;for(l in s)d=s[l],this.hasLayer(d)&&d.setIcon(this._overrideMarkerIcon(d))}}),L.Marker.include({refreshIconOptions:function(s,l){var d=this.options.icon;return L.setOptions(d,s),this.setIcon(d),l&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=o,Object.defineProperty(n,"__esModule",{value:!0})})})($1,$1.exports);(function(){function e(t){return this instanceof e?(this._canvas=t=typeof t=="string"?document.getElementById(t):t,this._ctx=t.getContext("2d"),this._width=t.width,this._height=t.height,this._max=1,void this.clear()):new e(t)}e.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t,n){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,n){n=n||15;var r=this._circle=document.createElement("canvas"),o=r.getContext("2d"),s=this._r=t+n;return r.width=r.height=2*s,o.shadowOffsetX=o.shadowOffsetY=200,o.shadowBlur=n,o.shadowColor="black",o.beginPath(),o.arc(s-200,s-200,t,0,2*Math.PI,!0),o.closePath(),o.fill(),this},gradient:function(t){var n=document.createElement("canvas"),r=n.getContext("2d"),o=r.createLinearGradient(0,0,0,256);n.width=1,n.height=256;for(var s in t)o.addColorStop(s,t[s]);return r.fillStyle=o,r.fillRect(0,0,1,256),this._grad=r.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var n=this._ctx;n.clearRect(0,0,this._width,this._height);for(var r,o=0,s=this._data.length;s>o;o++)r=this._data[o],n.globalAlpha=Math.max(r[2]/this._max,t||.05),n.drawImage(this._circle,r[0]-this._r,r[1]-this._r);var l=n.getImageData(0,0,this._width,this._height);return this._colorize(l.data,this._grad),n.putImageData(l,0,0),this},_colorize:function(t,n){for(var r,o=3,s=t.length;s>o;o+=4)r=4*t[o],r&&(t[o-3]=n[r],t[o-2]=n[r+1],t[o-1]=n[r+2])}},window.simpleheat=e})(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(e,t){this._latlngs=e,L.setOptions(this,t)},setLatLngs:function(e){return this._latlngs=e,this.redraw()},addLatLng:function(e){return this._latlngs.push(e),this.redraw()},setOptions:function(e){return L.setOptions(this,e),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(e){this._map=e,this._canvas||this._initCanvas(),e._panes.overlayPane.appendChild(this._canvas),e.on("moveend",this._reset,this),e.options.zoomAnimation&&L.Browser.any3d&&e.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(e){e.getPanes().overlayPane.removeChild(this._canvas),e.off("moveend",this._reset,this),e.options.zoomAnimation&&e.off("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},_initCanvas:function(){var e=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),t=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);e.style[t]="50% 50%";var n=this._map.getSize();e.width=n.x,e.height=n.y;var r=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(e,"leaflet-zoom-"+(r?"animated":"hide")),this._heat=simpleheat(e),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var e=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,e);var t=this._map.getSize();this._heat._width!==t.x&&(this._canvas.width=this._heat._width=t.x),this._heat._height!==t.y&&(this._canvas.height=this._heat._height=t.y),this._redraw()},_redraw:function(){var e,t,n,r,o,s,l,d,h,g=[],v=this._heat._r,y=this._map.getSize(),x=new L.Bounds(L.point([-v,-v]),y.add([v,v])),b=this.options.max===void 0?1:this.options.max,P=this.options.maxZoom===void 0?this._map.getMaxZoom():this.options.maxZoom,C=1/Math.pow(2,Math.max(0,Math.min(P-this._map.getZoom(),12))),A=v/2,k=[],O=this._map._getMapPanePos(),M=O.x%A,F=O.y%A;for(e=0,t=this._latlngs.length;t>e;e++)if(n=this._map.latLngToContainerPoint(this._latlngs[e]),x.contains(n)){o=Math.floor((n.x-M)/A)+2,s=Math.floor((n.y-F)/A)+2;var $=this._latlngs[e].alt!==void 0?this._latlngs[e].alt:this._latlngs[e][2]!==void 0?+this._latlngs[e][2]:1;h=$*C,k[s]=k[s]||[],r=k[s][o],r?(r[0]=(r[0]*r[2]+n.x*h)/(r[2]+h),r[1]=(r[1]*r[2]+n.y*h)/(r[2]+h),r[2]+=h):k[s][o]=[n.x,n.y,h]}for(e=0,t=k.length;t>e;e++)if(k[e])for(l=0,d=k[e].length;d>l;l++)r=k[e][l],r&&g.push([Math.round(r[0]),Math.round(r[1]),Math.min(r[2],b)]);this._heat.data(g).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,n,t):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(n)+" scale("+t+")"}}),L.heatLayer=function(e,t){return new L.HeatLayer(e,t)};const el={road:"道路（市管轄）",sidewalk:"歩道（市管轄）",traffic_light:"信号（市管轄）",sign:"標識（市管轄）",streetlight:"街灯（市管轄）",park:"公園（市管轄）",garbage:"不法投棄・清掃（市管轄）",water:"側溝・水路（市管轄）",tree:"街路樹・雑草（市管轄）",private_facility:"企業施設・敷地（企業）",construction:"工事関連（企業）",other:"その他"};var U1={exports:{}};(function(e,t){(function(n,r){r(t)})(Xn,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(s){L.Util.setOptions(this,s),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var l=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,l?this._withAnimation:this._noAnimation),this._markerCluster=l?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(s){if(s instanceof L.LayerGroup)return this.addLayers([s]);if(!s.getLatLng)return this._nonPointGroup.addLayer(s),this.fire("layeradd",{layer:s}),this;if(!this._map)return this._needsClustering.push(s),this.fire("layeradd",{layer:s}),this;if(this.hasLayer(s))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(s,this._maxZoom),this.fire("layeradd",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var l=s,d=this._zoom;if(s.__parent)for(;l.__parent._zoom>=d;)l=l.__parent;return this._currentShownBounds.contains(l.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(s,l):this._animationAddLayerNonAnimated(s,l)),this},removeLayer:function(s){return s instanceof L.LayerGroup?this.removeLayers([s]):(s.getLatLng?this._map?s.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(s)),this._removeLayer(s,!0),this.fire("layerremove",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),s.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(s)&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow())):(!this._arraySplice(this._needsClustering,s)&&this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})):(this._nonPointGroup.removeLayer(s),this.fire("layerremove",{layer:s})),this)},addLayers:function(s,l){if(!L.Util.isArray(s))return this.addLayer(s);var d,h=this._featureGroup,g=this._nonPointGroup,v=this.options.chunkedLoading,y=this.options.chunkInterval,x=this.options.chunkProgress,b=s.length,P=0,C=!0;if(this._map){var A=new Date().getTime(),k=L.bind(function(){var M=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();P<b;P++){if(v&&P%200==0){var F=new Date().getTime()-M;if(y<F)break}if((d=s[P])instanceof L.LayerGroup)C&&(s=s.slice(),C=!1),this._extractNonGroupLayers(d,s),b=s.length;else if(d.getLatLng){if(!this.hasLayer(d)&&(this._addLayer(d,this._maxZoom),l||this.fire("layeradd",{layer:d}),d.__parent&&d.__parent.getChildCount()===2)){var $=d.__parent.getAllChildMarkers(),Q=$[0]===d?$[1]:$[0];h.removeLayer(Q)}}else g.addLayer(d),l||this.fire("layeradd",{layer:d})}x&&x(P,b,new Date().getTime()-A),P===b?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(k,this.options.chunkDelay)},this);k()}else for(var O=this._needsClustering;P<b;P++)(d=s[P])instanceof L.LayerGroup?(C&&(s=s.slice(),C=!1),this._extractNonGroupLayers(d,s),b=s.length):d.getLatLng?this.hasLayer(d)||O.push(d):g.addLayer(d);return this},removeLayers:function(s){var l,d,h=s.length,g=this._featureGroup,v=this._nonPointGroup,y=!0;if(!this._map){for(l=0;l<h;l++)(d=s[l])instanceof L.LayerGroup?(y&&(s=s.slice(),y=!1),this._extractNonGroupLayers(d,s),h=s.length):(this._arraySplice(this._needsClustering,d),v.removeLayer(d),this.hasLayer(d)&&this._needsRemoving.push({layer:d,latlng:d._latlng}),this.fire("layerremove",{layer:d}));return this}if(this._unspiderfy){this._unspiderfy();var x=s.slice(),b=h;for(l=0;l<b;l++)(d=x[l])instanceof L.LayerGroup?(this._extractNonGroupLayers(d,x),b=x.length):this._unspiderfyLayer(d)}for(l=0;l<h;l++)(d=s[l])instanceof L.LayerGroup?(y&&(s=s.slice(),y=!1),this._extractNonGroupLayers(d,s),h=s.length):d.__parent?(this._removeLayer(d,!0,!0),this.fire("layerremove",{layer:d}),g.hasLayer(d)&&(g.removeLayer(d),d.clusterShow&&d.clusterShow())):(v.removeLayer(d),this.fire("layerremove",{layer:d}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(s){s.off(this._childMarkerEventHandlers,this),delete s.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var s=new L.LatLngBounds;this._topClusterLevel&&s.extend(this._topClusterLevel._bounds);for(var l=this._needsClustering.length-1;0<=l;l--)s.extend(this._needsClustering[l].getLatLng());return s.extend(this._nonPointGroup.getBounds()),s},eachLayer:function(s,l){var d,h,g,v=this._needsClustering.slice(),y=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(v),h=v.length-1;0<=h;h--){for(d=!0,g=y.length-1;0<=g;g--)if(y[g].layer===v[h]){d=!1;break}d&&s.call(l,v[h])}this._nonPointGroup.eachLayer(s,l)},getLayers:function(){var s=[];return this.eachLayer(function(l){s.push(l)}),s},getLayer:function(s){var l=null;return s=parseInt(s,10),this.eachLayer(function(d){L.stamp(d)===s&&(l=d)}),l},hasLayer:function(s){if(!s)return!1;var l,d=this._needsClustering;for(l=d.length-1;0<=l;l--)if(d[l]===s)return!0;for(l=(d=this._needsRemoving).length-1;0<=l;l--)if(d[l].layer===s)return!1;return!(!s.__parent||s.__parent._group!==this)||this._nonPointGroup.hasLayer(s)},zoomToShowLayer:function(s,l){var d=this._map;typeof l!="function"&&(l=function(){});var h=function(){!d.hasLayer(s)&&!d.hasLayer(s.__parent)||this._inZoomAnimation||(this._map.off("moveend",h,this),this.off("animationend",h,this),d.hasLayer(s)?l():s.__parent._icon&&(this.once("spiderfied",l,this),s.__parent.spiderfy()))};s._icon&&this._map.getBounds().contains(s.getLatLng())?l():s.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",h,this),this._map.panTo(s.getLatLng())):(this._map.on("moveend",h,this),this.on("animationend",h,this),s.__parent.zoomToBounds())},onAdd:function(s){var l,d,h;if(this._map=s,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(s),this._nonPointGroup.addTo(s),this._gridClusters||this._generateInitialClusters(),this._maxLat=s.options.crs.projection.MAX_LATITUDE,l=0,d=this._needsRemoving.length;l<d;l++)(h=this._needsRemoving[l]).newlatlng=h.layer._latlng,h.layer._latlng=h.latlng;for(l=0,d=this._needsRemoving.length;l<d;l++)h=this._needsRemoving[l],this._removeLayer(h.layer,!0),h.layer._latlng=h.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),d=this._needsClustering,this._needsClustering=[],this.addLayers(d,!0)},onRemove:function(s){s.off("zoomend",this._zoomEnd,this),s.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(s){for(var l=s;l&&!l._icon;)l=l.__parent;return l||null},_arraySplice:function(s,l){for(var d=s.length-1;0<=d;d--)if(s[d]===l)return s.splice(d,1),!0},_removeFromGridUnclustered:function(s,l){for(var d=this._map,h=this._gridUnclustered,g=Math.floor(this._map.getMinZoom());g<=l&&h[l].removeObject(s,d.project(s.getLatLng(),l));l--);},_childMarkerDragStart:function(s){s.target.__dragStart=s.target._latlng},_childMarkerMoved:function(s){if(!this._ignoreMove&&!s.target.__dragStart){var l=s.target._popup&&s.target._popup.isOpen();this._moveChild(s.target,s.oldLatLng,s.latlng),l&&s.target.openPopup()}},_moveChild:function(s,l,d){s._latlng=l,this.removeLayer(s),s._latlng=d,this.addLayer(s)},_childMarkerDragEnd:function(s){var l=s.target.__dragStart;delete s.target.__dragStart,l&&this._moveChild(s.target,l,s.target._latlng)},_removeLayer:function(s,l,d){var h=this._gridClusters,g=this._gridUnclustered,v=this._featureGroup,y=this._map,x=Math.floor(this._map.getMinZoom());l&&this._removeFromGridUnclustered(s,this._maxZoom);var b,P=s.__parent,C=P._markers;for(this._arraySplice(C,s);P&&(P._childCount--,P._boundsNeedUpdate=!0,!(P._zoom<x));)l&&P._childCount<=1?(b=P._markers[0]===s?P._markers[1]:P._markers[0],h[P._zoom].removeObject(P,y.project(P._cLatLng,P._zoom)),g[P._zoom].addObject(b,y.project(b.getLatLng(),P._zoom)),this._arraySplice(P.__parent._childClusters,P),P.__parent._markers.push(b),b.__parent=P.__parent,P._icon&&(v.removeLayer(P),d||v.addLayer(b))):P._iconNeedsUpdate=!0,P=P.__parent;delete s.__parent},_isOrIsParent:function(s,l){for(;l;){if(s===l)return!0;l=l.parentNode}return!1},fire:function(s,l,d){if(l&&l.layer instanceof L.MarkerCluster){if(l.originalEvent&&this._isOrIsParent(l.layer._icon,l.originalEvent.relatedTarget))return;s="cluster"+s}L.FeatureGroup.prototype.fire.call(this,s,l,d)},listens:function(s,l){return L.FeatureGroup.prototype.listens.call(this,s,l)||L.FeatureGroup.prototype.listens.call(this,"cluster"+s,l)},_defaultIconCreateFunction:function(s){var l=s.getChildCount(),d=" marker-cluster-";return d+=l<10?"small":l<100?"medium":"large",new L.DivIcon({html:"<div><span>"+l+"</span></div>",className:"marker-cluster"+d,iconSize:new L.Point(40,40)})},_bindEvents:function(){var s=this._map,l=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,g=this.options.spiderfyOnEveryZoom;(l||h||g)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),s.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(s){var l=s.layer,d=l;if(s.type!=="clusterkeypress"||!s.originalEvent||s.originalEvent.keyCode===13){for(;d._childClusters.length===1;)d=d._childClusters[0];d._zoom===this._maxZoom&&d._childCount===l._childCount&&this.options.spiderfyOnMaxZoom?l.spiderfy():this.options.zoomToBoundsOnClick&&l.zoomToBounds(),this.options.spiderfyOnEveryZoom&&l.spiderfy(),s.originalEvent&&s.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(s){var l=this._map;this._inZoomAnimation||(this._shownPolygon&&l.removeLayer(this._shownPolygon),2<s.layer.getChildCount()&&s.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(s.layer.getConvexHull(),this.options.polygonOptions),l.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var s=this.options.spiderfyOnMaxZoom,l=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,h=this.options.spiderfyOnEveryZoom,g=this._map;(s||d||h)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),l&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),g.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var s=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),s),this._currentShownBounds=s}},_generateInitialClusters:function(){var s=Math.ceil(this._map.getMaxZoom()),l=Math.floor(this._map.getMinZoom()),d=this.options.maxClusterRadius,h=d;typeof d!="function"&&(h=function(){return d}),this.options.disableClusteringAtZoom!==null&&(s=this.options.disableClusteringAtZoom-1),this._maxZoom=s,this._gridClusters={},this._gridUnclustered={};for(var g=s;l<=g;g--)this._gridClusters[g]=new L.DistanceGrid(h(g)),this._gridUnclustered[g]=new L.DistanceGrid(h(g));this._topClusterLevel=new this._markerCluster(this,l-1)},_addLayer:function(s,l){var d,h,g=this._gridClusters,v=this._gridUnclustered,y=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(s),s.on(this._childMarkerEventHandlers,this);y<=l;l--){d=this._map.project(s.getLatLng(),l);var x=g[l].getNearObject(d);if(x)return x._addChild(s),void(s.__parent=x);if(x=v[l].getNearObject(d)){var b=x.__parent;b&&this._removeLayer(x,!1);var P=new this._markerCluster(this,l,x,s);g[l].addObject(P,this._map.project(P._cLatLng,l)),x.__parent=P;var C=s.__parent=P;for(h=l-1;h>b._zoom;h--)C=new this._markerCluster(this,h,C),g[h].addObject(C,this._map.project(x.getLatLng(),h));return b._addChild(C),void this._removeFromGridUnclustered(x,l)}v[l].addObject(s,d)}this._topClusterLevel._addChild(s),s.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(s){s instanceof L.MarkerCluster&&s._iconNeedsUpdate&&s._updateIcon()})},_enqueue:function(s){this._queue.push(s),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var s=0;s<this._queue.length;s++)this._queue[s].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var s=Math.round(this._map._zoom);this._processQueue(),this._zoom<s&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,s)):this._zoom>s?(this._animationStart(),this._animationZoomOut(this._zoom,s)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(s){var l=this._maxLat;return l!==void 0&&(s.getNorth()>=l&&(s._northEast.lat=1/0),s.getSouth()<=-l&&(s._southWest.lat=-1/0)),s},_animationAddLayerNonAnimated:function(s,l){if(l===s)this._featureGroup.addLayer(s);else if(l._childCount===2){l._addToMap();var d=l.getAllChildMarkers();this._featureGroup.removeLayer(d[0]),this._featureGroup.removeLayer(d[1])}else l._updateIcon()},_extractNonGroupLayers:function(s,l){var d,h=s.getLayers(),g=0;for(l=l||[];g<h.length;g++)(d=h[g])instanceof L.LayerGroup?this._extractNonGroupLayers(d,l):l.push(d);return l},_overrideMarkerIcon:function(s){return s.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[s]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(s,l){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(s,l){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(s,l){this._animationAddLayerNonAnimated(s,l)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(s,l){var d,h=this._getExpandedVisibleBounds(),g=this._featureGroup,v=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(h,s,v,function(y){var x,b=y._latlng,P=y._markers;for(h.contains(b)||(b=null),y._isSingleParent()&&s+1===l?(g.removeLayer(y),y._recursivelyAddChildrenToMap(null,l,h)):(y.clusterHide(),y._recursivelyAddChildrenToMap(b,l,h)),d=P.length-1;0<=d;d--)x=P[d],h.contains(x._latlng)||g.removeLayer(x)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(h,l),g.eachLayer(function(y){y instanceof L.MarkerCluster||!y._icon||y.clusterShow()}),this._topClusterLevel._recursively(h,s,l,function(y){y._recursivelyRestoreChildPositions(l)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(h,s,v,function(y){g.removeLayer(y),y.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(s,l){this._animationZoomOutSingle(this._topClusterLevel,s-1,l),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s,this._getExpandedVisibleBounds())},_animationAddLayer:function(s,l){var d=this,h=this._featureGroup;h.addLayer(s),l!==s&&(2<l._childCount?(l._updateIcon(),this._forceLayout(),this._animationStart(),s._setPos(this._map.latLngToLayerPoint(l.getLatLng())),s.clusterHide(),this._enqueue(function(){h.removeLayer(s),s.clusterShow(),d._animationEnd()})):(this._forceLayout(),d._animationStart(),d._animationZoomOutSingle(l,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(s,l,d){var h=this._getExpandedVisibleBounds(),g=Math.floor(this._map.getMinZoom());s._recursivelyAnimateChildrenInAndAddSelfToMap(h,g,l+1,d);var v=this;this._forceLayout(),s._recursivelyBecomeVisible(h,d),this._enqueue(function(){if(s._childCount===1){var y=s._markers[0];this._ignoreMove=!0,y.setLatLng(y.getLatLng()),this._ignoreMove=!1,y.clusterShow&&y.clusterShow()}else s._recursively(h,d,g,function(x){x._recursivelyRemoveChildrenFromMap(h,g,l+1)});v._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(s){return new L.MarkerClusterGroup(s)};var o=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(s,l,d,h){L.Marker.prototype.initialize.call(this,d?d._cLatLng||d.getLatLng():new L.LatLng(0,0),{icon:this,pane:s.options.clusterPane}),this._group=s,this._zoom=l,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,d&&this._addChild(d),h&&this._addChild(h)},getAllChildMarkers:function(s,l){s=s||[];for(var d=this._childClusters.length-1;0<=d;d--)this._childClusters[d].getAllChildMarkers(s,l);for(var h=this._markers.length-1;0<=h;h--)l&&this._markers[h].__dragStart||s.push(this._markers[h]);return s},getChildCount:function(){return this._childCount},zoomToBounds:function(s){for(var l,d=this._childClusters.slice(),h=this._group._map,g=h.getBoundsZoom(this._bounds),v=this._zoom+1,y=h.getZoom();0<d.length&&v<g;){v++;var x=[];for(l=0;l<d.length;l++)x=x.concat(d[l]._childClusters);d=x}v<g?this._group._map.setView(this._latlng,v):g<=y?this._group._map.setView(this._latlng,y+1):this._group._map.fitBounds(this._bounds,s)},getBounds:function(){var s=new L.LatLngBounds;return s.extend(this._bounds),s},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(s,l){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(s),s instanceof L.MarkerCluster?(l||(this._childClusters.push(s),s.__parent=this),this._childCount+=s._childCount):(l||this._markers.push(s),this._childCount++),this.__parent&&this.__parent._addChild(s,!0)},_setClusterCenter:function(s){this._cLatLng||(this._cLatLng=s._cLatLng||s._latlng)},_resetBounds:function(){var s=this._bounds;s._southWest&&(s._southWest.lat=1/0,s._southWest.lng=1/0),s._northEast&&(s._northEast.lat=-1/0,s._northEast.lng=-1/0)},_recalculateBounds:function(){var s,l,d,h,g=this._markers,v=this._childClusters,y=0,x=0,b=this._childCount;if(b!==0){for(this._resetBounds(),s=0;s<g.length;s++)d=g[s]._latlng,this._bounds.extend(d),y+=d.lat,x+=d.lng;for(s=0;s<v.length;s++)(l=v[s])._boundsNeedUpdate&&l._recalculateBounds(),this._bounds.extend(l._bounds),d=l._wLatLng,h=l._childCount,y+=d.lat*h,x+=d.lng*h;this._latlng=this._wLatLng=new L.LatLng(y/b,x/b),this._boundsNeedUpdate=!1}},_addToMap:function(s){s&&(this._backupLatlng=this._latlng,this.setLatLng(s)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(s,l,d){this._recursively(s,this._group._map.getMinZoom(),d-1,function(h){var g,v,y=h._markers;for(g=y.length-1;0<=g;g--)(v=y[g])._icon&&(v._setPos(l),v.clusterHide())},function(h){var g,v,y=h._childClusters;for(g=y.length-1;0<=g;g--)(v=y[g])._icon&&(v._setPos(l),v.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(s,l,d,h){this._recursively(s,h,l,function(g){g._recursivelyAnimateChildrenIn(s,g._group._map.latLngToLayerPoint(g.getLatLng()).round(),d),g._isSingleParent()&&d-1===h?(g.clusterShow(),g._recursivelyRemoveChildrenFromMap(s,l,d)):g.clusterHide(),g._addToMap()})},_recursivelyBecomeVisible:function(s,l){this._recursively(s,this._group._map.getMinZoom(),l,null,function(d){d.clusterShow()})},_recursivelyAddChildrenToMap:function(s,l,d){this._recursively(d,this._group._map.getMinZoom()-1,l,function(h){if(l!==h._zoom)for(var g=h._markers.length-1;0<=g;g--){var v=h._markers[g];d.contains(v._latlng)&&(s&&(v._backupLatlng=v.getLatLng(),v.setLatLng(s),v.clusterHide&&v.clusterHide()),h._group._featureGroup.addLayer(v))}},function(h){h._addToMap(s)})},_recursivelyRestoreChildPositions:function(s){for(var l=this._markers.length-1;0<=l;l--){var d=this._markers[l];d._backupLatlng&&(d.setLatLng(d._backupLatlng),delete d._backupLatlng)}if(s-1===this._zoom)for(var h=this._childClusters.length-1;0<=h;h--)this._childClusters[h]._restorePosition();else for(var g=this._childClusters.length-1;0<=g;g--)this._childClusters[g]._recursivelyRestoreChildPositions(s)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(s,l,d,h){var g,v;this._recursively(s,l-1,d-1,function(y){for(v=y._markers.length-1;0<=v;v--)g=y._markers[v],h&&h.contains(g._latlng)||(y._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())},function(y){for(v=y._childClusters.length-1;0<=v;v--)g=y._childClusters[v],h&&h.contains(g._latlng)||(y._group._featureGroup.removeLayer(g),g.clusterShow&&g.clusterShow())})},_recursively:function(s,l,d,h,g){var v,y,x=this._childClusters,b=this._zoom;if(l<=b&&(h&&h(this),g&&b===d&&g(this)),b<l||b<d)for(v=x.length-1;0<=v;v--)(y=x[v])._boundsNeedUpdate&&y._recalculateBounds(),s.intersects(y._bounds)&&y._recursively(s,l,d,h,g)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var s=this.options.opacity;return this.setOpacity(0),this.options.opacity=s,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(s){this._cellSize=s,this._sqCellSize=s*s,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(s,l){var d=this._getCoord(l.x),h=this._getCoord(l.y),g=this._grid,v=g[h]=g[h]||{},y=v[d]=v[d]||[],x=L.Util.stamp(s);this._objectPoint[x]=l,y.push(s)},updateObject:function(s,l){this.removeObject(s),this.addObject(s,l)},removeObject:function(s,l){var d,h,g=this._getCoord(l.x),v=this._getCoord(l.y),y=this._grid,x=y[v]=y[v]||{},b=x[g]=x[g]||[];for(delete this._objectPoint[L.Util.stamp(s)],d=0,h=b.length;d<h;d++)if(b[d]===s)return b.splice(d,1),h===1&&delete x[g],!0},eachObject:function(s,l){var d,h,g,v,y,x,b=this._grid;for(d in b)for(h in y=b[d])for(g=0,v=(x=y[h]).length;g<v;g++)s.call(l,x[g])&&(g--,v--)},getNearObject:function(s){var l,d,h,g,v,y,x,b,P=this._getCoord(s.x),C=this._getCoord(s.y),A=this._objectPoint,k=this._sqCellSize,O=null;for(l=C-1;l<=C+1;l++)if(g=this._grid[l]){for(d=P-1;d<=P+1;d++)if(v=g[d])for(h=0,y=v.length;h<y;h++)x=v[h],((b=this._sqDist(A[L.Util.stamp(x)],s))<k||b<=k&&O===null)&&(k=b,O=x)}return O},_getCoord:function(s){var l=Math.floor(s/this._cellSize);return isFinite(l)?l:s},_sqDist:function(s,l){var d=l.x-s.x,h=l.y-s.y;return d*d+h*h}},L.QuickHull={getDistant:function(s,l){var d=l[1].lat-l[0].lat;return(l[0].lng-l[1].lng)*(s.lat-l[0].lat)+d*(s.lng-l[0].lng)},findMostDistantPointFromBaseLine:function(s,l){var d,h,g,v=0,y=null,x=[];for(d=l.length-1;0<=d;d--)h=l[d],0<(g=this.getDistant(h,s))&&(x.push(h),v<g&&(v=g,y=h));return{maxPoint:y,newPoints:x}},buildConvexHull:function(s,l){var d=[],h=this.findMostDistantPointFromBaseLine(s,l);return h.maxPoint?d=(d=d.concat(this.buildConvexHull([s[0],h.maxPoint],h.newPoints))).concat(this.buildConvexHull([h.maxPoint,s[1]],h.newPoints)):[s[0]]},getConvexHull:function(s){var l,d=!1,h=!1,g=!1,v=!1,y=null,x=null,b=null,P=null,C=null,A=null;for(l=s.length-1;0<=l;l--){var k=s[l];(d===!1||k.lat>d)&&(d=(y=k).lat),(h===!1||k.lat<h)&&(h=(x=k).lat),(g===!1||k.lng>g)&&(g=(b=k).lng),(v===!1||k.lng<v)&&(v=(P=k).lng)}return C=h!==d?(A=x,y):(A=P,b),[].concat(this.buildConvexHull([A,C],s),this.buildConvexHull([C,A],s))}},L.MarkerCluster.include({getConvexHull:function(){var s,l,d=this.getAllChildMarkers(),h=[];for(l=d.length-1;0<=l;l--)s=d[l].getLatLng(),h.push(s);return L.QuickHull.getConvexHull(h)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var s,l=this.getAllChildMarkers(null,!0),d=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),s=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(l.length,d):l.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(l.length,d):(d.y+=10,this._generatePointsCircle(l.length,d)),this._animationSpiderfy(l,s)}},unspiderfy:function(s){this._group._inZoomAnimation||(this._animationUnspiderfy(s),this._group._spiderfied=null)},_generatePointsCircle:function(s,l){var d,h,g=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+s)/this._2PI,v=this._2PI/s,y=[];for(g=Math.max(g,35),y.length=s,d=0;d<s;d++)h=this._circleStartAngle+d*v,y[d]=new L.Point(l.x+g*Math.cos(h),l.y+g*Math.sin(h))._round();return y},_generatePointsSpiral:function(s,l){var d,h=this._group.options.spiderfyDistanceMultiplier,g=h*this._spiralLengthStart,v=h*this._spiralFootSeparation,y=h*this._spiralLengthFactor*this._2PI,x=0,b=[];for(d=b.length=s;0<=d;d--)d<s&&(b[d]=new L.Point(l.x+g*Math.cos(x),l.y+g*Math.sin(x))._round()),g+=y/(x+=v/g+5e-4*d);return b},_noanimationUnspiderfy:function(){var s,l,d=this._group,h=d._map,g=d._featureGroup,v=this.getAllChildMarkers(null,!0);for(d._ignoreMove=!0,this.setOpacity(1),l=v.length-1;0<=l;l--)s=v[l],g.removeLayer(s),s._preSpiderfyLatlng&&(s.setLatLng(s._preSpiderfyLatlng),delete s._preSpiderfyLatlng),s.setZIndexOffset&&s.setZIndexOffset(0),s._spiderLeg&&(h.removeLayer(s._spiderLeg),delete s._spiderLeg);d.fire("unspiderfied",{cluster:this,markers:v}),d._ignoreMove=!1,d._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(s,l){var d,h,g,v,y=this._group,x=y._map,b=y._featureGroup,P=this._group.options.spiderLegPolylineOptions;for(y._ignoreMove=!0,d=0;d<s.length;d++)v=x.layerPointToLatLng(l[d]),h=s[d],g=new L.Polyline([this._latlng,v],P),x.addLayer(g),h._spiderLeg=g,h._preSpiderfyLatlng=h._latlng,h.setLatLng(v),h.setZIndexOffset&&h.setZIndexOffset(1e6),b.addLayer(h);this.setOpacity(.3),y._ignoreMove=!1,y.fire("spiderfied",{cluster:this,markers:s})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(s,l){var d,h,g,v,y,x,b=this,P=this._group,C=P._map,A=P._featureGroup,k=this._latlng,O=C.latLngToLayerPoint(k),M=L.Path.SVG,F=L.extend({},this._group.options.spiderLegPolylineOptions),$=F.opacity;for($===void 0&&($=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),M?(F.opacity=0,F.className=(F.className||"")+" leaflet-cluster-spider-leg"):F.opacity=$,P._ignoreMove=!0,d=0;d<s.length;d++)h=s[d],x=C.layerPointToLatLng(l[d]),g=new L.Polyline([k,x],F),C.addLayer(g),h._spiderLeg=g,M&&(y=(v=g._path).getTotalLength()+.1,v.style.strokeDasharray=y,v.style.strokeDashoffset=y),h.setZIndexOffset&&h.setZIndexOffset(1e6),h.clusterHide&&h.clusterHide(),A.addLayer(h),h._setPos&&h._setPos(O);for(P._forceLayout(),P._animationStart(),d=s.length-1;0<=d;d--)x=C.layerPointToLatLng(l[d]),(h=s[d])._preSpiderfyLatlng=h._latlng,h.setLatLng(x),h.clusterShow&&h.clusterShow(),M&&((v=(g=h._spiderLeg)._path).style.strokeDashoffset=0,g.setStyle({opacity:$}));this.setOpacity(.3),P._ignoreMove=!1,setTimeout(function(){P._animationEnd(),P.fire("spiderfied",{cluster:b,markers:s})},200)},_animationUnspiderfy:function(s){var l,d,h,g,v,y,x=this,b=this._group,P=b._map,C=b._featureGroup,A=s?P._latLngToNewLayerPoint(this._latlng,s.zoom,s.center):P.latLngToLayerPoint(this._latlng),k=this.getAllChildMarkers(null,!0),O=L.Path.SVG;for(b._ignoreMove=!0,b._animationStart(),this.setOpacity(1),d=k.length-1;0<=d;d--)(l=k[d])._preSpiderfyLatlng&&(l.closePopup(),l.setLatLng(l._preSpiderfyLatlng),delete l._preSpiderfyLatlng,y=!0,l._setPos&&(l._setPos(A),y=!1),l.clusterHide&&(l.clusterHide(),y=!1),y&&C.removeLayer(l),O&&(v=(g=(h=l._spiderLeg)._path).getTotalLength()+.1,g.style.strokeDashoffset=v,h.setStyle({opacity:0})));b._ignoreMove=!1,setTimeout(function(){var M=0;for(d=k.length-1;0<=d;d--)(l=k[d])._spiderLeg&&M++;for(d=k.length-1;0<=d;d--)(l=k[d])._spiderLeg&&(l.clusterShow&&l.clusterShow(),l.setZIndexOffset&&l.setZIndexOffset(0),1<M&&C.removeLayer(l),P.removeLayer(l._spiderLeg),delete l._spiderLeg);b._animationEnd(),b.fire("unspiderfied",{cluster:x,markers:k})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(s){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(s))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(s){this._spiderfied&&this._spiderfied.unspiderfy(s)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(s){s._spiderLeg&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow(),s.setZIndexOffset&&s.setZIndexOffset(0),this._map.removeLayer(s._spiderLeg),delete s._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(s){return s?s instanceof L.MarkerClusterGroup?s=s._topClusterLevel.getAllChildMarkers():s instanceof L.LayerGroup?s=s._layers:s instanceof L.MarkerCluster?s=s.getAllChildMarkers():s instanceof L.Marker&&(s=[s]):s=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(s),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(s),this},_flagParentsIconsNeedUpdate:function(s){var l,d;for(l in s)for(d=s[l].__parent;d;)d._iconNeedsUpdate=!0,d=d.__parent},_refreshSingleMarkerModeMarkers:function(s){var l,d;for(l in s)d=s[l],this.hasLayer(d)&&d.setIcon(this._overrideMarkerIcon(d))}}),L.Marker.include({refreshIconOptions:function(s,l){var d=this.options.icon;return L.setOptions(d,s),this.setIcon(d),l&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=o,Object.defineProperty(n,"__esModule",{value:!0})})})(U1,U1.exports);class Ic extends Error{}Ic.prototype.name="InvalidTokenError";function OR(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function MR(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return OR(t)}catch{return atob(t)}}function gC(e,t){if(typeof e!="string")throw new Ic("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new Ic(`Invalid token specified: missing part #${n+1}`);let o;try{o=MR(r)}catch(s){throw new Ic(`Invalid token specified: invalid base64 for part #${n+1} (${s.message})`)}try{return JSON.parse(o)}catch(s){throw new Ic(`Invalid token specified: invalid json for part #${n+1} (${s.message})`)}}function DR(){const e=localStorage.getItem("token");return{user:T.useMemo(()=>{if(!e)return null;try{return gC(e)}catch{return null}},[e])}}function AR(){const[e,t]=T.useState([]),n=T.useCallback(async()=>{const r=localStorage.getItem("token");if(r)try{const o=await fetch("undefined/api/company/linked_companies",{headers:{Authorization:`Bearer ${r}`}});if(!o.ok)throw new Error("企業リストの取得に失敗しました");const s=await o.json();t(Array.isArray(s)?s:[])}catch(o){console.error("useCompanies error:",o)}},[]);return T.useEffect(()=>{n()},[n]),{companies:e,fetchCompanies:n}}const jR=(e=[])=>e.map(t=>{const n=t.properties??t;if(!(t.geometry&&Array.isArray(t.geometry.coordinates)&&t.geometry.coordinates.length===2&&!isNaN(t.geometry.coordinates[0]))){const o=n.lat??n.latitude??null,s=n.lng??n.lon??null;o!=null&&s!=null&&!isNaN(o)&&(t.geometry={type:"Point",coordinates:[Number(s),Number(o)]})}return!n.geometry&&t.geometry&&(n.geometry=t.geometry),t});function IR(){const[e,t]=T.useState([]),[n,r]=T.useState({category:"",status:"",area:"",dateFrom:"",dateTo:"",search:""}),[o,s]=T.useState(1),[l,d]=T.useState(1),[h,g]=T.useState(!1),[v,y]=T.useState([]);return{reports:e,filters:n,setFilters:r,loading:h,page:o,setPage:s,totalPages:l,fetchReports:async(b=1,P=n)=>{g(!0);try{const C=localStorage.getItem("token"),A=new URLSearchParams(Object.entries({...P,page:b}).filter(([,F])=>F!=="")),k=await fetch(`undefined/api/company/reports?${A.toString()}`,{headers:{Authorization:`Bearer ${C}`}});if(!k.ok)throw new Error("レポートの取得に失敗しました");const O=await k.json(),M=jR(O.features||[]);t(M),s(b),d(O.total_pages||1),y([...new Set(M.map(F=>(F.properties??F).category).filter(Boolean))])}catch(C){console.error("レポート取得エラー:",C),t([])}finally{g(!1)}},categoriesInReports:v}}function RR(){const[e,t]=T.useState([]),[n,r]=T.useState(1),[o,s]=T.useState(1),[l,d]=T.useState(!1);return{assignments:e,loading:l,page:n,setPage:r,totalPages:o,fetchAssignments:async(g=1)=>{d(!0);try{const v=localStorage.getItem("token"),y=await fetch(`undefined/api/company/assignments?page=${g}`,{headers:{Authorization:`Bearer ${v}`}});if(!y.ok)throw new Error("割り当てレポートの取得に失敗しました");const x=await y.json(),b=Array.isArray(x)?x:x.assignments||[];t(b),s(x.total_pages||1),r(g)}catch(v){console.error("useCompanyAssignments error:",v),t([])}finally{d(!1)}}}}const W1=void 0;function FR(){const[e,t]=T.useState([]),[n,r]=T.useState(!1),[o,s]=T.useState(null),l=T.useRef(!1),d=async()=>{r(!0),s(null);try{const g=localStorage.getItem("token"),v=await fetch(`${W1}/api/company/areas`,{headers:{Authorization:`Bearer ${g}`}});if(v.status===404){l.current||(console.warn("Company areas endpoint not found (404)"),l.current=!0),t([]);return}if(!v.ok)throw new Error(`${v.status} ${v.statusText}`);const y=await v.json();t(y)}catch(g){g instanceof Error?s(g):s(new Error("Unknown error")),t([])}finally{r(!1)}},h=async g=>{const v=localStorage.getItem("token");try{const y=await fetch(`${W1}/api/company/areas`,{method:"POST",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"},body:JSON.stringify({areas:g})});if(!y.ok)throw new Error(`${y.status} ${y.statusText}`);await d()}catch(y){y instanceof Error&&s(y)}};return T.useEffect(()=>{d()},[]),{areas:e,loading:n,error:o,fetchAreas:d,updateAreas:h}}function BR(e,t){const[n,r]=T.useState([]),[o,s]=T.useState(""),[l,d]=T.useState(null),[h,g]=T.useState(null),v=T.useRef(null),y=T.useRef(null),x=void 0,b=void 0;return T.useEffect(()=>{r([]),g(null)},[e]),T.useEffect(()=>{if(!t||!e)return;const C=localStorage.getItem("token");C&&fetch(`${x}/api/company/chats?report_id=${e}`,{headers:{Authorization:`Bearer ${C}`}}).then(A=>A.json()).then(A=>A.chat_id?g(A.chat_id):fetch(`${x}/api/company/chats`,{method:"POST",headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"},body:JSON.stringify({report_id:e})}).then(k=>k.json()).then(k=>g(k.chat_id))).catch(A=>console.error("chatId取得エラー:",A))},[e,t]),T.useEffect(()=>{if(!h||!t)return;const C=localStorage.getItem("token");C&&fetch(`${x}/api/company/chats/${h}/messages`,{headers:{Authorization:`Bearer ${C}`}}).then(A=>A.json()).then(A=>{Array.isArray(A)&&r(A.map(k=>{var O;return{id:k.id,text:k.text||null,image:((O=k.image)==null?void 0:O.replace(/\\/g,"/"))??null,sender:k.sender_id||k.user_id,created_at:k.created_at}}))}).catch(A=>console.error("チャット履歴取得失敗:",A))},[h,t]),T.useEffect(()=>{if(!h||!t)return;const C=localStorage.getItem("token");if(!C)return;const A=new WebSocket(`${b}/ws/company/chats/${h}?token=${C}`);return y.current=A,A.onmessage=k=>{var O;try{const M=JSON.parse(k.data),F={id:M.id,text:M.text||null,image:((O=M.image)==null?void 0:O.replace(/\\/g,"/"))??null,sender:M.sender_id||M.user_id,created_at:M.created_at};r($=>$.some(Q=>Q.id===F.id)?$:[...$,F])}catch(M){console.error("WSメッセージパースエラー:",M)}},()=>A.readyState===WebSocket.OPEN&&A.close()},[h,t]),T.useEffect(()=>{var C;(C=v.current)==null||C.scrollIntoView({behavior:"smooth"})},[n]),{messages:n,newMessage:o,setNewMessage:s,imageFile:l,setImageFile:d,sendMessage:async()=>{if(!o.trim()&&!l)return;const C=localStorage.getItem("token");if(!C)return;const A=new FormData;A.append("text",o.trim()),l&&A.append("file",l);const k=gC(C).id,O={id:Date.now(),text:o.trim()||null,image:l?URL.createObjectURL(l):null,sender:k,created_at:new Date().toISOString()};r(M=>[...M,O]),s(""),d(null);try{if(!(await fetch(`${x}/api/company/chats/${h}/messages`,{method:"POST",headers:{Authorization:`Bearer ${C}`},body:A})).ok)throw new Error("メッセージ送信失敗")}catch(M){console.error("sendMessage error:",M),r(F=>F.filter($=>$.id!==O.id))}},bottomRef:v}}function _C(){const[e,t]=T.useState([{id:1,name:"pothole"},{id:2,name:"graffiti"},{id:3,name:"litter"},{id:4,name:"other"}]);return{categories:e,addCategory:o=>{const s={id:Date.now(),name:o};t(l=>[...l,s])},updateCategory:(o,s)=>{t(l=>l.map(d=>d.id===o?{...d,name:s}:d))}}}const du=[{name:"北海道",cities:["旭川市","芦別市","伊達市","歌志内市","岩見沢市","釧路市","恵庭市","江別市","根室市","砂川市","札幌市","三笠市","士別市","室蘭市","小樽市","深川市","石狩市","赤平市","千歳市","帯広市","滝川市","稚内市","登別市","苫小牧市","函館市","美唄市","富良野市","北見市","北広島市","北斗市","名寄市","網走市","紋別市","夕張市","留萌市"]},{name:"青森県",cities:["つがる市","むつ市","五所川原市","弘前市","黒石市","三沢市","十和田市","青森市","八戸市","平川市"]},{name:"岩手県",cities:["一関市","遠野市","奥州市","花巻市","釜石市","久慈市","宮古市","盛岡市","大船渡市","滝沢市","二戸市","八幡平市","北上市","陸前高田市"]},{name:"宮城県",cities:["塩竈市","角田市","岩沼市","気仙沼市","栗原市","石巻市","仙台市","多賀城市","大崎市","登米市","東松島市","白石市","富谷市","名取市"]},{name:"秋田県",cities:["にかほ市","横手市","潟上市","鹿角市","秋田市","仙北市","大館市","大仙市","男鹿市","湯沢市","能代市","北秋田市","由利本荘市"]},{name:"山形県",cities:["寒河江市","山形市","酒田市","上山市","新庄市","村山市","長井市","鶴岡市","天童市","東根市","南陽市","尾花沢市","米沢市"]},{name:"福島県",cities:["いわき市","伊達市","会津若松市","喜多方市","郡山市","須賀川市","相馬市","田村市","南相馬市","二本松市","白河市","福島市","本宮市"]},{name:"茨城県",cities:["かすみがうら市","つくばみらい市","つくば市","ひたちなか市","稲敷市","下妻市","笠間市","牛久市","結城市","古河市","行方市","高萩市","坂東市","桜川市","鹿嶋市","取手市","守谷市","小美玉市","常総市","常陸太田市","常陸大宮市","神栖市","水戸市","石岡市","筑西市","潮来市","土浦市","那珂市","日立市","鉾田市","北茨城市","龍ケ崎市"]},{name:"栃木県",cities:["さくら市","宇都宮市","下野市","佐野市","鹿沼市","小山市","真岡市","足利市","大田原市","栃木市","那須烏山市","那須塩原市","日光市","矢板市"]},{name:"群馬県",cities:["みどり市","安中市","伊勢崎市","館林市","桐生市","高崎市","渋川市","沼田市","前橋市","太田市","藤岡市","富岡市"]},{name:"埼玉県",cities:["さいたま市","ふじみ野市","羽生市","越谷市","桶川市","加須市","吉川市","久喜市","狭山市","熊谷市","戸田市","幸手市","行田市","鴻巣市","坂戸市","三郷市","志木市","春日部市","所沢市","上尾市","新座市","深谷市","川越市","川口市","草加市","秩父市","朝霞市","鶴ヶ島市","東松山市","日高市","入間市","白岡市","八潮市","飯能市","富士見市","北本市","本庄市","蓮田市","和光市","蕨市"]},{name:"千葉県",cities:["いすみ市","旭市","印西市","浦安市","我孫子市","鎌ケ谷市","鴨川市","館山市","君津市","香取市","佐倉市","山武市","四街道市","市原市","市川市","習志野市","勝浦市","松戸市","成田市","千葉市","船橋市","匝瑳市","袖ケ浦市","大網白里市","銚子市","東金市","南房総市","柏市","白井市","八街市","八千代市","富津市","富里市","茂原市","木更津市","野田市","流山市"]},{name:"東京都",cities:["あきる野市","稲城市","羽村市","葛飾区","江戸川区","江東区","港区","荒川区","国分寺市","国立市","狛江市","三鷹市","渋谷区","小金井市","小平市","昭島市","新宿区","杉並区","世田谷区","清瀬市","西東京市","青梅市","千代田区","足立区","多摩市","台東区","大田区","中央区","中野区","町田市","調布市","東久留米市","東村山市","東大和市","日野市","八王子市","板橋区","品川区","府中市","武蔵村山市","武蔵野市","福生市","文京区","豊島区","北区","墨田区","目黒区","立川市","練馬区"]},{name:"神奈川県",cities:["綾瀬市","伊勢原市","横須賀市","横浜市","海老名市","鎌倉市","茅ヶ崎市","厚木市","座間市","三浦市","小田原市","秦野市","逗子市","川崎市","相模原市","大和市","藤沢市","南足柄市","平塚市"]},{name:"新潟県",cities:["阿賀野市","燕市","加茂市","魚沼市","見附市","五泉市","佐渡市","三条市","糸魚川市","十日町市","小千谷市","上越市","新潟市","新発田市","村上市","胎内市","長岡市","南魚沼市","柏崎市","妙高市"]},{name:"富山県",cities:["滑川市","魚津市","高岡市","黒部市","射水市","小矢部市","砺波市","南砺市","氷見市","富山市"]},{name:"石川県",cities:["かほく市","羽咋市","加賀市","金沢市","七尾市","珠洲市","小松市","能美市","白山市","野々市市","輪島市"]},{name:"福井県",cities:["あわら市","越前市","坂井市","鯖江市","勝山市","小浜市","大野市","敦賀市","福井市"]},{name:"山梨県",cities:["甲州市","甲斐市","甲府市","山梨市","上野原市","大月市","中央市","笛吹市","都留市","南アルプス市","韮崎市","富士吉田市","北杜市"]},{name:"長野県",cities:["安曇野市","伊那市","塩尻市","岡谷市","茅野市","駒ヶ根市","佐久市","小諸市","松本市","上田市","諏訪市","須坂市","千曲市","大町市","中野市","長野市","東御市","飯山市","飯田市"]},{name:"岐阜県",cities:["羽島市","下呂市","可児市","海津市","各務原市","関市","岐阜市","郡上市","恵那市","高山市","山県市","瑞穂市","瑞浪市","多治見市","大垣市","中津川市","土岐市","飛騨市","美濃加茂市","美濃市","本巣市"]},{name:"静岡県",cities:["伊東市","伊豆の国市","伊豆市","下田市","掛川市","菊川市","湖西市","御前崎市","御殿場市","三島市","沼津市","焼津市","裾野市","静岡市","袋井市","島田市","藤枝市","熱海市","磐田市","浜松市","富士宮市","富士市","牧之原市"]},{name:"愛知県",cities:["あま市","みよし市","愛西市","安城市","一宮市","稲沢市","岡崎市","蒲郡市","刈谷市","岩倉市","犬山市","江南市","高浜市","春日井市","小牧市","常滑市","新城市","瀬戸市","清須市","西尾市","大府市","知多市","知立市","長久手市","津島市","田原市","東海市","日進市","半田市","尾張旭市","碧南市","豊橋市","豊川市","豊田市","豊明市","北名古屋市","名古屋市","弥富市"]},{name:"三重県",cities:["いなべ市","伊賀市","伊勢市","亀山市","熊野市","桑名市","四日市市","志摩市","松阪市","鳥羽市","津市","尾鷲市","名張市","鈴鹿市"]},{name:"滋賀県",cities:["近江八幡市","栗東市","湖南市","甲賀市","高島市","守山市","草津市","大津市","長浜市","東近江市","彦根市","米原市","野洲市"]},{name:"京都府",cities:["綾部市","宇治市","亀岡市","宮津市","京丹後市","京田辺市","京都市","向日市","城陽市","長岡京市","南丹市","八幡市","舞鶴市","福知山市","木津川市"]},{name:"大阪府",cities:["茨木市","羽曳野市","河内長野市","貝塚市","岸和田市","交野市","高石市","高槻市","阪南市","堺市","四條畷市","守口市","松原市","寝屋川市","吹田市","摂津市","泉佐野市","泉大津市","泉南市","大阪狭山市","大阪市","大東市","池田市","東大阪市","藤井寺市","柏原市","八尾市","富田林市","豊中市","枚方市","箕面市","門真市","和泉市"]},{name:"兵庫県",cities:["たつの市","芦屋市","伊丹市","加古川市","加西市","加東市","高砂市","三田市","三木市","宍粟市","洲本市","小野市","神戸市","西宮市","西脇市","赤穂市","川西市","相生市","丹波市","丹波篠山市","淡路市","朝来市","南あわじ市","尼崎市","姫路市","宝塚市","豊岡市","明石市","養父市"]},{name:"奈良県",cities:["宇陀市","橿原市","葛城市","五條市","御所市","香芝市","桜井市","生駒市","大和郡山市","大和高田市","天理市","奈良市"]},{name:"和歌山県",cities:["海南市","岩出市","紀の川市","橋本市","御坊市","新宮市","田辺市","有田市","和歌山市"]},{name:"鳥取県",cities:["境港市","倉吉市","鳥取市","米子市"]},{name:"島根県",cities:["安来市","雲南市","益田市","江津市","出雲市","松江市","大田市","浜田市"]},{name:"岡山県",cities:["井原市","岡山市","笠岡市","玉野市","高梁市","新見市","真庭市","瀬戸内市","赤磐市","浅口市","倉敷市","総社市","津山市","備前市","美作市"]},{name:"広島県",cities:["安芸高田市","呉市","広島市","江田島市","三原市","三次市","庄原市","大竹市","竹原市","東広島市","廿日市市","尾道市","府中市","福山市"]},{name:"山口県",cities:["宇部市","下関市","下松市","岩国市","光市","山口市","山陽小野田市","周南市","長門市","萩市","美祢市","防府市","柳井市"]},{name:"徳島県",cities:["阿南市","阿波市","吉野川市","三好市","小松島市","徳島市","美馬市","鳴門市"]},{name:"香川県",cities:["さぬき市","観音寺市","丸亀市","高松市","坂出市","三豊市","善通寺市","東かがわ市"]},{name:"愛媛県",cities:["伊予市","宇和島市","今治市","四国中央市","松山市","新居浜市","西条市","西予市","大洲市","東温市","八幡浜市"]},{name:"高知県",cities:["安芸市","香南市","香美市","高知市","四万十市","室戸市","宿毛市","須崎市","土佐市","土佐清水市","南国市"]},{name:"福岡県",cities:["うきは市","みやま市","嘉麻市","久留米市","宮若市","古賀市","行橋市","糸島市","宗像市","春日市","小郡市","太宰府市","大川市","大牟田市","大野城市","筑後市","筑紫野市","中間市","朝倉市","直方市","田川市","那珂川市","八女市","飯塚市","福岡市","福津市","豊前市","北九州市","柳川市"]},{name:"佐賀県",cities:["伊万里市","嬉野市","佐賀市","鹿島市","小城市","神埼市","多久市","鳥栖市","唐津市","武雄市"]},{name:"長崎県",cities:["壱岐市","雲仙市","五島市","佐世保市","松浦市","西海市","対馬市","大村市","長崎市","島原市","南島原市","平戸市","諫早市"]},{name:"熊本県",cities:["阿蘇市","宇城市","宇土市","菊池市","玉名市","熊本市","荒尾市","合志市","山鹿市","上天草市","人吉市","水俣市","天草市","八代市"]},{name:"大分県",cities:["宇佐市","臼杵市","杵築市","国東市","佐伯市","大分市","竹田市","中津市","津久見市","日田市","別府市","豊後高田市","豊後大野市","由布市"]},{name:"宮崎県",cities:["えびの市","延岡市","宮崎市","串間市","小林市","西都市","都城市","日向市","日南市"]},{name:"鹿児島県",cities:["いちき串木野市","阿久根市","姶良市","伊佐市","奄美市","薩摩川内市","志布志市","指宿市","鹿屋市","鹿児島市","出水市","垂水市","西之表市","曽於市","南さつま市","南九州市","日置市","枕崎市","霧島市"]},{name:"沖縄県",cities:["うるま市","浦添市","沖縄市","宜野湾市","宮古島市","糸満市","石垣市","那覇市","南城市","豊見城市","名護市"]}];/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$R=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Z1=e=>{const t=$R(e);return t.charAt(0).toUpperCase()+t.slice(1)},vC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),UR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:l,...d},h)=>T.createElement("svg",{ref:h,...WR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:vC("lucide",o),...!s&&!UR(d)&&{"aria-hidden":"true"},...d},[...l.map(([g,v])=>T.createElement(g,v)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=(e,t)=>{const n=T.forwardRef(({className:r,...o},s)=>T.createElement(ZR,{ref:s,iconNode:t,className:vC(`lucide-${zR(Z1(e))}`,`lucide-${e}`,r),...o}));return n.displayName=Z1(e),n};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wC=yC("chevron-down",HR);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xC=yC("chevron-up",YR),pv=void 0,Sf={new:"新規",resolved:"解決済み",ignored:"無視",shared:"共有済み"};let GR=class extends T.Component{constructor(){super(...arguments);pg(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("Error caught in ErrorBoundary:",n,r)}render(){return this.state.hasError?m.jsxs("div",{className:"p-6 text-red-500",children:[m.jsx("h2",{children:"エラーが発生しました"}),m.jsx("p",{children:"ページをリロードするか、サポートにお問い合わせください。"})]}):this.props.children}};const VR=Mn.icon({iconUrl:"/marker-report.svg",iconSize:[30,40],iconAnchor:[15,40],popupAnchor:[0,-40]});function qR(){var Pr;const{user:e}=DR(),{reports:t,categoriesInReports:n,loading:r,page:o,setPage:s,totalPages:l,filters:d,setFilters:h,fetchReports:g}=IR(),[v,y]=T.useState("handleReports"),[x,b]=T.useState([]),P=te=>{const pe={...te};return x.length&&(pe.areaKeywords=x.join("|")),te.area&&(pe.areaKeywords=te.area),pe.dateFrom&&(pe.date_from=pe.dateFrom),pe.dateTo&&(pe.date_to=pe.dateTo),pe};T.useEffect(()=>{["reportList","handleReports","mapView"].includes(v)&&g(1,P(d))},[v,d]);const C=te=>pe=>{const je={...d,[te]:pe.target.value};h(je),s(1),g(1,P(je))},[A,k]=T.useState(!1),[O,M]=T.useState(null),[F,$]=T.useState(!1),[Q,ie]=T.useState(""),[ee,Ce]=T.useState("pin"),ce=T.useRef(null),Re=T.useRef(null),[$e,le]=T.useState(!1),[me,ze]=T.useState(null),[be,Ke]=T.useState(""),[G,ye]=T.useState(""),[X,ge]=T.useState(null),De=async te=>{b(te);const pe=localStorage.getItem("token");if(pe)try{console.log("➡️ POST /filter/cities",te),await fetch(`${pv}/api/company/filter/cities`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe}`},body:JSON.stringify({selected_cities:te})}),console.log("➡️ GET /filter/cities");const W=await(await fetch(`${pv}/api/company/filter/cities`,{headers:{Authorization:`Bearer ${pe}`}})).json();console.log("▶ reports API raw data:",W),console.log("GET result:",W),b(W.selected_cities||[])}catch(je){console.error("❌ updateCities error:",je)}},Qe=te=>{const pe=x.includes(te)?x.filter(je=>je!==te):[...x,te];De(pe)},{assignments:Ue,loading:He,page:Se,setPage:vt,totalPages:St,fetchAssignments:jt}=RR(),[yn,ot]=T.useState(!1);T.useEffect(()=>{v==="assignments"&&jt(1)},[v]);const Et=yn?[]:t,mt=yn?0:l,{areas:Ye,loading:Ln,error:Me,fetchAreas:Pt}=FR(),{categories:zt,addCategory:Zr,updateCategory:fn}=_C(),on=()=>{if(ce.current&&(ce.current.remove(),ce.current=null),!document.getElementById("map-view")){console.warn("Map container not found, retrying..."),setTimeout(on,100);return}try{const pe=Mn.map("map-view").setView([35.6895,139.6917],10);Mn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(pe);const je=(t||[]).filter(W=>{const q=W.properties||W,J=!d.category||q.category===d.category,de=!d.dateFrom||new Date(q.created_at)>=new Date(d.dateFrom),ke=!d.dateTo||new Date(q.created_at)<=new Date(d.dateTo),Ie=!d.search||q.title&&q.title.includes(d.search),Lt=!d.area||q.address&&q.address.toLowerCase().includes(d.area.toLowerCase());return J&&de&&ke&&Ie&&Lt});if(ee==="pin"){const W=Mn.markerClusterGroup();je.forEach(q=>{var Ne;const J=(Ne=q.geometry)==null?void 0:Ne.coordinates;if(!J||J.length!==2||isNaN(J[0])||isNaN(J[1])){console.warn(`Invalid coordinates for report ID ${q.id||"unknown"}`);return}const[de,ke]=J,Ie=q.properties||q,Lt=Mn.marker([ke,de],{icon:VR,reportId:Ie.id});Lt.bindPopup(`
 <div style="max-width: 240px;">
 <strong>${el[Ie.category]||Ie.category||"カテゴリ不明"}</strong><br>
 <p>${Ie.description||"説明なし"}</p>
 <p><strong>住所:</strong> ${Ie.address||"不明"}</p>
 <p><strong>ステータス:</strong> ${Sf[Ie.status]||"不明"}</p>
 ${Ie.image_paths&&Ie.image_paths.length>0?`<img src="undefined/static/uploads/${Ie.image_paths[0]}" alt="画像" style={{ width: "100%", height: "auto", marginTop: "8px", borderRadius: "4px" }} />`:""}
 </div>
 `),W.addLayer(Lt)}),pe.addLayer(W),Re.current=W}else if(ee==="heatmap"){const W=je.map(q=>{var Ie;const J=(Ie=q.geometry)==null?void 0:Ie.coordinates;if(!J||J.length!==2||isNaN(J[0])||isNaN(J[1]))return null;const[de,ke]=J;return[ke,de,1]}).filter(Boolean);W.length>0?Mn.heatLayer(W,{radius:25,blur:15,maxZoom:17}).addTo(pe):console.warn("No valid data for heatmap")}me&&(pe.setView(me,16,{animate:!0}),X&&Re.current&&Re.current.eachLayer(W=>{var q;((q=W.options)==null?void 0:q.reportId)===X&&W.openPopup()}),ge(null)),ce.current=pe}catch(pe){console.error("Failed to initialize map:",pe),ue.error("マップの初期化に失敗しました")}},Wn=te=>{const pe=te.properties||te,je={id:pe.id??null,title:pe.title??"不明",description:pe.description??"不明",address:pe.address??"不明",category:pe.category??"不明",status:pe.status??"不明",user:pe.user??{name:"不明"},created_at:pe.created_at??new Date().toISOString(),image_paths:Array.isArray(pe.image_paths)?pe.image_paths:[],geometry:pe.geometry??{coordinates:[null,null]}};M(je),k(!0)},Zn=te=>{s(te),g(te,P(d))},ii=te=>{vt(te),jt(te)},Ht=()=>{if(!Q.trim()){ue.error("カテゴリ名を入力してください");return}Zr(Q),ie(""),$(!1)};return T.useEffect(()=>{if(v==="mapView"&&ee!=="stats"){const te=setTimeout(()=>{t.length>0&&on()},100);return()=>clearTimeout(te)}},[v,ee,t]),m.jsx(GR,{children:m.jsxs("div",{className:"flex min-h-screen",children:[m.jsx(Dp,{userType:"company",onSectionChange:y}),m.jsxs("div",{className:"flex-1 p-6 bg-gray-100",children:[["reportList","handleReports","mapView"].includes(v)?m.jsxs("div",{className:"mb-6 bg-white p-6 rounded-lg shadow-lg",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:"フィルタ"}),r?m.jsx("div",{className:"text-center",children:"フィルタを読み込み中..."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"category",className:"block text-gray-700 mb-2",children:"カテゴリ"}),m.jsxs("select",{id:"category",name:"category",value:d.category,onChange:C("category"),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500","aria-label":"カテゴリフィルタ",children:[m.jsx("option",{value:"",children:"すべて"}),(n||[]).map(te=>m.jsx("option",{value:te,children:el[te]||te},te))]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"status",className:"block text-gray-700 mb-2",children:"ステータス"}),m.jsxs("select",{id:"status",name:"status",value:d.status,onChange:C("status"),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500","aria-label":"ステータスフィルタ",children:[m.jsx("option",{value:"",children:"すべて"}),m.jsx("option",{value:"new",children:"新規"}),m.jsx("option",{value:"resolved",children:"解決済み"}),m.jsx("option",{value:"ignored",children:"無視"}),m.jsx("option",{value:"shared",children:"共有済み"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"area",className:"block text-gray-700 mb-2",children:"エリア"}),Ln?m.jsx("div",{className:"text-center text-gray-500",children:"エリアを読み込み中…"}):Me?m.jsxs("div",{className:"text-red-500 text-sm",children:["エリアの取得に失敗しました: ",Me.message,m.jsx("button",{onClick:Pt,className:"ml-2 text-blue-500 hover:underline","aria-label":"エリアの再読み込み",children:"再試行"})]}):m.jsxs("select",{id:"area",name:"area",value:d.area,onChange:C("area"),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500","aria-label":"エリアフィルタ",children:[m.jsx("option",{value:"",children:"すべて"}),Ye.map(te=>m.jsx("option",{value:te.name,children:te.name},te.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"monthSelect",className:"block text-gray-700 mb-2",children:"月で絞り込み"}),m.jsx("input",{id:"monthSelect",type:"month",value:((Pr=d.dateFrom)==null?void 0:Pr.slice(0,7))||"",onChange:te=>{const[pe,je]=te.target.value.split("-"),W=`${pe}-${je}-01`,q=new Date(pe,je,0).toISOString().split("T")[0],J={...d,dateFrom:W,dateTo:q};h(J),s(1),g(1,{...J,...J.dateFrom&&{date_from:J.dateFrom},...J.dateTo&&{date_to:J.dateTo}})},className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline -none focus:ring-2 focus:ring-blue-400","aria-label":"月選択フィルタ"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"dateFrom",className:"block text-gray-700 mb-2",children:"投稿日（開始）"}),m.jsx("input",{id:"dateFrom",name:"dateFrom",type:"date",value:d.dateFrom,onChange:te=>{const pe={...d,dateFrom:te.target.value};h(pe),s(1),g(1,{...pe,...pe.dateFrom&&{date_from:pe.dateFrom},...pe.dateTo&&{date_to:pe.dateTo}})},className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"dateTo",className:"block text-gray-700 mb-2",children:"投稿日（終了）"}),m.jsx("input",{id:"dateTo",name:"dateTo",type:"date",value:d.dateTo,onChange:te=>{const pe={...d,dateTo:te.target.value};h(pe),s(1),g(1,{...pe,...pe.dateFrom&&{date_from:pe.dateFrom},...pe.dateTo&&{date_to:pe.dateTo}})},className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{htmlFor:"search",className:"block text-gray-700 mb-1",children:"タイトル検索"}),m.jsx("div",{className:"flex",children:m.jsx("input",{id:"search",type:"text",value:d.search,onChange:te=>h(pe=>({...pe,search:te.target.value})),onKeyDown:te=>{te.key==="Enter"&&(s(1),g(1,d))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-l focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"タイトルを入力"})})]}),m.jsxs("div",{className:"mt-4 flex space-x-4",children:[m.jsx("button",{onClick:()=>{const te={category:"",status:"",area:"",dateFrom:"",dateTo:"",search:""};h(te),s(1),g(1,te)},className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"フィルタをリセット"}),m.jsx("button",{onClick:()=>{s(1),g(1,d)},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"検索"})]})]})]}):null,v==="assignments"?m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"割り当て済みレポート"}),He&&Se===1?m.jsx("div",{className:"text-center",children:"読み込み中..."}):Ue.length>0?m.jsxs(m.Fragment,{children:[m.jsxs("table",{className:"w-full bg-white shadow rounded overflow-hidden",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-100",children:[m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"ID"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"レポートタイトル"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"ステータス"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"作成日"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"詳細"})]})}),m.jsx("tbody",{children:Ue.map(te=>m.jsxs("tr",{className:"border-t",children:[m.jsx("td",{className:"px-4 py-2",children:te.report_id}),m.jsx("td",{className:"px-4 py-2",children:te.title||"-"}),m.jsx("td",{className:"px-4 py-2",children:m.jsx("span",{className:te.status==="new"?"status-new text-blue-500":te.status==="resolved"?"status-resolved text-green-500":te.status==="ignored"?"status-ignored text-gray-500":"status-shared text-purple-500",children:Sf[te.status]||"不明"})}),m.jsx("td",{className:"px-4 py-2",children:te.created_at?new Date(te.created_at).toLocaleDateString():"-"}),m.jsx("td",{className:"px-4 py-2",children:m.jsx("button",{onClick:()=>Wn({...te,id:te.report_id}),className:"text-blue-500 hover:underline","aria-label":`レポート ${te.title||"ID "+te.report_id} の詳細を表示`,children:"詳細"})})]},`${te.report_id}-${te.company_id}`))})]}),m.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[m.jsx("button",{onClick:()=>ii(Se-1),disabled:Se===1,className:"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-300",children:"前へ"}),m.jsxs("span",{children:["ページ ",Se," / ",St]}),m.jsx("button",{onClick:()=>ii(Se+1),disabled:Se===St,className:"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-300",children:"次へ"})]})]}):m.jsx("p",{className:"text-gray-600",children:"割り当て済みレポートがありません"})]}):null,["reportList","handleReports"].includes(v)?m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:["レポート",v==="reportList"?"一覧":"対応"]}),m.jsxs("table",{className:"w-full bg-white shadow rounded overflow-hidden",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-100",children:[m.jsx("th",{className:"px-4 py-2 text-left",children:"ID"}),m.jsx("th",{className:"px-4 py-2 text-left",children:"タイトル"}),m.jsx("th",{className:"px-4 py-2 text-left",children:"ステータス"}),m.jsx("th",{className:"px-4 py-2 text-left",children:"作成日"}),m.jsx("th",{className:"px-4 py-2 text-left",children:"住所"}),m.jsx("th",{className:"px-4 py-2 text-left",children:"詳細/チャット"})]})}),m.jsx("tbody",{children:Et.map((te,pe)=>{var W,q,J;const je=te.properties||te;return console.log(`[row ${pe}] id=${je.id}`,"address=",je.address,"coords=",(W=je.geometry)==null?void 0:W.coordinates),m.jsxs("tr",{className:"border-t",children:[m.jsx("td",{className:"px-4 py-2",children:je.id}),m.jsx("td",{className:"px-4 py-2",children:je.title}),m.jsx("td",{className:"px-4 py-2",children:m.jsx("span",{className:je.status==="new"?"text-blue-500":je.status==="resolved"?"text-green-500":je.status==="ignored"?"text-gray-500":"text-purple-500",children:Sf[je.status]||"不明"})}),m.jsx("td",{className:"px-4 py-2",children:je.created_at?new Date(je.created_at).toLocaleDateString():"-"}),m.jsx("td",{className:"px-4 py-2",children:((J=(q=je.geometry)==null?void 0:q.coordinates)==null?void 0:J.length)===2?m.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:()=>{const[de,ke]=je.geometry.coordinates;if(console.log("📍 click coords",{id:je.id,lng:de,lat:ke}),isNaN(ke)||isNaN(de)||ke===null||de===null){ue.error("このレポートには座標がありません");return}ze([ke,de]),ge(je.id),Ce("pin"),y("mapView")},children:je.address||"位置を表示"}):"—"}),m.jsx("td",{className:"px-4 py-2",children:m.jsx("button",{onClick:()=>Wn(te),className:"text-blue-500 hover:underline",children:"詳細"})})]},je.id)})})]}),m.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[m.jsx("button",{onClick:()=>Zn(v==="reportList"?o-1:Se-1),disabled:(v==="reportList"?o:Se)===1,className:"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-300",children:"前へ"}),m.jsxs("span",{children:["ページ"," ",v==="reportList"?o:Se," /"," ",v==="reportList"?mt:St]}),m.jsx("button",{onClick:()=>Zn(v==="reportList"?o+1:Se+1),disabled:(v==="reportList"?o:Se)===(v==="reportList"?mt:St),className:"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-300",children:"次へ"})]})]}):null,v==="mapView"?m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"マップ表示"}),m.jsxs("div",{className:"mb-4 flex space-x-4",children:[m.jsx("button",{onClick:()=>Ce("pin"),className:`px-4 py-2 rounded ${ee==="pin"?"bg-blue-500 text-white":"bg-gray-300"}`,children:"ピン表示"}),m.jsx("button",{onClick:()=>Ce("heatmap"),className:`px-4 py-2 rounded ${ee==="heatmap"?"bg-blue-500 text-white":"bg-gray-300"}`,children:"ヒートマップ表示"})]}),Me&&m.jsxs("div",{className:"mb-4 text-red-500",children:["エリアデータの読み込みに失敗しました。マップにエリアが表示されません。",m.jsx("button",{onClick:Pt,className:"ml-2 text-blue-500 hover:underline","aria-label":"エリアの再読み込み",children:"再試行"})]}),m.jsx("div",{id:"map-view",className:"map-container h-[600px] w-full"})]}):null,v==="categoryManagement"?m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"カテゴリ管理"}),m.jsx("button",{onClick:()=>$(!0),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mb-4",children:"新規カテゴリ追加"}),zt.length>0?m.jsxs("table",{className:"w-full bg-white shadow rounded overflow-hidden",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-100",children:[m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"ID"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"カテゴリ名"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"操作"})]})}),m.jsx("tbody",{children:(Array.isArray(zt)?zt:[]).map(te=>m.jsxs("tr",{className:"border-t",children:[m.jsx("td",{className:"px-4 py-2",children:te.id}),m.jsx("td",{className:"px-4 py-2",children:te.name}),m.jsx("td",{className:"px-4 py-2",children:m.jsx("button",{onClick:()=>{const pe=prompt("新しいカテゴリ名を入力:",te.name);pe&&pe.trim()&&fn(te.id,pe)},className:"text-blue-500 hover:underline","aria-label":`カテゴリ ${te.name} を編集`,children:"編集"})})]},te.id))})]}):m.jsx("p",{className:"text-gray-600",children:"カテゴリが登録されていません"})]}):null,v==="areaManagement"?m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"エリア管理"}),x.length>0&&m.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:x.map(te=>m.jsxs("span",{className:"inline-flex items-center bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:[te,m.jsx("button",{onClick:()=>Qe(te),className:"ml-1 text-blue-500 hover:text-blue-700",children:"×"})]},te))}),m.jsxs("div",{className:"flex space-x-4 mb-4",children:[m.jsxs("select",{className:"border rounded px-3 py-2",value:be,onChange:te=>{var J;const pe=te.target.value;Ke(pe),ye("");const je=((J=du.find(de=>de.name===pe))==null?void 0:J.cities)||[],q=je.every(de=>x.includes(de))?x.filter(de=>!je.includes(de)):[...new Set([...x,...je])];De(q)},children:[m.jsx("option",{value:"",children:"都道府県を選択"}),du.map(te=>m.jsx("option",{value:te.name,children:te.name},te.name))]}),be&&m.jsx("input",{className:"flex-1 border rounded px-3 py-2",placeholder:"市区町村を絞り込み",value:G,onChange:te=>ye(te.target.value)})]}),m.jsx("div",{className:"max-h-[60vh] overflow-y-auto border rounded p-2",children:du.filter(te=>!be||te.name===be).map(te=>{const pe=te.cities,je=pe.every(W=>x.includes(W));return m.jsx(cu,{as:"div",className:"mb-2",children:({open:W})=>m.jsxs(m.Fragment,{children:[m.jsxs(cu.Button,{className:"flex w-full justify-between items-center px-4 py-2 bg-gray-100 rounded",children:[m.jsxs("label",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"checkbox",checked:je,onChange:()=>{const q=je?x.filter(J=>!pe.includes(J)):[...new Set([...x,...pe])];De(q)},className:"form-checkbox h-4 w-4 text-blue-600"}),m.jsx("span",{className:"font-medium",children:te.name})]}),W?m.jsx(xC,{className:"w-5 h-5"}):m.jsx(wC,{className:"w-5 h-5"})]}),m.jsx(cu.Panel,{className:"px-4 pt-2 pb-4",children:m.jsx("div",{className:"grid grid-cols-3 gap-2",children:pe.filter(q=>q.includes(G)).map(q=>m.jsxs("label",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"checkbox",checked:x.includes(q),onChange:()=>Qe(q),className:"form-checkbox h-4 w-4 text-blue-600"}),m.jsx("span",{className:"text-sm",children:q})]},q))})})]})},te.name)})})]}):null,O&&m.jsx(KR,{isOpen:A,onClose:()=>k(!1),report:O,user:e}),m.jsx(Nn,{appear:!0,show:F,as:T.Fragment,children:m.jsxs(Pn,{as:"div",className:"relative z-50",onClose:()=>$(!1),children:[m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),m.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",sells:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:m.jsxs(Pn.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[m.jsx(Pn.Title,{as:"h3",className:"text-lg font-medium g-6 text-gray-900",children:"新規カテゴリ追加"}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{htmlFor:"newCategory",className:"block text-gray-700 mb-2",children:"カテゴリ名"}),m.jsx("input",{id:"newCategory",type:"text",value:Q,onChange:te=>ie(te.target.value),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500","aria-label":"新しいカテゴリ名"})]}),m.jsxs("div",{className:"mt-4 flex space-x-4",children:[m.jsx("button",{onClick:Ht,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"追加"}),m.jsx("button",{onClick:()=>$(!1),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"キャンセル"})]})]})})})})]})}),m.jsx(qs,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})]})})}function KR({isOpen:e,onClose:t,report:n,user:r}){var P;const{messages:o,newMessage:s,setNewMessage:l,setMessages:d}=BR(n.id,e),[h,g]=T.useState("details"),[v,y]=T.useState(null),x=T.useRef(null),b=async()=>{if(!s.trim()&&!v){ue.error("メッセージまたは画像を入力してください");return}const C=localStorage.getItem("token");if(!C){ue.error("認証トークンが見つかりません");return}const A=`${pv}/api/company/chats/${n.id}/messages`;console.log("[DEBUG] Chat send URL:",A),console.log("[DEBUG] Chat payload:",{text:s,file:v});const k={id:Date.now(),text:s.trim()||null,image:v?URL.createObjectURL(v):null,sender_id:r.id,created_at:new Date().toISOString()};d(M=>[...M,k]);const O=new FormData;O.append("text",s.trim()),v&&O.append("file",v);try{const M=await fetch(A,{method:"POST",headers:{Authorization:`Bearer ${C}`},body:O});console.log("[DEBUG] Chat response status:",M.status,M.statusText);const F=await M.clone().text();if(console.log("[DEBUG] Chat response body:",F),!M.ok){const $=await M.json().catch(()=>({}));throw new Error($.detail||"メッセージ送信に失敗しました")}ue.success("メッセージを送信しました"),l(""),y(null)}catch(M){console.error("メッセージ送信エラー:",M),ue.error(M.message||"メッセージの送信に失敗しました"),d(F=>F.filter($=>$.created_at!==k.created_at))}};return T.useEffect(()=>{var C;(C=x.current)==null||C.scrollIntoView({behavior:"smooth"})},[o]),m.jsx(Nn,{appear:!0,show:e,as:T.Fragment,children:m.jsxs(Pn,{as:"div",className:"relative z-50",onClose:t,children:[m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),m.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:m.jsxs(Pn.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[m.jsxs(Pn.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:["レポート: ",n.title]}),m.jsxs("div",{className:"mt-2",children:[m.jsxs("div",{className:"flex border-b",children:[m.jsx("button",{className:`px-4 py-2 ${h==="details"?"border-b-2 border-blue-500":"text-gray-600"}`,onClick:()=>g("details"),children:"詳細"}),m.jsx("button",{className:`px-4 py-2 ${h==="chat"?"border-b-2 border-blue-500":"text-gray-600"}`,onClick:()=>g("chat"),children:"チャット"}),m.jsx("button",{className:`px-4 py-2 ${h==="images"?"border-b-2 border-blue-500":"text-gray-600"}`,onClick:()=>g("images"),children:"画像"})]}),h==="details"&&m.jsxs("div",{className:"mt-4 space-y-2",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"説明:"})," ",n.description]}),m.jsxs("p",{children:[m.jsx("strong",{children:"住所:"})," ",n.address]}),m.jsxs("p",{children:[m.jsx("strong",{children:"カテゴリ:"})," ",el[n.category]||n.category]}),m.jsxs("p",{children:[m.jsx("strong",{children:"ステータス:"})," ",m.jsx("span",{className:`status-${n.status}`,children:Sf[n.status]||"不明"})]}),m.jsxs("p",{children:[m.jsx("strong",{children:"投稿者:"})," ",((P=n.user)==null?void 0:P.name)??"不明"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"作成日:"})," ",new Date(n.created_at).toLocaleDateString()]})]}),h==="chat"&&m.jsxs("div",{className:"mt-4 flex flex-col h-96 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[Array.isArray(o)&&o.length>0?o.map((C,A)=>{const k=C.sender===r.id||C.sender_id===r.id,O=C.text||"",M=!!C.image,F=C.created_at;return!O&&!M?null:m.jsx("div",{className:`flex ${k?"justify-end":"justify-start"} mb-2`,children:m.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-2xl shadow text-sm ${k?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"}`,children:[O&&m.jsx("p",{children:O}),M&&m.jsx("img",{src:C.image,alt:"画像メッセージ",className:"mt-2 w-40 h-auto rounded",onError:$=>console.warn(`画像読み込みエラー: ${C.image}`)}),m.jsx("p",{className:"text-xs mt-1 text-right opacity-70",children:new Date(new Date(F).getTime()+9*60*60*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},C.id||A)}):m.jsx("p",{className:"text-gray-600 text-center",children:"メッセージがありません"}),m.jsx("div",{ref:x})]}),m.jsxs("div",{className:"p-4 border-t bg-white flex items-center",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:C=>y(C.target.files[0]),className:"mr-2","aria-label":"画像ファイルを選択"}),m.jsx("input",{type:"text",value:s,onChange:C=>l(C.target.value),onKeyDown:C=>{C.key==="Enter"&&(C.preventDefault(),b())},className:"flex-1 px-3 py-2 border rounded-l-lg focus:ring-2 focus:ring-blue-500",placeholder:"メッセージを入力...","aria-label":"チャットメッセージ入力"}),m.jsx("button",{onClick:b,className:"bg-blue-500 text-white px-4 py-2 rounded-r-lg hover:bg-blue-600 transition-colors","aria-label":"メッセージを送信",children:"送信"})]})]}),h==="images"&&m.jsx("div",{className:"mt-4 grid grid-cols-3 gap-4",children:n.image_paths&&n.image_paths.length>0?n.image_paths.map((C,A)=>m.jsx("img",{src:C,alt:`レポート画像 ${A+1}`,className:"w-full h-32 object-cover rounded"},A)):m.jsx("p",{className:"text-gray-600",children:"画像がありません"})})]}),m.jsx("div",{className:"mt-4",children:m.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200",onClick:t,children:"閉じる"})})]})})})})]})})}function SC(e,t){const[n,r]=T.useState([]),[o,s]=T.useState(""),[l,d]=T.useState(null),[h,g]=T.useState(null),v=T.useRef(null),y=T.useRef(null),x=void 0,b=void 0;return T.useEffect(()=>{r([]),g(null)},[e]),T.useEffect(()=>{if(!t||!e)return;const P=localStorage.getItem("token");if(!P){console.warn("❌ トークンがありません");return}fetch(`${x}/api/city/chats?report_id=${e}`,{headers:{Authorization:`Bearer ${P}`}}).then(C=>C.json()).then(C=>{if(C.chat_id)g(C.chat_id);else return fetch(`${x}/api/city/chats`,{method:"POST",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},body:JSON.stringify({report_id:e})}).then(A=>A.json()).then(A=>g(A.chat_id))}).catch(C=>console.error("❌ chatIdの取得エラー:",C))},[e,t]),T.useEffect(()=>{if(!h||!t)return;const P=localStorage.getItem("token");P&&fetch(`${x}/api/city/chats/${h}/messages`,{headers:{Authorization:`Bearer ${P}`}}).then(C=>C.json()).then(C=>{if(Array.isArray(C)){const A=C.map(k=>{var O;return{id:k.id,text:k.text||null,image:((O=k.image)==null?void 0:O.replace(/\\/g,"/"))||null,sender:k.sender_id||k.user_id,created_at:k.created_at}});console.log("📜 チャット履歴:",A),r(A)}}).catch(C=>console.error("❌ チャット履歴取得失敗:",C))},[h,t]),T.useEffect(()=>{if(!h||!t)return;const P=localStorage.getItem("token");if(!P)return;const C=new WebSocket(`${b}/ws/chats/${h}?token=${P}`);return v.current=C,C.onopen=()=>console.log("✅ WebSocket 接続確立"),C.onmessage=A=>{var k;try{const O=JSON.parse(A.data),M={id:O.id,text:O.text||null,image:((k=O.image)==null?void 0:k.replace(/\\/g,"/"))||null,sender:O.sender_id||O.user_id,created_at:O.created_at};console.log("📥 WebSocket受信:",M),r(F=>F.some($=>$.id===M.id)?F:[...F,M])}catch(O){console.error("❌ WebSocketメッセージパースエラー:",O)}},C.onerror=A=>console.error("❌ WebSocket エラー:",A),C.onclose=()=>console.warn("🔌 WebSocket 接続が閉じられました"),()=>{v.current&&v.current.readyState===WebSocket.OPEN&&v.current.close()}},[h,t]),T.useEffect(()=>{y.current&&y.current.scrollIntoView({behavior:"smooth"})},[n]),{messages:n,newMessage:o,setNewMessage:s,imageFile:l,setImageFile:d,setMessages:r,bottomRef:y}}function QR({title:e,titleId:t,...n},r){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?T.createElement("title",{id:t},e):null,T.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const JR=T.forwardRef(QR),hs=Object.create(null);hs.open="0";hs.close="1";hs.ping="2";hs.pong="3";hs.message="4";hs.upgrade="5";hs.noop="6";const Lf=Object.create(null);Object.keys(hs).forEach(e=>{Lf[hs[e]]=e});const mv={type:"error",data:"parser error"},LC=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",bC=typeof ArrayBuffer=="function",CC=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ky=({type:e,data:t},n,r)=>LC&&t instanceof Blob?n?r(t):H1(t,r):bC&&(t instanceof ArrayBuffer||CC(t))?n?r(t):H1(new Blob([t]),r):r(hs[e]+(t||"")),H1=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Y1(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Qg;function XR(e,t){if(LC&&e.data instanceof Blob)return e.data.arrayBuffer().then(Y1).then(t);if(bC&&(e.data instanceof ArrayBuffer||CC(e.data)))return t(Y1(e.data));Ky(e,!1,n=>{Qg||(Qg=new TextEncoder),t(Qg.encode(n))})}const G1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<G1.length;e++)Rc[G1.charCodeAt(e)]=e;const e4=e=>{let t=e.length*.75,n=e.length,r,o=0,s,l,d,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const g=new ArrayBuffer(t),v=new Uint8Array(g);for(r=0;r<n;r+=4)s=Rc[e.charCodeAt(r)],l=Rc[e.charCodeAt(r+1)],d=Rc[e.charCodeAt(r+2)],h=Rc[e.charCodeAt(r+3)],v[o++]=s<<2|l>>4,v[o++]=(l&15)<<4|d>>2,v[o++]=(d&3)<<6|h&63;return g},t4=typeof ArrayBuffer=="function",Qy=(e,t)=>{if(typeof e!="string")return{type:"message",data:kC(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:n4(e.substring(1),t)}:Lf[n]?e.length>1?{type:Lf[n],data:e.substring(1)}:{type:Lf[n]}:mv},n4=(e,t)=>{if(t4){const n=e4(e);return kC(n,t)}else return{base64:!0,data:e}},kC=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},TC="",r4=(e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach((s,l)=>{Ky(s,!1,d=>{r[l]=d,++o===n&&t(r.join(TC))})})},i4=(e,t)=>{const n=e.split(TC),r=[];for(let o=0;o<n.length;o++){const s=Qy(n[o],t);if(r.push(s),s.type==="error")break}return r};function s4(){return new TransformStream({transform(e,t){XR(e,n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const s=new DataView(o.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{o=new Uint8Array(9);const s=new DataView(o.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let Jg;function tf(e){return e.reduce((t,n)=>t+n.length,0)}function nf(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function o4(e,t){Jg||(Jg=new TextDecoder);const n=[];let r=0,o=-1,s=!1;return new TransformStream({transform(l,d){for(n.push(l);;){if(r===0){if(tf(n)<1)break;const h=nf(n,1);s=(h[0]&128)===128,o=h[0]&127,o<126?r=3:o===126?r=1:r=2}else if(r===1){if(tf(n)<2)break;const h=nf(n,2);o=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),r=3}else if(r===2){if(tf(n)<8)break;const h=nf(n,8),g=new DataView(h.buffer,h.byteOffset,h.length),v=g.getUint32(0);if(v>Math.pow(2,21)-1){d.enqueue(mv);break}o=v*Math.pow(2,32)+g.getUint32(4),r=3}else{if(tf(n)<o)break;const h=nf(n,o);d.enqueue(Qy(s?h:Jg.decode(h),t)),r=0}if(o===0||o>e){d.enqueue(mv);break}}}})}const EC=4;function jn(e){if(e)return a4(e)}function a4(e){for(var t in jn.prototype)e[t]=jn.prototype[t];return e}jn.prototype.on=jn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};jn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};jn.prototype.off=jn.prototype.removeListener=jn.prototype.removeAllListeners=jn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};jn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this};jn.prototype.emitReserved=jn.prototype.emit;jn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};jn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Bp=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),_i=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),l4="arraybuffer";function PC(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const u4=_i.setTimeout,c4=_i.clearTimeout;function zp(e,t){t.useNativeTimers?(e.setTimeoutFn=u4.bind(_i),e.clearTimeoutFn=c4.bind(_i)):(e.setTimeoutFn=_i.setTimeout.bind(_i),e.clearTimeoutFn=_i.clearTimeout.bind(_i))}const d4=1.33;function h4(e){return typeof e=="string"?f4(e):Math.ceil((e.byteLength||e.size)*d4)}function f4(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function NC(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function p4(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function m4(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class g4 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Jy extends jn{constructor(t){super(),this.writable=!1,zp(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new g4(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Qy(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=p4(t);return n.length?"?"+n:""}}class _4 extends Jy{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};i4(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,r4(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=NC()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let OC=!1;try{OC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const v4=OC;function y4(){}class w4 extends _4{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(o,s)=>{this.onError("xhr post error",o,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class ds extends jn{constructor(t,n,r){super(),this.createRequest=t,zp(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=PC(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=ds.requestsCount++,ds.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=y4,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ds.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ds.requestsCount=0;ds.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",V1);else if(typeof addEventListener=="function"){const e="onpagehide"in _i?"pagehide":"unload";addEventListener(e,V1,!1)}}function V1(){for(let e in ds.requests)ds.requests.hasOwnProperty(e)&&ds.requests[e].abort()}const x4=function(){const e=MC({xdomain:!1});return e&&e.responseType!==null}();class S4 extends w4{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=x4&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ds(MC,this.uri(),t)}}function MC(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||v4))return new XMLHttpRequest}catch{}if(!t)try{return new _i[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const DC=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class L4 extends Jy{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=DC?{}:PC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;Ky(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}o&&Bp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=NC()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Xg=_i.WebSocket||_i.MozWebSocket;class b4 extends L4{createSocket(t,n,r){return DC?new Xg(t,n,r):n?new Xg(t,n):new Xg(t)}doWrite(t,n){this.ws.send(n)}}class C4 extends Jy{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=o4(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),o=s4();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const s=()=>{r.read().then(({done:d,value:h})=>{d||(this.onPacket(h),s())}).catch(d=>{})};s();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;this._writer.write(r).then(()=>{o&&Bp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const k4={websocket:b4,webtransport:C4,polling:S4},T4=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,E4=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function gv(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=T4.exec(e||""),s={},l=14;for(;l--;)s[E4[l]]=o[l]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=P4(s,s.path),s.queryKey=N4(s,s.query),s}function P4(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function N4(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,o,s){o&&(n[o]=s)}),n}const _v=typeof addEventListener=="function"&&typeof removeEventListener=="function",bf=[];_v&&addEventListener("offline",()=>{bf.forEach(e=>e())},!1);class Ho extends jn{constructor(t,n){if(super(),this.binaryType=l4,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=gv(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=gv(n.host).host);zp(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const o=r.prototype.name;this.transports.push(o),this._transportsByName[o]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=m4(this.opts.query)),_v&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},bf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=EC,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ho.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ho.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const o=this.writeBuffer[r].data;if(o&&(n+=h4(o)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Bp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,o){if(typeof n=="function"&&(o=n,n=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Ho.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),_v&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=bf.indexOf(this._offlineEventListener);r!==-1&&bf.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ho.protocol=EC;class O4 extends Ho{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Ho.priorWebsocketSuccess=!1;const o=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",y=>{if(!r)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ho.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(v(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=n.name,this.emitReserved("upgradeError",x)}}))};function s(){r||(r=!0,v(),n.close(),n=null)}const l=y=>{const x=new Error("probe error: "+y);x.transport=n.name,s(),this.emitReserved("upgradeError",x)};function d(){l("transport closed")}function h(){l("socket closed")}function g(y){n&&y.name!==n.name&&s()}const v=()=>{n.removeListener("open",o),n.removeListener("error",l),n.removeListener("close",d),this.off("close",h),this.off("upgrading",g)};n.once("open",o),n.once("error",l),n.once("close",d),this.once("close",h),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let M4=class extends O4{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(o=>k4[o]).filter(o=>!!o)),super(t,r)}};function D4(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=gv(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const A4=typeof ArrayBuffer=="function",j4=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,AC=Object.prototype.toString,I4=typeof Blob=="function"||typeof Blob<"u"&&AC.call(Blob)==="[object BlobConstructor]",R4=typeof File=="function"||typeof File<"u"&&AC.call(File)==="[object FileConstructor]";function Xy(e){return A4&&(e instanceof ArrayBuffer||j4(e))||I4&&e instanceof Blob||R4&&e instanceof File}function Cf(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Cf(e[n]))return!0;return!1}if(Xy(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Cf(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Cf(e[n]))return!0;return!1}function F4(e){const t=[],n=e.data,r=e;return r.data=vv(n,t),r.attachments=t.length,{packet:r,buffers:t}}function vv(e,t){if(!e)return e;if(Xy(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=vv(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=vv(e[r],t));return n}return e}function B4(e,t){return e.data=yv(e.data,t),delete e.attachments,e}function yv(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=yv(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=yv(e[n],t));return e}const z4=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],$4=5;var xt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(xt||(xt={}));class U4{constructor(t){this.replacer=t}encode(t){return(t.type===xt.EVENT||t.type===xt.ACK)&&Cf(t)?this.encodeAsBinary({type:t.type===xt.EVENT?xt.BINARY_EVENT:xt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===xt.BINARY_EVENT||t.type===xt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=F4(t),r=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(r),o}}function q1(e){return Object.prototype.toString.call(e)==="[object Object]"}class e0 extends jn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===xt.BINARY_EVENT;r||n.type===xt.BINARY_ACK?(n.type=r?xt.EVENT:xt.ACK,this.reconstructor=new W4(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Xy(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(xt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===xt.BINARY_EVENT||r.type===xt.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const l=t.substring(s,n);if(l!=Number(l)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(l)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const s=n+1;for(;++n;){const l=t.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(e0.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case xt.CONNECT:return q1(n);case xt.DISCONNECT:return n===void 0;case xt.CONNECT_ERROR:return typeof n=="string"||q1(n);case xt.EVENT:case xt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&z4.indexOf(n[0])===-1);case xt.ACK:case xt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class W4{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=B4(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Z4=Object.freeze(Object.defineProperty({__proto__:null,Decoder:e0,Encoder:U4,get PacketType(){return xt},protocol:$4},Symbol.toStringTag,{value:"Module"}));function Bi(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const H4=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class jC extends jn{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Bi(t,"open",this.onopen.bind(this)),Bi(t,"packet",this.onpacket.bind(this)),Bi(t,"error",this.onerror.bind(this)),Bi(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,o,s;if(H4.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const l={type:xt.EVENT,data:n};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const v=this.ids++,y=n.pop();this._registerAckCallback(v,y),l.id=v}const d=(o=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||o===void 0?void 0:o.writable,h=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!d||(h?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,n){var r;const o=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===t&&this.sendBuffer.splice(d,1);n.call(this,new Error("operation has timed out"))},o),l=(...d)=>{this.io.clearTimeoutFn(s),n.apply(this,d)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...n){return new Promise((r,o)=>{const s=(l,d)=>l?o(l):r(d);s.withError=!0,n.push(s),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...s)=>r!==this._queue[0]?void 0:(o!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:xt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case xt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xt.EVENT:case xt.BINARY_EVENT:this.onevent(t);break;case xt.ACK:case xt.BINARY_ACK:this.onack(t);break;case xt.DISCONNECT:this.ondisconnect();break;case xt.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...o){r||(r=!0,n.packet({type:xt.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Pu(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Pu.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Pu.prototype.reset=function(){this.attempts=0};Pu.prototype.setMin=function(e){this.ms=e};Pu.prototype.setMax=function(e){this.max=e};Pu.prototype.setJitter=function(e){this.jitter=e};class wv extends jn{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,zp(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Pu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||Z4;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new M4(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=Bi(n,"open",function(){r.onopen(),t&&t()}),s=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},l=Bi(n,"error",s);if(this._timeout!==!1){const d=this._timeout,h=this.setTimeoutFn(()=>{o(),s(new Error("timeout")),n.close()},d);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(o),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Bi(t,"ping",this.onping.bind(this)),Bi(t,"data",this.ondata.bind(this)),Bi(t,"error",this.onerror.bind(this)),Bi(t,"close",this.onclose.bind(this)),Bi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Bp(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new jC(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const kc={};function e_(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=D4(e,t.path||"/socket.io"),r=n.source,o=n.id,s=n.path,l=kc[o]&&s in kc[o].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let h;return d?h=new wv(r,t):(kc[o]||(kc[o]=new wv(r,t)),h=kc[o]),n.query&&!t.query&&(t.query=n.queryKey),h.socket(n.path,t)}Object.assign(e_,{Manager:wv,Socket:jC,io:e_,connect:e_});function IC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=IC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $p(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=IC(e))&&(r&&(r+=" "),r+=t);return r}const Y4=(e,t,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const o=Object.getOwnPropertyDescriptor(e,n),s=Object.getOwnPropertyDescriptor(t,n);!G4(o,s)&&r||Object.defineProperty(e,n,s)},G4=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},V4=(e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)},q4=(e,t)=>`/* Wrapped ${e}*/
${t}`,K4=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Q4=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),J4=(e,t,n)=>{const r=n===""?"":`with ${n.trim()}() `,o=q4.bind(null,r,t.toString());Object.defineProperty(o,"name",Q4),Object.defineProperty(e,"toString",{...K4,value:o})},X4=(e,t,{ignoreNonConfigurable:n=!1}={})=>{const{name:r}=e;for(const o of Reflect.ownKeys(t))Y4(e,t,o,n);return V4(e,t),J4(e,t,r),e};var eF=X4,xv={exports:{}},tF=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e};(function(e,t){var n=Xn&&Xn.__awaiter||function(l,d,h,g){return new(h||(h=Promise))(function(v,y){function x(C){try{P(g.next(C))}catch(A){y(A)}}function b(C){try{P(g.throw(C))}catch(A){y(A)}}function P(C){C.done?v(C.value):new h(function(A){A(C.value)}).then(x,b)}P((g=g.apply(l,d||[])).next())})},r=Xn&&Xn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(tF);function s(l,d="maxAge"){let h,g,v;const y=()=>n(this,void 0,void 0,function*(){if(h!==void 0)return;const P=C=>n(this,void 0,void 0,function*(){v=o.default();const A=C[1][d]-Date.now();if(A<=0){l.delete(C[0]),v.resolve();return}return h=C[0],g=setTimeout(()=>{l.delete(C[0]),v&&v.resolve()},A),typeof g.unref=="function"&&g.unref(),v.promise});try{for(const C of l)yield P(C)}catch{}h=void 0}),x=()=>{h=void 0,g!==void 0&&(clearTimeout(g),g=void 0),v!==void 0&&(v.reject(void 0),v=void 0)},b=l.set.bind(l);return l.set=(P,C)=>{l.has(P)&&l.delete(P);const A=b(P,C);return h&&h===P&&x(),y(),A},y(),l}t.default=s,e.exports=s,e.exports.default=s})(xv,xv.exports);var nF=xv.exports;const rF=eF,iF=nF,t_=new WeakMap,RC=new WeakMap,op=(e,{cacheKey:t,cache:n=new Map,maxAge:r}={})=>{typeof r=="number"&&iF(n);const o=function(...s){const l=t?t(s):s[0],d=n.get(l);if(d)return d.data;const h=e.apply(this,s);return n.set(l,{data:h,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),h};return rF(o,e,{ignoreNonConfigurable:!0}),RC.set(o,n),o};op.decorator=(e={})=>(t,n,r)=>{const o=t[n];if(typeof o!="function")throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!t_.has(this)){const s=op(o,e);return t_.set(this,s),s}return t_.get(this)}};op.clear=e=>{const t=RC.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if(typeof t.clear!="function")throw new TypeError("The cache Map can't be cleared!");t.clear()};var sF=op;const FC=Wv(sF);function oF(e){return typeof e=="string"}function aF(e,t,n){return n.indexOf(e)===t}function lF(e){return e.toLowerCase()===e}function K1(e){return e.indexOf(",")===-1?e:e.split(",")}function Sv(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],n=t===void 0?"":t;return Sv(n)}if(e.indexOf("@")!==-1){var r=e.split("@")[0],n=r===void 0?"":r;return Sv(n)}if(e.indexOf("-")===-1||!lF(e))return e;var o=e.split("-"),s=o[0],l=o[1],d=l===void 0?"":l;return"".concat(s,"-").concat(d.toUpperCase())}function uF(e){var t=e===void 0?{}:e,n=t.useFallbackLocale,r=n===void 0?!0:n,o=t.fallbackLocale,s=o===void 0?"en-US":o,l=[];if(typeof navigator<"u"){for(var d=navigator.languages||[],h=[],g=0,v=d;g<v.length;g++){var y=v[g];h=h.concat(K1(y))}var x=navigator.language,b=x&&K1(x);l=l.concat(h,b)}return r&&l.push(s),l.filter(oF).map(Sv).filter(aF)}var cF=FC(uF,{cacheKey:JSON.stringify});function dF(e){return cF(e)[0]||null}var BC=FC(dF,{cacheKey:JSON.stringify});function Xs(e,t,n){return function(o,s){s===void 0&&(s=n);var l=e(o)+s;return t(l)}}function Md(e){return function(n){return new Date(e(n).getTime()-1)}}function Dd(e,t){return function(r){return[e(r),t(r)]}}function hn(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;var t=parseInt(e,10);if(typeof e=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Xo(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Up(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function Nu(e){var t=hn(e),n=t+(-t+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var hF=Xs(hn,Nu,-100),zC=Xs(hn,Nu,100),t0=Md(zC),fF=Xs(hn,t0,-100),$C=Dd(Nu,t0);function ea(e){var t=hn(e),n=t+(-t+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var UC=Xs(hn,ea,-10),n0=Xs(hn,ea,10),Wp=Md(n0),WC=Xs(hn,Wp,-10),ZC=Dd(ea,Wp);function Ou(e){var t=hn(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var HC=Xs(hn,Ou,-1),r0=Xs(hn,Ou,1),Zp=Md(r0),YC=Xs(hn,Zp,-1),pF=Dd(Ou,Zp);function i0(e,t){return function(r,o){o===void 0&&(o=t);var s=hn(r),l=Xo(r)+o,d=new Date;return d.setFullYear(s,l,1),d.setHours(0,0,0,0),e(d)}}function sl(e){var t=hn(e),n=Xo(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var GC=i0(sl,-1),s0=i0(sl,1),Ad=Md(s0),VC=i0(Ad,-1),mF=Dd(sl,Ad);function gF(e,t){return function(r,o){o===void 0&&(o=t);var s=hn(r),l=Xo(r),d=Up(r)+o,h=new Date;return h.setFullYear(s,l,d),h.setHours(0,0,0,0),e(h)}}function jd(e){var t=hn(e),n=Xo(e),r=Up(e),o=new Date;return o.setFullYear(t,n,r),o.setHours(0,0,0,0),o}var _F=gF(jd,1),o0=Md(_F),vF=Dd(jd,o0);function qC(e){return Up(Ad(e))}var er={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},yF={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},a0=[0,1,2,3,4,5,6],n_=new Map;function wF(e){return function(n,r){var o=n||BC();n_.has(o)||n_.set(o,new Map);var s=n_.get(o);return s.has(e)||s.set(e,new Intl.DateTimeFormat(o||void 0,e).format),s.get(e)(r)}}function xF(e){var t=new Date(e);return new Date(t.setHours(12))}function ol(e){return function(t,n){return wF(e)(t,xF(n))}}var SF={day:"numeric"},LF={day:"numeric",month:"long",year:"numeric"},bF={month:"long"},CF={month:"long",year:"numeric"},kF={weekday:"short"},TF={weekday:"long"},EF={year:"numeric"},PF=ol(SF),NF=ol(LF),OF=ol(bF),KC=ol(CF),MF=ol(kF),DF=ol(TF),Hp=ol(EF),AF=a0[0],jF=a0[5],Q1=a0[6];function gd(e,t){t===void 0&&(t=er.ISO_8601);var n=e.getDay();switch(t){case er.ISO_8601:return(n+6)%7;case er.ISLAMIC:return(n+1)%7;case er.HEBREW:case er.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function IF(e){var t=Nu(e);return hn(t)}function RF(e){var t=ea(e);return hn(t)}function Lv(e,t){t===void 0&&(t=er.ISO_8601);var n=hn(e),r=Xo(e),o=e.getDate()-gd(e,t);return new Date(n,r,o)}function FF(e,t){t===void 0&&(t=er.ISO_8601);var n=t===er.GREGORY?er.GREGORY:er.ISO_8601,r=Lv(e,t),o=hn(e)+1,s,l;do s=new Date(o,0,n===er.ISO_8601?4:1),l=Lv(s,t),o-=1;while(e<l);return Math.round((r.getTime()-l.getTime())/(864e5*7))+1}function Ya(e,t){switch(e){case"century":return Nu(t);case"decade":return ea(t);case"year":return Ou(t);case"month":return sl(t);case"day":return jd(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function BF(e,t){switch(e){case"century":return hF(t);case"decade":return UC(t);case"year":return HC(t);case"month":return GC(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function QC(e,t){switch(e){case"century":return zC(t);case"decade":return n0(t);case"year":return r0(t);case"month":return s0(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function zF(e,t){switch(e){case"decade":return UC(t,-100);case"year":return HC(t,-10);case"month":return GC(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function $F(e,t){switch(e){case"decade":return n0(t,100);case"year":return r0(t,10);case"month":return s0(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function JC(e,t){switch(e){case"century":return t0(t);case"decade":return Wp(t);case"year":return Zp(t);case"month":return Ad(t);case"day":return o0(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function UF(e,t){switch(e){case"century":return fF(t);case"decade":return WC(t);case"year":return YC(t);case"month":return VC(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function WF(e,t){switch(e){case"decade":return WC(t,-100);case"year":return YC(t,-10);case"month":return VC(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function J1(e,t){switch(e){case"century":return $C(t);case"decade":return ZC(t);case"year":return pF(t);case"month":return mF(t);case"day":return vF(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function ZF(e,t,n){var r=[t,n].sort(function(o,s){return o.getTime()-s.getTime()});return[Ya(e,r[0]),JC(e,r[1])]}function XC(e,t,n){return n.map(function(r){return(t||Hp)(e,r)}).join(" – ")}function HF(e,t,n){return XC(e,t,$C(n))}function ek(e,t,n){return XC(e,t,ZC(n))}function YF(e){return e.getDay()===new Date().getDay()}function tk(e,t){t===void 0&&(t=er.ISO_8601);var n=e.getDay();switch(t){case er.ISLAMIC:case er.HEBREW:return n===jF||n===Q1;case er.ISO_8601:case er.GREGORY:return n===Q1||n===AF;default:throw new Error("Unsupported calendar type.")}}var ss="react-calendar__navigation";function GF(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,o=r===void 0?KC:r,s=e.formatYear,l=s===void 0?Hp:s,d=e.locale,h=e.maxDate,g=e.minDate,v=e.navigationAriaLabel,y=v===void 0?"":v,x=e.navigationAriaLive,b=e.navigationLabel,P=e.next2AriaLabel,C=P===void 0?"":P,A=e.next2Label,k=A===void 0?"»":A,O=e.nextAriaLabel,M=O===void 0?"":O,F=e.nextLabel,$=F===void 0?"›":F,Q=e.prev2AriaLabel,ie=Q===void 0?"":Q,ee=e.prev2Label,Ce=ee===void 0?"«":ee,ce=e.prevAriaLabel,Re=ce===void 0?"":ce,$e=e.prevLabel,le=$e===void 0?"‹":$e,me=e.setActiveStartDate,ze=e.showDoubleView,be=e.view,Ke=e.views,G=Ke.indexOf(be)>0,ye=be!=="century",X=BF(be,t),ge=ye?zF(be,t):void 0,De=QC(be,t),Qe=ye?$F(be,t):void 0,Ue=function(){if(X.getFullYear()<0)return!0;var Ye=UF(be,t);return g&&g>=Ye}(),He=ye&&function(){if(ge.getFullYear()<0)return!0;var Ye=WF(be,t);return g&&g>=Ye}(),Se=h&&h<De,vt=ye&&h&&h<Qe;function St(){me(X,"prev")}function jt(){me(ge,"prev2")}function yn(){me(De,"next")}function ot(){me(Qe,"next2")}function Et(Ye){var Ln=function(){switch(be){case"century":return HF(d,l,Ye);case"decade":return ek(d,l,Ye);case"year":return l(d,Ye);case"month":return o(d,Ye);default:throw new Error("Invalid view: ".concat(be,"."))}}();return b?b({date:Ye,label:Ln,locale:d||BC()||void 0,view:be}):Ln}function mt(){var Ye="".concat(ss,"__label");return m.jsxs("button",{"aria-label":y,"aria-live":x,className:Ye,disabled:!G,onClick:n,style:{flexGrow:1},type:"button",children:[m.jsx("span",{className:"".concat(Ye,"__labelText ").concat(Ye,"__labelText--from"),children:Et(t)}),ze?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"".concat(Ye,"__divider"),children:" – "}),m.jsx("span",{className:"".concat(Ye,"__labelText ").concat(Ye,"__labelText--to"),children:Et(De)})]}):null]})}return m.jsxs("div",{className:ss,children:[Ce!==null&&ye?m.jsx("button",{"aria-label":ie,className:"".concat(ss,"__arrow ").concat(ss,"__prev2-button"),disabled:He,onClick:jt,type:"button",children:Ce}):null,le!==null&&m.jsx("button",{"aria-label":Re,className:"".concat(ss,"__arrow ").concat(ss,"__prev-button"),disabled:Ue,onClick:St,type:"button",children:le}),mt(),$!==null&&m.jsx("button",{"aria-label":M,className:"".concat(ss,"__arrow ").concat(ss,"__next-button"),disabled:Se,onClick:yn,type:"button",children:$}),k!==null&&ye?m.jsx("button",{"aria-label":C,className:"".concat(ss,"__arrow ").concat(ss,"__next2-button"),disabled:vt,onClick:ot,type:"button",children:k}):null]})}var tu=function(){return tu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},tu.apply(this,arguments)},VF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function X1(e){return"".concat(e,"%")}function l0(e){var t=e.children,n=e.className,r=e.count,o=e.direction,s=e.offset,l=e.style,d=e.wrap,h=VF(e,["children","className","count","direction","offset","style","wrap"]);return m.jsx("div",tu({className:n,style:tu({display:"flex",flexDirection:o,flexWrap:d?"wrap":"nowrap"},l)},h,{children:T.Children.map(t,function(g,v){var y=s&&v===0?X1(100*s/r):null;return T.cloneElement(g,tu(tu({},g.props),{style:{flexBasis:X1(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:y,marginInlineStart:y,marginInlineEnd:0}}))})}))}function qF(e,t,n){return t&&t>e?t:n&&n<e?n:e}function _d(e,t){return t[0]<=e&&t[1]>=e}function KF(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function nk(e,t){return _d(e[0],t)||_d(e[1],t)}function eS(e,t,n){var r=nk(t,e),o=[];if(r){o.push(n);var s=_d(e[0],t),l=_d(e[1],t);s&&o.push("".concat(n,"Start")),l&&o.push("".concat(n,"End")),s&&l&&o.push("".concat(n,"BothEnds"))}return o}function QF(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function JF(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,o="react-calendar__tile",s=[o];if(!n)return s;var l=new Date,d=function(){if(Array.isArray(n))return n;var b=e.dateType;if(!b)throw new Error("dateType is required when date is not an array of two dates");return J1(b,n)}();if(_d(l,d)&&s.push("".concat(o,"--now")),!t||!QF(t))return s;var h=function(){if(Array.isArray(t))return t;var b=e.valueType;if(!b)throw new Error("valueType is required when value is not an array of two dates");return J1(b,t)}();KF(h,d)?s.push("".concat(o,"--active")):nk(h,d)&&s.push("".concat(o,"--hasActive"));var g=eS(h,d,"".concat(o,"--range"));s.push.apply(s,g);var v=Array.isArray(t)?t:[t];if(r&&v.length===1){var y=r>h[0]?[h[0],r]:[r,h[0]],x=eS(y,d,"".concat(o,"--hover"));s.push.apply(s,x)}return s}function Yp(e){for(var t=e.className,n=e.count,r=n===void 0?3:n,o=e.dateTransform,s=e.dateType,l=e.end,d=e.hover,h=e.offset,g=e.renderTile,v=e.start,y=e.step,x=y===void 0?1:y,b=e.value,P=e.valueType,C=[],A=v;A<=l;A+=x){var k=o(A);C.push(g({classes:JF({date:k,dateType:s,hover:d,value:b,valueType:P}),date:k}))}return m.jsx(l0,{className:t,count:r,offset:h,wrap:!0,children:C})}function Gp(e){var t=e.activeStartDate,n=e.children,r=e.classes,o=e.date,s=e.formatAbbr,l=e.locale,d=e.maxDate,h=e.maxDateTransform,g=e.minDate,v=e.minDateTransform,y=e.onClick,x=e.onMouseOver,b=e.style,P=e.tileClassName,C=e.tileContent,A=e.tileDisabled,k=e.view,O=T.useMemo(function(){var F={activeStartDate:t,date:o,view:k};return typeof P=="function"?P(F):P},[t,o,P,k]),M=T.useMemo(function(){var F={activeStartDate:t,date:o,view:k};return typeof C=="function"?C(F):C},[t,o,C,k]);return m.jsxs("button",{className:$p(r,O),disabled:g&&v(g)>o||d&&h(d)<o||(A==null?void 0:A({activeStartDate:t,date:o,view:k})),onClick:y?function(F){return y(o,F)}:void 0,onFocus:x?function(){return x(o)}:void 0,onMouseOver:x?function(){return x(o)}:void 0,style:b,type:"button",children:[s?m.jsx("abbr",{"aria-label":s(l,o),children:n}):n,M]})}var bv=function(){return bv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},bv.apply(this,arguments)},XF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},tS="react-calendar__century-view__decades__decade";function eB(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentCentury,o=e.formatYear,s=o===void 0?Hp:o,l=XF(e,["classes","currentCentury","formatYear"]),d=l.date,h=l.locale,g=[];return n&&g.push.apply(g,n),g.push(tS),Nu(d).getFullYear()!==r&&g.push("".concat(tS,"--neighboringCentury")),m.jsx(Gp,bv({},l,{classes:g,maxDateTransform:Wp,minDateTransform:ea,view:"century",children:ek(h,s,d)}))}var Cv=function(){return Cv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Cv.apply(this,arguments)},nS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function tB(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,o=e.value,s=e.valueType,l=nS(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),d=IF(t),h=d+(r?119:99);return m.jsx(Yp,{className:"react-calendar__century-view__decades",dateTransform:ea,dateType:"decade",end:h,hover:n,renderTile:function(g){var v=g.date,y=nS(g,["date"]);return m.jsx(eB,Cv({},l,y,{activeStartDate:t,currentCentury:d,date:v}),v.getTime())},start:d,step:10,value:o,valueType:s})}var kv=function(){return kv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},kv.apply(this,arguments)};function nB(e){function t(){return m.jsx(tB,kv({},e))}return m.jsx("div",{className:"react-calendar__century-view",children:t()})}var Tv=function(){return Tv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Tv.apply(this,arguments)},rB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},rS="react-calendar__decade-view__years__year";function iB(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentDecade,o=e.formatYear,s=o===void 0?Hp:o,l=rB(e,["classes","currentDecade","formatYear"]),d=l.date,h=l.locale,g=[];return n&&g.push.apply(g,n),g.push(rS),ea(d).getFullYear()!==r&&g.push("".concat(rS,"--neighboringDecade")),m.jsx(Gp,Tv({},l,{classes:g,maxDateTransform:Zp,minDateTransform:Ou,view:"decade",children:s(h,d)}))}var Ev=function(){return Ev=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ev.apply(this,arguments)},iS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function sB(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,o=e.value,s=e.valueType,l=iS(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),d=RF(t),h=d+(r?11:9);return m.jsx(Yp,{className:"react-calendar__decade-view__years",dateTransform:Ou,dateType:"year",end:h,hover:n,renderTile:function(g){var v=g.date,y=iS(g,["date"]);return m.jsx(iB,Ev({},l,y,{activeStartDate:t,currentDecade:d,date:v}),v.getTime())},start:d,value:o,valueType:s})}var Pv=function(){return Pv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Pv.apply(this,arguments)};function oB(e){function t(){return m.jsx(sB,Pv({},e))}return m.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Nv=function(){return Nv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Nv.apply(this,arguments)},aB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},sS=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},lB="react-calendar__year-view__months__month";function uB(e){var t=e.classes,n=t===void 0?[]:t,r=e.formatMonth,o=r===void 0?OF:r,s=e.formatMonthYear,l=s===void 0?KC:s,d=aB(e,["classes","formatMonth","formatMonthYear"]),h=d.date,g=d.locale;return m.jsx(Gp,Nv({},d,{classes:sS(sS([],n,!0),[lB],!1),formatAbbr:l,maxDateTransform:Ad,minDateTransform:sl,view:"year",children:o(g,h)}))}var Ov=function(){return Ov=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ov.apply(this,arguments)},oS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function cB(e){var t=e.activeStartDate,n=e.hover,r=e.value,o=e.valueType,s=oS(e,["activeStartDate","hover","value","valueType"]),l=0,d=11,h=hn(t);return m.jsx(Yp,{className:"react-calendar__year-view__months",dateTransform:function(g){var v=new Date;return v.setFullYear(h,g,1),sl(v)},dateType:"month",end:d,hover:n,renderTile:function(g){var v=g.date,y=oS(g,["date"]);return m.jsx(uB,Ov({},s,y,{activeStartDate:t,date:v}),v.getTime())},start:l,value:r,valueType:o})}var Mv=function(){return Mv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Mv.apply(this,arguments)};function dB(e){function t(){return m.jsx(cB,Mv({},e))}return m.jsx("div",{className:"react-calendar__year-view",children:t()})}var Dv=function(){return Dv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Dv.apply(this,arguments)},hB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},r_="react-calendar__month-view__days__day";function fB(e){var t=e.calendarType,n=e.classes,r=n===void 0?[]:n,o=e.currentMonthIndex,s=e.formatDay,l=s===void 0?PF:s,d=e.formatLongDate,h=d===void 0?NF:d,g=hB(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),v=g.date,y=g.locale,x=[];return r&&x.push.apply(x,r),x.push(r_),tk(v,t)&&x.push("".concat(r_,"--weekend")),v.getMonth()!==o&&x.push("".concat(r_,"--neighboringMonth")),m.jsx(Gp,Dv({},g,{classes:x,formatAbbr:h,maxDateTransform:o0,minDateTransform:jd,view:"month",children:l(y,v)}))}var Av=function(){return Av=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Av.apply(this,arguments)},aS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function pB(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,o=e.showFixedNumberOfWeeks,s=e.showNeighboringMonth,l=e.value,d=e.valueType,h=aS(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=hn(t),v=Xo(t),y=o||s,x=gd(t,n),b=y?0:x,P=(y?-x:0)+1,C=function(){if(o)return P+6*7-1;var A=qC(t);if(s){var k=new Date;k.setFullYear(g,v,A),k.setHours(0,0,0,0);var O=7-gd(k,n)-1;return A+O}return A}();return m.jsx(Yp,{className:"react-calendar__month-view__days",count:7,dateTransform:function(A){var k=new Date;return k.setFullYear(g,v,A),jd(k)},dateType:"day",hover:r,end:C,renderTile:function(A){var k=A.date,O=aS(A,["date"]);return m.jsx(fB,Av({},h,O,{activeStartDate:t,calendarType:n,currentMonthIndex:v,date:k}),k.getTime())},offset:b,start:P,value:l,valueType:d})}var rk="react-calendar__month-view__weekdays",i_="".concat(rk,"__weekday");function mB(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=n===void 0?MF:n,o=e.formatWeekday,s=o===void 0?DF:o,l=e.locale,d=e.onMouseLeave,h=new Date,g=sl(h),v=hn(g),y=Xo(g),x=[],b=1;b<=7;b+=1){var P=new Date(v,y,b-gd(g,t)),C=s(l,P);x.push(m.jsx("div",{className:$p(i_,YF(P)&&"".concat(i_,"--current"),tk(P,t)&&"".concat(i_,"--weekend")),children:m.jsx("abbr",{"aria-label":C,title:C,children:r(l,P).replace(".","")})},b))}return m.jsx(l0,{className:rk,count:7,onFocus:d,onMouseOver:d,children:x})}var ap=function(){return ap=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ap.apply(this,arguments)},lS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},uS="react-calendar__tile";function gB(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=m.jsx("span",{children:n});if(t){var o=e.date,s=e.onClickWeekNumber,l=e.weekNumber,d=lS(e,["date","onClickWeekNumber","weekNumber"]);return m.jsx("button",ap({},d,{className:uS,onClick:function(h){return s(l,o,h)},type:"button",children:r}))}else{e.date,e.onClickWeekNumber,e.weekNumber;var d=lS(e,["date","onClickWeekNumber","weekNumber"]);return m.jsx("div",ap({},d,{className:uS,children:r}))}}function _B(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,o=e.onMouseLeave,s=e.showFixedNumberOfWeeks,l=function(){if(s)return 6;var g=qC(t),v=gd(t,n),y=g-(7-v);return 1+Math.ceil(y/7)}(),d=function(){for(var g=hn(t),v=Xo(t),y=Up(t),x=[],b=0;b<l;b+=1)x.push(Lv(new Date(g,v,y+b*7),n));return x}(),h=d.map(function(g){return FF(g,n)});return m.jsx(l0,{className:"react-calendar__month-view__weekNumbers",count:l,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:h.map(function(g,v){var y=d[v];if(!y)throw new Error("date is not defined");return m.jsx(gB,{date:y,onClickWeekNumber:r,weekNumber:g},g)})})}var jv=function(){return jv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},jv.apply(this,arguments)},vB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function yB(e){if(e)for(var t=0,n=Object.entries(yF);t<n.length;t++){var r=n[t],o=r[0],s=r[1];if(s.includes(e))return o}return er.ISO_8601}function wB(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,o=e.showFixedNumberOfWeeks,s=e.calendarType,l=s===void 0?yB(n):s,d=e.formatShortWeekday,h=e.formatWeekday,g=e.onClickWeekNumber,v=e.showWeekNumbers,y=vB(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function x(){return m.jsx(mB,{calendarType:l,formatShortWeekday:d,formatWeekday:h,locale:n,onMouseLeave:r})}function b(){return v?m.jsx(_B,{activeStartDate:t,calendarType:l,onClickWeekNumber:g,onMouseLeave:r,showFixedNumberOfWeeks:o}):null}function P(){return m.jsx(pB,jv({calendarType:l},y))}var C="react-calendar__month-view";return m.jsx("div",{className:$p(C,v?"".concat(C,"--weekNumbers"):""),children:m.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[b(),m.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[x(),P()]})]})})}var nu=function(){return nu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},nu.apply(this,arguments)},rf="react-calendar",kf=["century","decade","year","month"],xB=["decade","year","month","day"],u0=new Date;u0.setFullYear(1,0,1);u0.setHours(0,0,0,0);var SB=new Date(864e13);function Fc(e){return e instanceof Date?e:new Date(e)}function ik(e,t){return kf.slice(kf.indexOf(e),kf.indexOf(t)+1)}function LB(e,t,n){var r=ik(t,n);return r.indexOf(e)!==-1}function c0(e,t,n){return e&&LB(e,t,n)?e:n}function sk(e){var t=kf.indexOf(e);return xB[t]}function bB(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=Fc(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function ok(e,t){var n=e.value,r=e.minDate,o=e.maxDate,s=e.maxDetail,l=bB(n,t);if(!l)return null;var d=sk(s),h=function(){switch(t){case 0:return Ya(d,l);case 1:return JC(d,l);default:throw new Error("Invalid index value: ".concat(t))}}();return qF(h,r,o)}var d0=function(e){return ok(e,0)},ak=function(e){return ok(e,1)},CB=function(e){return[d0,ak].map(function(t){return t(e)})};function lk(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,o=e.minDetail,s=e.value,l=e.view,d=c0(l,o,n),h=d0({value:s,minDate:r,maxDate:t,maxDetail:n})||new Date;return Ya(d,h)}function kB(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,o=e.defaultView,s=e.maxDate,l=e.maxDetail,d=e.minDate,h=e.minDetail,g=e.value,v=e.view,y=c0(v,h,l),x=t||n;return x?Ya(y,x):lk({maxDate:s,maxDetail:l,minDate:d,minDetail:h,value:g||r,view:v||o})}function s_(e){return e&&(!Array.isArray(e)||e.length===1)}function sf(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var TB=T.forwardRef(function(t,n){var r=t.activeStartDate,o=t.allowPartialRange,s=t.calendarType,l=t.className,d=t.defaultActiveStartDate,h=t.defaultValue,g=t.defaultView,v=t.formatDay,y=t.formatLongDate,x=t.formatMonth,b=t.formatMonthYear,P=t.formatShortWeekday,C=t.formatWeekday,A=t.formatYear,k=t.goToRangeStartOnSelect,O=k===void 0?!0:k,M=t.inputRef,F=t.locale,$=t.maxDate,Q=$===void 0?SB:$,ie=t.maxDetail,ee=ie===void 0?"month":ie,Ce=t.minDate,ce=Ce===void 0?u0:Ce,Re=t.minDetail,$e=Re===void 0?"century":Re,le=t.navigationAriaLabel,me=t.navigationAriaLive,ze=t.navigationLabel,be=t.next2AriaLabel,Ke=t.next2Label,G=t.nextAriaLabel,ye=t.nextLabel,X=t.onActiveStartDateChange,ge=t.onChange,De=t.onClickDay,Qe=t.onClickDecade,Ue=t.onClickMonth,He=t.onClickWeekNumber,Se=t.onClickYear,vt=t.onDrillDown,St=t.onDrillUp,jt=t.onViewChange,yn=t.prev2AriaLabel,ot=t.prev2Label,Et=t.prevAriaLabel,mt=t.prevLabel,Ye=t.returnValue,Ln=Ye===void 0?"start":Ye,Me=t.selectRange,Pt=t.showDoubleView,zt=t.showFixedNumberOfWeeks,Zr=t.showNavigation,fn=Zr===void 0?!0:Zr,on=t.showNeighboringCentury,Wn=t.showNeighboringDecade,Zn=t.showNeighboringMonth,ii=Zn===void 0?!0:Zn,Ht=t.showWeekNumbers,Pr=t.tileClassName,te=t.tileContent,pe=t.tileDisabled,je=t.value,W=t.view,q=T.useState(d),J=q[0],de=q[1],ke=T.useState(null),Ie=ke[0],Lt=ke[1],Ne=T.useState(Array.isArray(h)?h.map(function(Je){return Je!==null?Fc(Je):null}):h!=null?Fc(h):null),Dn=Ne[0],It=Ne[1],Nt=T.useState(g),ht=Nt[0],pr=Nt[1],Jt=r||J||kB({activeStartDate:r,defaultActiveStartDate:d,defaultValue:h,defaultView:g,maxDate:Q,maxDetail:ee,minDate:ce,minDetail:$e,value:je,view:W}),Xt=function(){var Je=function(){return Me&&s_(Dn)?Dn:je!==void 0?je:Dn}();return Je?Array.isArray(Je)?Je.map(function(Yt){return Yt!==null?Fc(Yt):null}):Je!==null?Fc(Je):null:null}(),Ci=sk(ee),H=c0(W||ht,$e,ee),oe=ik($e,ee),_e=Me?Ie:null,Fe=oe.indexOf(H)<oe.length-1,Be=oe.indexOf(H)>0,it=T.useCallback(function(Je){var Yt=function(){switch(Ln){case"start":return d0;case"end":return ak;case"range":return CB;default:throw new Error("Invalid returnValue.")}}();return Yt({maxDate:Q,maxDetail:ee,minDate:ce,value:Je})},[Q,ee,ce,Ln]),$t=T.useCallback(function(Je,Yt){de(Je);var an={action:Yt,activeStartDate:Je,value:Xt,view:H};X&&!sf(Jt,Je)&&X(an)},[Jt,X,Xt,H]),bn=T.useCallback(function(Je,Yt){var an=function(){switch(H){case"century":return Qe;case"decade":return Se;case"year":return Ue;case"month":return De;default:throw new Error("Invalid view: ".concat(H,"."))}}();an&&an(Je,Yt)},[De,Qe,Ue,Se,H]),At=T.useCallback(function(Je,Yt){if(Fe){bn(Je,Yt);var an=oe[oe.indexOf(H)+1];if(!an)throw new Error("Attempted to drill down from the lowest view.");de(Je),pr(an);var mr={action:"drillDown",activeStartDate:Je,value:Xt,view:an};X&&!sf(Jt,Je)&&X(mr),jt&&H!==an&&jt(mr),vt&&vt(mr)}},[Jt,Fe,X,bn,vt,jt,Xt,H,oe]),Te=T.useCallback(function(){if(Be){var Je=oe[oe.indexOf(H)-1];if(!Je)throw new Error("Attempted to drill up from the highest view.");var Yt=Ya(Je,Jt);de(Yt),pr(Je);var an={action:"drillUp",activeStartDate:Yt,value:Xt,view:Je};X&&!sf(Jt,Yt)&&X(an),jt&&H!==Je&&jt(an),St&&St(an)}},[Jt,Be,X,St,jt,Xt,H,oe]),ki=T.useCallback(function(Je,Yt){var an=Xt;bn(Je,Yt);var mr=Me&&!s_(an),gr;if(Me)if(mr)gr=Ya(Ci,Je);else{if(!an)throw new Error("previousValue is required");if(Array.isArray(an))throw new Error("previousValue must not be an array");gr=ZF(Ci,an,Je)}else gr=it(Je);var ra=!Me||mr||O?lk({maxDate:Q,maxDetail:ee,minDate:ce,minDetail:$e,value:gr,view:H}):null;Yt.persist(),de(ra),It(gr);var cl={action:"onChange",activeStartDate:ra,value:gr,view:H};if(X&&!sf(Jt,ra)&&X(cl),ge)if(Me){var ro=s_(gr);if(!ro)ge(gr||null,Yt);else if(o){if(Array.isArray(gr))throw new Error("value must not be an array");ge([gr||null,null],Yt)}}else ge(gr||null,Yt)},[Jt,o,it,O,Q,ee,ce,$e,X,ge,bn,Me,Xt,Ci,H]);function ll(Je){Lt(Je)}function no(){Lt(null)}T.useImperativeHandle(n,function(){return{activeStartDate:Jt,drillDown:At,drillUp:Te,onChange:ki,setActiveStartDate:$t,value:Xt,view:H}},[Jt,At,Te,ki,$t,Xt,H]);function ta(Je){var Yt=Je?QC(H,Jt):Ya(H,Jt),an=Fe?At:ki,mr={activeStartDate:Yt,hover:_e,locale:F,maxDate:Q,minDate:ce,onClick:an,onMouseOver:Me?ll:void 0,tileClassName:Pr,tileContent:te,tileDisabled:pe,value:Xt,valueType:Ci};switch(H){case"century":return m.jsx(nB,nu({formatYear:A,showNeighboringCentury:on},mr));case"decade":return m.jsx(oB,nu({formatYear:A,showNeighboringDecade:Wn},mr));case"year":return m.jsx(dB,nu({formatMonth:x,formatMonthYear:b},mr));case"month":return m.jsx(wB,nu({calendarType:s,formatDay:v,formatLongDate:y,formatShortWeekday:P,formatWeekday:C,onClickWeekNumber:He,onMouseLeave:Me?no:void 0,showFixedNumberOfWeeks:typeof zt<"u"?zt:Pt,showNeighboringMonth:ii,showWeekNumbers:Ht},mr));default:throw new Error("Invalid view: ".concat(H,"."))}}function na(){return fn?m.jsx(GF,{activeStartDate:Jt,drillUp:Te,formatMonthYear:b,formatYear:A,locale:F,maxDate:Q,minDate:ce,navigationAriaLabel:le,navigationAriaLive:me,navigationLabel:ze,next2AriaLabel:be,next2Label:Ke,nextAriaLabel:G,nextLabel:ye,prev2AriaLabel:yn,prev2Label:ot,prevAriaLabel:Et,prevLabel:mt,setActiveStartDate:$t,showDoubleView:Pt,view:H,views:oe}):null}var ul=Array.isArray(Xt)?Xt:[Xt];return m.jsxs("div",{className:$p(rf,Me&&ul.length===1&&"".concat(rf,"--selectRange"),Pt&&"".concat(rf,"--doubleView"),l),ref:M,children:[na(),m.jsxs("div",{className:"".concat(rf,"__viewContainer"),onBlur:Me?no:void 0,onMouseLeave:Me?no:void 0,children:[ta(),Pt?ta(!0):null]})]})});//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var uk;function xe(){return uk.apply(null,arguments)}function EB(e){uk=e}function Hi(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ga(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Mt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h0(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Mt(e,t))return!1;return!0}function jr(e){return e===void 0}function Ks(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Id(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function ck(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function jo(e,t){for(var n in t)Mt(t,n)&&(e[n]=t[n]);return Mt(t,"toString")&&(e.toString=t.toString),Mt(t,"valueOf")&&(e.valueOf=t.valueOf),e}function ps(e,t,n,r){return Dk(e,t,n,r,!0).utc()}function PB(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function lt(e){return e._pf==null&&(e._pf=PB()),e._pf}var Iv;Array.prototype.some?Iv=Array.prototype.some:Iv=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function f0(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=lt(e),n=Iv.call(t.parsedDateParts,function(o){return o!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function Vp(e){var t=ps(NaN);return e!=null?jo(lt(t),e):lt(t).userInvalidated=!0,t}var cS=xe.momentProperties=[],o_=!1;function p0(e,t){var n,r,o,s=cS.length;if(jr(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),jr(t._i)||(e._i=t._i),jr(t._f)||(e._f=t._f),jr(t._l)||(e._l=t._l),jr(t._strict)||(e._strict=t._strict),jr(t._tzm)||(e._tzm=t._tzm),jr(t._isUTC)||(e._isUTC=t._isUTC),jr(t._offset)||(e._offset=t._offset),jr(t._pf)||(e._pf=lt(t)),jr(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)r=cS[n],o=t[r],jr(o)||(e[r]=o);return e}function Rd(e){p0(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),o_===!1&&(o_=!0,xe.updateOffset(this),o_=!1)}function Yi(e){return e instanceof Rd||e!=null&&e._isAMomentObject!=null}function dk(e){xe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Li(e,t){var n=!0;return jo(function(){if(xe.deprecationHandler!=null&&xe.deprecationHandler(null,e),n){var r=[],o,s,l,d=arguments.length;for(s=0;s<d;s++){if(o="",typeof arguments[s]=="object"){o+=`
[`+s+"] ";for(l in arguments[0])Mt(arguments[0],l)&&(o+=l+": "+arguments[0][l]+", ");o=o.slice(0,-2)}else o=arguments[s];r.push(o)}dk(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var dS={};function hk(e,t){xe.deprecationHandler!=null&&xe.deprecationHandler(e,t),dS[e]||(dk(t),dS[e]=!0)}xe.suppressDeprecationWarnings=!1;xe.deprecationHandler=null;function ms(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function NB(e){var t,n;for(n in e)Mt(e,n)&&(t=e[n],ms(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Rv(e,t){var n=jo({},e),r;for(r in t)Mt(t,r)&&(Ga(e[r])&&Ga(t[r])?(n[r]={},jo(n[r],e[r]),jo(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Mt(e,r)&&!Mt(t,r)&&Ga(e[r])&&(n[r]=jo({},n[r]));return n}function m0(e){e!=null&&this.set(e)}var Fv;Object.keys?Fv=Object.keys:Fv=function(e){var t,n=[];for(t in e)Mt(e,t)&&n.push(t);return n};var OB={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function MB(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return ms(r)?r.call(t,n):r}function fs(e,t,n){var r=""+Math.abs(e),o=t-r.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var g0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,of=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,a_={},hu={};function Ze(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(hu[e]=o),t&&(hu[t[0]]=function(){return fs(o.apply(this,arguments),t[1],t[2])}),n&&(hu[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function DB(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function AB(e){var t=e.match(g0),n,r;for(n=0,r=t.length;n<r;n++)hu[t[n]]?t[n]=hu[t[n]]:t[n]=DB(t[n]);return function(o){var s="",l;for(l=0;l<r;l++)s+=ms(t[l])?t[l].call(o,e):t[l];return s}}function Tf(e,t){return e.isValid()?(t=fk(t,e.localeData()),a_[t]=a_[t]||AB(t),a_[t](e)):e.localeData().invalidDate()}function fk(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(of.lastIndex=0;n>=0&&of.test(e);)e=e.replace(of,r),of.lastIndex=0,n-=1;return e}var jB={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function IB(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(g0).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var RB="Invalid date";function FB(){return this._invalidDate}var BB="%d",zB=/\d{1,2}/;function $B(e){return this._ordinal.replace("%d",e)}var UB={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function WB(e,t,n,r){var o=this._relativeTime[n];return ms(o)?o(e,t,n,r):o.replace(/%d/i,e)}function ZB(e,t){var n=this._relativeTime[e>0?"future":"past"];return ms(n)?n(t):n.replace(/%s/i,t)}var hS={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function bi(e){return typeof e=="string"?hS[e]||hS[e.toLowerCase()]:void 0}function _0(e){var t={},n,r;for(r in e)Mt(e,r)&&(n=bi(r),n&&(t[n]=e[r]));return t}var HB={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function YB(e){var t=[],n;for(n in e)Mt(e,n)&&t.push({unit:n,priority:HB[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}var pk=/\d/,ri=/\d\d/,mk=/\d{3}/,v0=/\d{4}/,qp=/[+-]?\d{6}/,sn=/\d\d?/,gk=/\d\d\d\d?/,_k=/\d\d\d\d\d\d?/,Kp=/\d{1,3}/,y0=/\d{1,4}/,Qp=/[+-]?\d{1,6}/,Mu=/\d+/,Jp=/[+-]?\d+/,GB=/Z|[+-]\d\d:?\d\d/gi,Xp=/Z|[+-]\d\d(?::?\d\d)?/gi,VB=/[+-]?\d+(\.\d{1,3})?/,Fd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Du=/^[1-9]\d?/,w0=/^([1-9]\d|\d)/,lp;lp={};function Pe(e,t,n){lp[e]=ms(t)?t:function(r,o){return r&&n?n:t}}function qB(e,t){return Mt(lp,e)?lp[e](t._strict,t._locale):new RegExp(KB(e))}function KB(e){return Ws(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,s){return n||r||o||s}))}function Ws(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function vi(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _t(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=vi(t)),n}var Bv={};function Zt(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),Ks(t)&&(r=function(s,l){l[t]=_t(s)}),o=e.length,n=0;n<o;n++)Bv[e[n]]=r}function Bd(e,t){Zt(e,function(n,r,o,s){o._w=o._w||{},t(n,o._w,o,s)})}function QB(e,t,n){t!=null&&Mt(Bv,e)&&Bv[e](t,n._a,n,e)}function em(e){return e%4===0&&e%100!==0||e%400===0}var dr=0,Fs=1,ls=2,Un=3,$i=4,Bs=5,$a=6,JB=7,XB=8;Ze("Y",0,0,function(){var e=this.year();return e<=9999?fs(e,4):"+"+e});Ze(0,["YY",2],0,function(){return this.year()%100});Ze(0,["YYYY",4],0,"year");Ze(0,["YYYYY",5],0,"year");Ze(0,["YYYYYY",6,!0],0,"year");Pe("Y",Jp);Pe("YY",sn,ri);Pe("YYYY",y0,v0);Pe("YYYYY",Qp,qp);Pe("YYYYYY",Qp,qp);Zt(["YYYYY","YYYYYY"],dr);Zt("YYYY",function(e,t){t[dr]=e.length===2?xe.parseTwoDigitYear(e):_t(e)});Zt("YY",function(e,t){t[dr]=xe.parseTwoDigitYear(e)});Zt("Y",function(e,t){t[dr]=parseInt(e,10)});function Kc(e){return em(e)?366:365}xe.parseTwoDigitYear=function(e){return _t(e)+(_t(e)>68?1900:2e3)};var vk=Au("FullYear",!0);function ez(){return em(this.year())}function Au(e,t){return function(n){return n!=null?(yk(this,e,n),xe.updateOffset(this,t),this):vd(this,e)}}function vd(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function yk(e,t,n){var r,o,s,l,d;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,o=e._isUTC,t){case"Milliseconds":return void(o?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(o?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(o?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(o?r.setUTCHours(n):r.setHours(n));case"Date":return void(o?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,l=e.month(),d=e.date(),d=d===29&&l===1&&!em(s)?28:d,o?r.setUTCFullYear(s,l,d):r.setFullYear(s,l,d)}}function tz(e){return e=bi(e),ms(this[e])?this[e]():this}function nz(e,t){if(typeof e=="object"){e=_0(e);var n=YB(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=bi(e),ms(this[e]))return this[e](t);return this}function rz(e,t){return(e%t+t)%t}var En;Array.prototype.indexOf?En=Array.prototype.indexOf:En=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function x0(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=rz(t,12);return e+=(t-n)/12,n===1?em(e)?29:28:31-n%7%2}Ze("M",["MM",2],"Mo",function(){return this.month()+1});Ze("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Ze("MMMM",0,0,function(e){return this.localeData().months(this,e)});Pe("M",sn,Du);Pe("MM",sn,ri);Pe("MMM",function(e,t){return t.monthsShortRegex(e)});Pe("MMMM",function(e,t){return t.monthsRegex(e)});Zt(["M","MM"],function(e,t){t[Fs]=_t(e)-1});Zt(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[Fs]=o:lt(n).invalidMonth=e});var iz="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),wk="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xk=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,sz=Fd,oz=Fd;function az(e,t){return e?Hi(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||xk).test(t)?"format":"standalone"][e.month()]:Hi(this._months)?this._months:this._months.standalone}function lz(e,t){return e?Hi(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[xk.test(t)?"format":"standalone"][e.month()]:Hi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function uz(e,t,n){var r,o,s,l=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=ps([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?t==="MMM"?(o=En.call(this._shortMonthsParse,l),o!==-1?o:null):(o=En.call(this._longMonthsParse,l),o!==-1?o:null):t==="MMM"?(o=En.call(this._shortMonthsParse,l),o!==-1?o:(o=En.call(this._longMonthsParse,l),o!==-1?o:null)):(o=En.call(this._longMonthsParse,l),o!==-1?o:(o=En.call(this._shortMonthsParse,l),o!==-1?o:null))}function cz(e,t,n){var r,o,s;if(this._monthsParseExact)return uz.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=ps([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function Sk(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=_t(t);else if(t=e.localeData().monthsParse(t),!Ks(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,x0(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function Lk(e){return e!=null?(Sk(this,e),xe.updateOffset(this,!0),this):vd(this,"Month")}function dz(){return x0(this.year(),this.month())}function hz(e){return this._monthsParseExact?(Mt(this,"_monthsRegex")||bk.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Mt(this,"_monthsShortRegex")||(this._monthsShortRegex=sz),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fz(e){return this._monthsParseExact?(Mt(this,"_monthsRegex")||bk.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Mt(this,"_monthsRegex")||(this._monthsRegex=oz),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function bk(){function e(h,g){return g.length-h.length}var t=[],n=[],r=[],o,s,l,d;for(o=0;o<12;o++)s=ps([2e3,o]),l=Ws(this.monthsShort(s,"")),d=Ws(this.months(s,"")),t.push(l),n.push(d),r.push(d),r.push(l);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function pz(e,t,n,r,o,s,l){var d;return e<100&&e>=0?(d=new Date(e+400,t,n,r,o,s,l),isFinite(d.getFullYear())&&d.setFullYear(e)):d=new Date(e,t,n,r,o,s,l),d}function yd(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function up(e,t,n){var r=7+t-n,o=(7+yd(e,0,r).getUTCDay()-t)%7;return-o+r-1}function Ck(e,t,n,r,o){var s=(7+n-r)%7,l=up(e,r,o),d=1+7*(t-1)+s+l,h,g;return d<=0?(h=e-1,g=Kc(h)+d):d>Kc(e)?(h=e+1,g=d-Kc(e)):(h=e,g=d),{year:h,dayOfYear:g}}function wd(e,t,n){var r=up(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,s,l;return o<1?(l=e.year()-1,s=o+Zs(l,t,n)):o>Zs(e.year(),t,n)?(s=o-Zs(e.year(),t,n),l=e.year()+1):(l=e.year(),s=o),{week:s,year:l}}function Zs(e,t,n){var r=up(e,t,n),o=up(e+1,t,n);return(Kc(e)-r+o)/7}Ze("w",["ww",2],"wo","week");Ze("W",["WW",2],"Wo","isoWeek");Pe("w",sn,Du);Pe("ww",sn,ri);Pe("W",sn,Du);Pe("WW",sn,ri);Bd(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=_t(e)});function mz(e){return wd(e,this._week.dow,this._week.doy).week}var gz={dow:0,doy:6};function _z(){return this._week.dow}function vz(){return this._week.doy}function yz(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function wz(e){var t=wd(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Ze("d",0,"do","day");Ze("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Ze("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Ze("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Ze("e",0,0,"weekday");Ze("E",0,0,"isoWeekday");Pe("d",sn);Pe("e",sn);Pe("E",sn);Pe("dd",function(e,t){return t.weekdaysMinRegex(e)});Pe("ddd",function(e,t){return t.weekdaysShortRegex(e)});Pe("dddd",function(e,t){return t.weekdaysRegex(e)});Bd(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:lt(n).invalidWeekday=e});Bd(["d","e","E"],function(e,t,n,r){t[r]=_t(e)});function xz(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Sz(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function S0(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Lz="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),kk="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bz="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Cz=Fd,kz=Fd,Tz=Fd;function Ez(e,t){var n=Hi(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?S0(n,this._week.dow):e?n[e.day()]:n}function Pz(e){return e===!0?S0(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Nz(e){return e===!0?S0(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Oz(e,t,n){var r,o,s,l=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=ps([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?t==="dddd"?(o=En.call(this._weekdaysParse,l),o!==-1?o:null):t==="ddd"?(o=En.call(this._shortWeekdaysParse,l),o!==-1?o:null):(o=En.call(this._minWeekdaysParse,l),o!==-1?o:null):t==="dddd"?(o=En.call(this._weekdaysParse,l),o!==-1||(o=En.call(this._shortWeekdaysParse,l),o!==-1)?o:(o=En.call(this._minWeekdaysParse,l),o!==-1?o:null)):t==="ddd"?(o=En.call(this._shortWeekdaysParse,l),o!==-1||(o=En.call(this._weekdaysParse,l),o!==-1)?o:(o=En.call(this._minWeekdaysParse,l),o!==-1?o:null)):(o=En.call(this._minWeekdaysParse,l),o!==-1||(o=En.call(this._weekdaysParse,l),o!==-1)?o:(o=En.call(this._shortWeekdaysParse,l),o!==-1?o:null))}function Mz(e,t,n){var r,o,s;if(this._weekdaysParseExact)return Oz.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=ps([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Dz(e){if(!this.isValid())return e!=null?this:NaN;var t=vd(this,"Day");return e!=null?(e=xz(e,this.localeData()),this.add(e-t,"d")):t}function Az(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function jz(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Sz(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Iz(e){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||L0.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Mt(this,"_weekdaysRegex")||(this._weekdaysRegex=Cz),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Rz(e){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||L0.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Mt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=kz),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Fz(e){return this._weekdaysParseExact?(Mt(this,"_weekdaysRegex")||L0.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Mt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Tz),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function L0(){function e(v,y){return y.length-v.length}var t=[],n=[],r=[],o=[],s,l,d,h,g;for(s=0;s<7;s++)l=ps([2e3,1]).day(s),d=Ws(this.weekdaysMin(l,"")),h=Ws(this.weekdaysShort(l,"")),g=Ws(this.weekdays(l,"")),t.push(d),n.push(h),r.push(g),o.push(d),o.push(h),o.push(g);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function b0(){return this.hours()%12||12}function Bz(){return this.hours()||24}Ze("H",["HH",2],0,"hour");Ze("h",["hh",2],0,b0);Ze("k",["kk",2],0,Bz);Ze("hmm",0,0,function(){return""+b0.apply(this)+fs(this.minutes(),2)});Ze("hmmss",0,0,function(){return""+b0.apply(this)+fs(this.minutes(),2)+fs(this.seconds(),2)});Ze("Hmm",0,0,function(){return""+this.hours()+fs(this.minutes(),2)});Ze("Hmmss",0,0,function(){return""+this.hours()+fs(this.minutes(),2)+fs(this.seconds(),2)});function Tk(e,t){Ze(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Tk("a",!0);Tk("A",!1);function Ek(e,t){return t._meridiemParse}Pe("a",Ek);Pe("A",Ek);Pe("H",sn,w0);Pe("h",sn,Du);Pe("k",sn,Du);Pe("HH",sn,ri);Pe("hh",sn,ri);Pe("kk",sn,ri);Pe("hmm",gk);Pe("hmmss",_k);Pe("Hmm",gk);Pe("Hmmss",_k);Zt(["H","HH"],Un);Zt(["k","kk"],function(e,t,n){var r=_t(e);t[Un]=r===24?0:r});Zt(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Zt(["h","hh"],function(e,t,n){t[Un]=_t(e),lt(n).bigHour=!0});Zt("hmm",function(e,t,n){var r=e.length-2;t[Un]=_t(e.substr(0,r)),t[$i]=_t(e.substr(r)),lt(n).bigHour=!0});Zt("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[Un]=_t(e.substr(0,r)),t[$i]=_t(e.substr(r,2)),t[Bs]=_t(e.substr(o)),lt(n).bigHour=!0});Zt("Hmm",function(e,t,n){var r=e.length-2;t[Un]=_t(e.substr(0,r)),t[$i]=_t(e.substr(r))});Zt("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[Un]=_t(e.substr(0,r)),t[$i]=_t(e.substr(r,2)),t[Bs]=_t(e.substr(o))});function zz(e){return(e+"").toLowerCase().charAt(0)==="p"}var $z=/[ap]\.?m?\.?/i,Uz=Au("Hours",!0);function Wz(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var Pk={calendar:OB,longDateFormat:jB,invalidDate:RB,ordinal:BB,dayOfMonthOrdinalParse:zB,relativeTime:UB,months:iz,monthsShort:wk,week:gz,weekdays:Lz,weekdaysMin:bz,weekdaysShort:kk,meridiemParse:$z},cn={},Tc={},xd;function Zz(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fS(e){return e&&e.toLowerCase().replace("_","-")}function Hz(e){for(var t=0,n,r,o,s;t<e.length;){for(s=fS(e[t]).split("-"),n=s.length,r=fS(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=tm(s.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&Zz(s,r)>=n-1)break;n--}t++}return xd}function Yz(e){return!!(e&&e.match("^[^/\\\\]*$"))}function tm(e){var t=null,n;if(cn[e]===void 0&&typeof Of<"u"&&Of&&Of.exports&&Yz(e))try{t=xd._abbr,n=require,n("./locale/"+e),Yo(t)}catch{cn[e]=null}return cn[e]}function Yo(e,t){var n;return e&&(jr(t)?n=eo(e):n=C0(e,t),n?xd=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),xd._abbr}function C0(e,t){if(t!==null){var n,r=Pk;if(t.abbr=e,cn[e]!=null)hk("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=cn[e]._config;else if(t.parentLocale!=null)if(cn[t.parentLocale]!=null)r=cn[t.parentLocale]._config;else if(n=tm(t.parentLocale),n!=null)r=n._config;else return Tc[t.parentLocale]||(Tc[t.parentLocale]=[]),Tc[t.parentLocale].push({name:e,config:t}),null;return cn[e]=new m0(Rv(r,t)),Tc[e]&&Tc[e].forEach(function(o){C0(o.name,o.config)}),Yo(e),cn[e]}else return delete cn[e],null}function Gz(e,t){if(t!=null){var n,r,o=Pk;cn[e]!=null&&cn[e].parentLocale!=null?cn[e].set(Rv(cn[e]._config,t)):(r=tm(e),r!=null&&(o=r._config),t=Rv(o,t),r==null&&(t.abbr=e),n=new m0(t),n.parentLocale=cn[e],cn[e]=n),Yo(e)}else cn[e]!=null&&(cn[e].parentLocale!=null?(cn[e]=cn[e].parentLocale,e===Yo()&&Yo(e)):cn[e]!=null&&delete cn[e]);return cn[e]}function eo(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return xd;if(!Hi(e)){if(t=tm(e),t)return t;e=[e]}return Hz(e)}function Vz(){return Fv(cn)}function k0(e){var t,n=e._a;return n&&lt(e).overflow===-2&&(t=n[Fs]<0||n[Fs]>11?Fs:n[ls]<1||n[ls]>x0(n[dr],n[Fs])?ls:n[Un]<0||n[Un]>24||n[Un]===24&&(n[$i]!==0||n[Bs]!==0||n[$a]!==0)?Un:n[$i]<0||n[$i]>59?$i:n[Bs]<0||n[Bs]>59?Bs:n[$a]<0||n[$a]>999?$a:-1,lt(e)._overflowDayOfYear&&(t<dr||t>ls)&&(t=ls),lt(e)._overflowWeeks&&t===-1&&(t=JB),lt(e)._overflowWeekday&&t===-1&&(t=XB),lt(e).overflow=t),e}var qz=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Kz=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qz=/Z|[+-]\d\d(?::?\d\d)?/,af=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],l_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Jz=/^\/?Date\((-?\d+)/i,Xz=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,e3={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Nk(e){var t,n,r=e._i,o=qz.exec(r)||Kz.exec(r),s,l,d,h,g=af.length,v=l_.length;if(o){for(lt(e).iso=!0,t=0,n=g;t<n;t++)if(af[t][1].exec(o[1])){l=af[t][0],s=af[t][2]!==!1;break}if(l==null){e._isValid=!1;return}if(o[3]){for(t=0,n=v;t<n;t++)if(l_[t][1].exec(o[3])){d=(o[2]||" ")+l_[t][0];break}if(d==null){e._isValid=!1;return}}if(!s&&d!=null){e._isValid=!1;return}if(o[4])if(Qz.exec(o[4]))h="Z";else{e._isValid=!1;return}e._f=l+(d||"")+(h||""),E0(e)}else e._isValid=!1}function t3(e,t,n,r,o,s){var l=[n3(e),wk.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return s&&l.push(parseInt(s,10)),l}function n3(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function r3(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function i3(e,t,n){if(e){var r=kk.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return lt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function s3(e,t,n){if(e)return e3[e];if(t)return 0;var r=parseInt(n,10),o=r%100,s=(r-o)/100;return s*60+o}function Ok(e){var t=Xz.exec(r3(e._i)),n;if(t){if(n=t3(t[4],t[3],t[2],t[5],t[6],t[7]),!i3(t[1],n,e))return;e._a=n,e._tzm=s3(t[8],t[9],t[10]),e._d=yd.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),lt(e).rfc2822=!0}else e._isValid=!1}function o3(e){var t=Jz.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Nk(e),e._isValid===!1)delete e._isValid;else return;if(Ok(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:xe.createFromInputFallback(e)}xe.createFromInputFallback=Li("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function $l(e,t,n){return e??t??n}function a3(e){var t=new Date(xe.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function T0(e){var t,n,r=[],o,s,l;if(!e._d){for(o=a3(e),e._w&&e._a[ls]==null&&e._a[Fs]==null&&l3(e),e._dayOfYear!=null&&(l=$l(e._a[dr],o[dr]),(e._dayOfYear>Kc(l)||e._dayOfYear===0)&&(lt(e)._overflowDayOfYear=!0),n=yd(l,0,e._dayOfYear),e._a[Fs]=n.getUTCMonth(),e._a[ls]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Un]===24&&e._a[$i]===0&&e._a[Bs]===0&&e._a[$a]===0&&(e._nextDay=!0,e._a[Un]=0),e._d=(e._useUTC?yd:pz).apply(null,r),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Un]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(lt(e).weekdayMismatch=!0)}}function l3(e){var t,n,r,o,s,l,d,h,g;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,l=4,n=$l(t.GG,e._a[dr],wd(rn(),1,4).year),r=$l(t.W,1),o=$l(t.E,1),(o<1||o>7)&&(h=!0)):(s=e._locale._week.dow,l=e._locale._week.doy,g=wd(rn(),s,l),n=$l(t.gg,e._a[dr],g.year),r=$l(t.w,g.week),t.d!=null?(o=t.d,(o<0||o>6)&&(h=!0)):t.e!=null?(o=t.e+s,(t.e<0||t.e>6)&&(h=!0)):o=s),r<1||r>Zs(n,s,l)?lt(e)._overflowWeeks=!0:h!=null?lt(e)._overflowWeekday=!0:(d=Ck(n,r,o,s,l),e._a[dr]=d.year,e._dayOfYear=d.dayOfYear)}xe.ISO_8601=function(){};xe.RFC_2822=function(){};function E0(e){if(e._f===xe.ISO_8601){Nk(e);return}if(e._f===xe.RFC_2822){Ok(e);return}e._a=[],lt(e).empty=!0;var t=""+e._i,n,r,o,s,l,d=t.length,h=0,g,v;for(o=fk(e._f,e._locale).match(g0)||[],v=o.length,n=0;n<v;n++)s=o[n],r=(t.match(qB(s,e))||[])[0],r&&(l=t.substr(0,t.indexOf(r)),l.length>0&&lt(e).unusedInput.push(l),t=t.slice(t.indexOf(r)+r.length),h+=r.length),hu[s]?(r?lt(e).empty=!1:lt(e).unusedTokens.push(s),QB(s,r,e)):e._strict&&!r&&lt(e).unusedTokens.push(s);lt(e).charsLeftOver=d-h,t.length>0&&lt(e).unusedInput.push(t),e._a[Un]<=12&&lt(e).bigHour===!0&&e._a[Un]>0&&(lt(e).bigHour=void 0),lt(e).parsedDateParts=e._a.slice(0),lt(e).meridiem=e._meridiem,e._a[Un]=u3(e._locale,e._a[Un],e._meridiem),g=lt(e).era,g!==null&&(e._a[dr]=e._locale.erasConvertYear(g,e._a[dr])),T0(e),k0(e)}function u3(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function c3(e){var t,n,r,o,s,l,d=!1,h=e._f.length;if(h===0){lt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<h;o++)s=0,l=!1,t=p0({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],E0(t),f0(t)&&(l=!0),s+=lt(t).charsLeftOver,s+=lt(t).unusedTokens.length*10,lt(t).score=s,d?s<r&&(r=s,n=t):(r==null||s<r||l)&&(r=s,n=t,l&&(d=!0));jo(e,n||t)}function d3(e){if(!e._d){var t=_0(e._i),n=t.day===void 0?t.date:t.day;e._a=ck([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),T0(e)}}function h3(e){var t=new Rd(k0(Mk(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Mk(e){var t=e._i,n=e._f;return e._locale=e._locale||eo(e._l),t===null||n===void 0&&t===""?Vp({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Yi(t)?new Rd(k0(t)):(Id(t)?e._d=t:Hi(n)?c3(e):n?E0(e):f3(e),f0(e)||(e._d=null),e))}function f3(e){var t=e._i;jr(t)?e._d=new Date(xe.now()):Id(t)?e._d=new Date(t.valueOf()):typeof t=="string"?o3(e):Hi(t)?(e._a=ck(t.slice(0),function(n){return parseInt(n,10)}),T0(e)):Ga(t)?d3(e):Ks(t)?e._d=new Date(t):xe.createFromInputFallback(e)}function Dk(e,t,n,r,o){var s={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ga(e)&&h0(e)||Hi(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=n,s._i=e,s._f=t,s._strict=r,h3(s)}function rn(e,t,n,r){return Dk(e,t,n,r,!1)}var p3=Li("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=rn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Vp()}),m3=Li("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=rn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Vp()});function Ak(e,t){var n,r;if(t.length===1&&Hi(t[0])&&(t=t[0]),!t.length)return rn();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function g3(){var e=[].slice.call(arguments,0);return Ak("isBefore",e)}function _3(){var e=[].slice.call(arguments,0);return Ak("isAfter",e)}var v3=function(){return Date.now?Date.now():+new Date},Ec=["year","quarter","month","week","day","hour","minute","second","millisecond"];function y3(e){var t,n=!1,r,o=Ec.length;for(t in e)if(Mt(e,t)&&!(En.call(Ec,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[Ec[r]]){if(n)return!1;parseFloat(e[Ec[r]])!==_t(e[Ec[r]])&&(n=!0)}return!0}function w3(){return this._isValid}function x3(){return Gi(NaN)}function nm(e){var t=_0(e),n=t.year||0,r=t.quarter||0,o=t.month||0,s=t.week||t.isoWeek||0,l=t.day||0,d=t.hour||0,h=t.minute||0,g=t.second||0,v=t.millisecond||0;this._isValid=y3(t),this._milliseconds=+v+g*1e3+h*6e4+d*1e3*60*60,this._days=+l+s*7,this._months=+o+r*3+n*12,this._data={},this._locale=eo(),this._bubble()}function Ef(e){return e instanceof nm}function zv(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function S3(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0,l;for(l=0;l<r;l++)_t(e[l])!==_t(t[l])&&s++;return s+o}function jk(e,t){Ze(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+fs(~~(n/60),2)+t+fs(~~n%60,2)})}jk("Z",":");jk("ZZ","");Pe("Z",Xp);Pe("ZZ",Xp);Zt(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=P0(Xp,e)});var L3=/([\+\-]|\d\d)/gi;function P0(e,t){var n=(t||"").match(e),r,o,s;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(L3)||["-",0,0],s=+(o[1]*60)+_t(o[2]),s===0?0:o[0]==="+"?s:-s)}function N0(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Yi(e)||Id(e)?e.valueOf():rn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),xe.updateOffset(n,!1),n):rn(e).local()}function $v(e){return-Math.round(e._d.getTimezoneOffset())}xe.updateOffset=function(){};function b3(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=P0(Xp,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=$v(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?Fk(this,Gi(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,xe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:$v(this)}function C3(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function k3(e){return this.utcOffset(0,e)}function T3(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($v(this),"m")),this}function E3(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=P0(GB,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function P3(e){return this.isValid()?(e=e?rn(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function N3(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function O3(){if(!jr(this._isDSTShifted))return this._isDSTShifted;var e={},t;return p0(e,this),e=Mk(e),e._a?(t=e._isUTC?ps(e._a):rn(e._a),this._isDSTShifted=this.isValid()&&S3(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function M3(){return this.isValid()?!this._isUTC:!1}function D3(){return this.isValid()?this._isUTC:!1}function Ik(){return this.isValid()?this._isUTC&&this._offset===0:!1}var A3=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,j3=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Gi(e,t){var n=e,r=null,o,s,l;return Ef(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Ks(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=A3.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:_t(r[ls])*o,h:_t(r[Un])*o,m:_t(r[$i])*o,s:_t(r[Bs])*o,ms:_t(zv(r[$a]*1e3))*o}):(r=j3.exec(e))?(o=r[1]==="-"?-1:1,n={y:Na(r[2],o),M:Na(r[3],o),w:Na(r[4],o),d:Na(r[5],o),h:Na(r[6],o),m:Na(r[7],o),s:Na(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(l=I3(rn(n.from),rn(n.to)),n={},n.ms=l.milliseconds,n.M=l.months),s=new nm(n),Ef(e)&&Mt(e,"_locale")&&(s._locale=e._locale),Ef(e)&&Mt(e,"_isValid")&&(s._isValid=e._isValid),s}Gi.fn=nm.prototype;Gi.invalid=x3;function Na(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function pS(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function I3(e,t){var n;return e.isValid()&&t.isValid()?(t=N0(t,e),e.isBefore(t)?n=pS(e,t):(n=pS(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Rk(e,t){return function(n,r){var o,s;return r!==null&&!isNaN(+r)&&(hk(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),o=Gi(n,r),Fk(this,o,e),this}}function Fk(e,t,n,r){var o=t._milliseconds,s=zv(t._days),l=zv(t._months);e.isValid()&&(r=r??!0,l&&Sk(e,vd(e,"Month")+l*n),s&&yk(e,"Date",vd(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&xe.updateOffset(e,s||l))}var R3=Rk(1,"add"),F3=Rk(-1,"subtract");function Bk(e){return typeof e=="string"||e instanceof String}function B3(e){return Yi(e)||Id(e)||Bk(e)||Ks(e)||$3(e)||z3(e)||e===null||e===void 0}function z3(e){var t=Ga(e)&&!h0(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,s,l=r.length;for(o=0;o<l;o+=1)s=r[o],n=n||Mt(e,s);return t&&n}function $3(e){var t=Hi(e),n=!1;return t&&(n=e.filter(function(r){return!Ks(r)&&Bk(e)}).length===0),t&&n}function U3(e){var t=Ga(e)&&!h0(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,s;for(o=0;o<r.length;o+=1)s=r[o],n=n||Mt(e,s);return t&&n}function W3(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Z3(e,t){arguments.length===1&&(arguments[0]?B3(arguments[0])?(e=arguments[0],t=void 0):U3(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||rn(),r=N0(n,this).startOf("day"),o=xe.calendarFormat(this,r)||"sameElse",s=t&&(ms(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,rn(n)))}function H3(){return new Rd(this)}function Y3(e,t){var n=Yi(e)?e:rn(e);return this.isValid()&&n.isValid()?(t=bi(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function G3(e,t){var n=Yi(e)?e:rn(e);return this.isValid()&&n.isValid()?(t=bi(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function V3(e,t,n,r){var o=Yi(e)?e:rn(e),s=Yi(t)?t:rn(t);return this.isValid()&&o.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function q3(e,t){var n=Yi(e)?e:rn(e),r;return this.isValid()&&n.isValid()?(t=bi(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function K3(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Q3(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function J3(e,t,n){var r,o,s;if(!this.isValid())return NaN;if(r=N0(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=bi(t),t){case"year":s=Pf(this,r)/12;break;case"month":s=Pf(this,r);break;case"quarter":s=Pf(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-o)/864e5;break;case"week":s=(this-r-o)/6048e5;break;default:s=this-r}return n?s:vi(s)}function Pf(e,t){if(e.date()<t.date())return-Pf(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,s;return t-r<0?(o=e.clone().add(n-1,"months"),s=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),s=(t-r)/(o-r)),-(n+s)||0}xe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";xe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function X3(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function e$(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Tf(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ms(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Tf(n,"Z")):Tf(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function t$(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(n+r+o+s)}function n$(e){e||(e=this.isUtc()?xe.defaultFormatUtc:xe.defaultFormat);var t=Tf(this,e);return this.localeData().postformat(t)}function r$(e,t){return this.isValid()&&(Yi(e)&&e.isValid()||rn(e).isValid())?Gi({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function i$(e){return this.from(rn(),e)}function s$(e,t){return this.isValid()&&(Yi(e)&&e.isValid()||rn(e).isValid())?Gi({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function o$(e){return this.to(rn(),e)}function zk(e){var t;return e===void 0?this._locale._abbr:(t=eo(e),t!=null&&(this._locale=t),this)}var $k=Li("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Uk(){return this._locale}var cp=1e3,fu=60*cp,dp=60*fu,Wk=(365*400+97)*24*dp;function pu(e,t){return(e%t+t)%t}function Zk(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Wk:new Date(e,t,n).valueOf()}function Hk(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Wk:Date.UTC(e,t,n)}function a$(e){var t,n;if(e=bi(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Hk:Zk,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pu(t+(this._isUTC?0:this.utcOffset()*fu),dp);break;case"minute":t=this._d.valueOf(),t-=pu(t,fu);break;case"second":t=this._d.valueOf(),t-=pu(t,cp);break}return this._d.setTime(t),xe.updateOffset(this,!0),this}function l$(e){var t,n;if(e=bi(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Hk:Zk,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=dp-pu(t+(this._isUTC?0:this.utcOffset()*fu),dp)-1;break;case"minute":t=this._d.valueOf(),t+=fu-pu(t,fu)-1;break;case"second":t=this._d.valueOf(),t+=cp-pu(t,cp)-1;break}return this._d.setTime(t),xe.updateOffset(this,!0),this}function u$(){return this._d.valueOf()-(this._offset||0)*6e4}function c$(){return Math.floor(this.valueOf()/1e3)}function d$(){return new Date(this.valueOf())}function h$(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function f$(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function p$(){return this.isValid()?this.toISOString():null}function m$(){return f0(this)}function g$(){return jo({},lt(this))}function _$(){return lt(this).overflow}function v$(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ze("N",0,0,"eraAbbr");Ze("NN",0,0,"eraAbbr");Ze("NNN",0,0,"eraAbbr");Ze("NNNN",0,0,"eraName");Ze("NNNNN",0,0,"eraNarrow");Ze("y",["y",1],"yo","eraYear");Ze("y",["yy",2],0,"eraYear");Ze("y",["yyy",3],0,"eraYear");Ze("y",["yyyy",4],0,"eraYear");Pe("N",O0);Pe("NN",O0);Pe("NNN",O0);Pe("NNNN",P$);Pe("NNNNN",N$);Zt(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?lt(n).era=o:lt(n).invalidEra=e});Pe("y",Mu);Pe("yy",Mu);Pe("yyy",Mu);Pe("yyyy",Mu);Pe("yo",O$);Zt(["y","yy","yyy","yyyy"],dr);Zt(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[dr]=n._locale.eraYearOrdinalParse(e,o):t[dr]=parseInt(e,10)});function y$(e,t){var n,r,o,s=this._eras||eo("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":o=xe(s[n].since).startOf("day"),s[n].since=o.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=xe(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf();break}}return s}function w$(e,t,n){var r,o,s=this.eras(),l,d,h;for(e=e.toUpperCase(),r=0,o=s.length;r<o;++r)if(l=s[r].name.toUpperCase(),d=s[r].abbr.toUpperCase(),h=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(d===e)return s[r];break;case"NNNN":if(l===e)return s[r];break;case"NNNNN":if(h===e)return s[r];break}else if([l,d,h].indexOf(e)>=0)return s[r]}function x$(e,t){var n=e.since<=e.until?1:-1;return t===void 0?xe(e.since).year():xe(e.since).year()+(t-e.offset)*n}function S$(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function L$(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function b$(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function C$(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-xe(o[e].since).year())*n+o[e].offset;return this.year()}function k$(e){return Mt(this,"_erasNameRegex")||M0.call(this),e?this._erasNameRegex:this._erasRegex}function T$(e){return Mt(this,"_erasAbbrRegex")||M0.call(this),e?this._erasAbbrRegex:this._erasRegex}function E$(e){return Mt(this,"_erasNarrowRegex")||M0.call(this),e?this._erasNarrowRegex:this._erasRegex}function O0(e,t){return t.erasAbbrRegex(e)}function P$(e,t){return t.erasNameRegex(e)}function N$(e,t){return t.erasNarrowRegex(e)}function O$(e,t){return t._eraYearOrdinalRegex||Mu}function M0(){var e=[],t=[],n=[],r=[],o,s,l,d,h,g=this.eras();for(o=0,s=g.length;o<s;++o)l=Ws(g[o].name),d=Ws(g[o].abbr),h=Ws(g[o].narrow),t.push(l),e.push(d),n.push(h),r.push(l),r.push(d),r.push(h);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Ze(0,["gg",2],0,function(){return this.weekYear()%100});Ze(0,["GG",2],0,function(){return this.isoWeekYear()%100});function rm(e,t){Ze(0,[e,e.length],0,t)}rm("gggg","weekYear");rm("ggggg","weekYear");rm("GGGG","isoWeekYear");rm("GGGGG","isoWeekYear");Pe("G",Jp);Pe("g",Jp);Pe("GG",sn,ri);Pe("gg",sn,ri);Pe("GGGG",y0,v0);Pe("gggg",y0,v0);Pe("GGGGG",Qp,qp);Pe("ggggg",Qp,qp);Bd(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=_t(e)});Bd(["gg","GG"],function(e,t,n,r){t[r]=xe.parseTwoDigitYear(e)});function M$(e){return Yk.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function D$(e){return Yk.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function A$(){return Zs(this.year(),1,4)}function j$(){return Zs(this.isoWeekYear(),1,4)}function I$(){var e=this.localeData()._week;return Zs(this.year(),e.dow,e.doy)}function R$(){var e=this.localeData()._week;return Zs(this.weekYear(),e.dow,e.doy)}function Yk(e,t,n,r,o){var s;return e==null?wd(this,r,o).year:(s=Zs(e,r,o),t>s&&(t=s),F$.call(this,e,t,n,r,o))}function F$(e,t,n,r,o){var s=Ck(e,t,n,r,o),l=yd(s.year,0,s.dayOfYear);return this.year(l.getUTCFullYear()),this.month(l.getUTCMonth()),this.date(l.getUTCDate()),this}Ze("Q",0,"Qo","quarter");Pe("Q",pk);Zt("Q",function(e,t){t[Fs]=(_t(e)-1)*3});function B$(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Ze("D",["DD",2],"Do","date");Pe("D",sn,Du);Pe("DD",sn,ri);Pe("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Zt(["D","DD"],ls);Zt("Do",function(e,t){t[ls]=_t(e.match(sn)[0])});var Gk=Au("Date",!0);Ze("DDD",["DDDD",3],"DDDo","dayOfYear");Pe("DDD",Kp);Pe("DDDD",mk);Zt(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_t(e)});function z$(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Ze("m",["mm",2],0,"minute");Pe("m",sn,w0);Pe("mm",sn,ri);Zt(["m","mm"],$i);var $$=Au("Minutes",!1);Ze("s",["ss",2],0,"second");Pe("s",sn,w0);Pe("ss",sn,ri);Zt(["s","ss"],Bs);var U$=Au("Seconds",!1);Ze("S",0,0,function(){return~~(this.millisecond()/100)});Ze(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ze(0,["SSS",3],0,"millisecond");Ze(0,["SSSS",4],0,function(){return this.millisecond()*10});Ze(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ze(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ze(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ze(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ze(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Pe("S",Kp,pk);Pe("SS",Kp,ri);Pe("SSS",Kp,mk);var Io,Vk;for(Io="SSSS";Io.length<=9;Io+="S")Pe(Io,Mu);function W$(e,t){t[$a]=_t(("0."+e)*1e3)}for(Io="S";Io.length<=9;Io+="S")Zt(Io,W$);Vk=Au("Milliseconds",!1);Ze("z",0,0,"zoneAbbr");Ze("zz",0,0,"zoneName");function Z$(){return this._isUTC?"UTC":""}function H$(){return this._isUTC?"Coordinated Universal Time":""}var fe=Rd.prototype;fe.add=R3;fe.calendar=Z3;fe.clone=H3;fe.diff=J3;fe.endOf=l$;fe.format=n$;fe.from=r$;fe.fromNow=i$;fe.to=s$;fe.toNow=o$;fe.get=tz;fe.invalidAt=_$;fe.isAfter=Y3;fe.isBefore=G3;fe.isBetween=V3;fe.isSame=q3;fe.isSameOrAfter=K3;fe.isSameOrBefore=Q3;fe.isValid=m$;fe.lang=$k;fe.locale=zk;fe.localeData=Uk;fe.max=m3;fe.min=p3;fe.parsingFlags=g$;fe.set=nz;fe.startOf=a$;fe.subtract=F3;fe.toArray=h$;fe.toObject=f$;fe.toDate=d$;fe.toISOString=e$;fe.inspect=t$;typeof Symbol<"u"&&Symbol.for!=null&&(fe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});fe.toJSON=p$;fe.toString=X3;fe.unix=c$;fe.valueOf=u$;fe.creationData=v$;fe.eraName=S$;fe.eraNarrow=L$;fe.eraAbbr=b$;fe.eraYear=C$;fe.year=vk;fe.isLeapYear=ez;fe.weekYear=M$;fe.isoWeekYear=D$;fe.quarter=fe.quarters=B$;fe.month=Lk;fe.daysInMonth=dz;fe.week=fe.weeks=yz;fe.isoWeek=fe.isoWeeks=wz;fe.weeksInYear=I$;fe.weeksInWeekYear=R$;fe.isoWeeksInYear=A$;fe.isoWeeksInISOWeekYear=j$;fe.date=Gk;fe.day=fe.days=Dz;fe.weekday=Az;fe.isoWeekday=jz;fe.dayOfYear=z$;fe.hour=fe.hours=Uz;fe.minute=fe.minutes=$$;fe.second=fe.seconds=U$;fe.millisecond=fe.milliseconds=Vk;fe.utcOffset=b3;fe.utc=k3;fe.local=T3;fe.parseZone=E3;fe.hasAlignedHourOffset=P3;fe.isDST=N3;fe.isLocal=M3;fe.isUtcOffset=D3;fe.isUtc=Ik;fe.isUTC=Ik;fe.zoneAbbr=Z$;fe.zoneName=H$;fe.dates=Li("dates accessor is deprecated. Use date instead.",Gk);fe.months=Li("months accessor is deprecated. Use month instead",Lk);fe.years=Li("years accessor is deprecated. Use year instead",vk);fe.zone=Li("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",C3);fe.isDSTShifted=Li("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",O3);function Y$(e){return rn(e*1e3)}function G$(){return rn.apply(null,arguments).parseZone()}function qk(e){return e}var Dt=m0.prototype;Dt.calendar=MB;Dt.longDateFormat=IB;Dt.invalidDate=FB;Dt.ordinal=$B;Dt.preparse=qk;Dt.postformat=qk;Dt.relativeTime=WB;Dt.pastFuture=ZB;Dt.set=NB;Dt.eras=y$;Dt.erasParse=w$;Dt.erasConvertYear=x$;Dt.erasAbbrRegex=T$;Dt.erasNameRegex=k$;Dt.erasNarrowRegex=E$;Dt.months=az;Dt.monthsShort=lz;Dt.monthsParse=cz;Dt.monthsRegex=fz;Dt.monthsShortRegex=hz;Dt.week=mz;Dt.firstDayOfYear=vz;Dt.firstDayOfWeek=_z;Dt.weekdays=Ez;Dt.weekdaysMin=Nz;Dt.weekdaysShort=Pz;Dt.weekdaysParse=Mz;Dt.weekdaysRegex=Iz;Dt.weekdaysShortRegex=Rz;Dt.weekdaysMinRegex=Fz;Dt.isPM=zz;Dt.meridiem=Wz;function hp(e,t,n,r){var o=eo(),s=ps().set(r,t);return o[n](s,e)}function Kk(e,t,n){if(Ks(e)&&(t=e,e=void 0),e=e||"",t!=null)return hp(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=hp(e,r,n,"month");return o}function D0(e,t,n,r){typeof e=="boolean"?(Ks(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Ks(t)&&(n=t,t=void 0),t=t||"");var o=eo(),s=e?o._week.dow:0,l,d=[];if(n!=null)return hp(t,(n+s)%7,r,"day");for(l=0;l<7;l++)d[l]=hp(t,(l+s)%7,r,"day");return d}function V$(e,t){return Kk(e,t,"months")}function q$(e,t){return Kk(e,t,"monthsShort")}function K$(e,t,n){return D0(e,t,n,"weekdays")}function Q$(e,t,n){return D0(e,t,n,"weekdaysShort")}function J$(e,t,n){return D0(e,t,n,"weekdaysMin")}Yo("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=_t(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});xe.lang=Li("moment.lang is deprecated. Use moment.locale instead.",Yo);xe.langData=Li("moment.langData is deprecated. Use moment.localeData instead.",eo);var Os=Math.abs;function X$(){var e=this._data;return this._milliseconds=Os(this._milliseconds),this._days=Os(this._days),this._months=Os(this._months),e.milliseconds=Os(e.milliseconds),e.seconds=Os(e.seconds),e.minutes=Os(e.minutes),e.hours=Os(e.hours),e.months=Os(e.months),e.years=Os(e.years),this}function Qk(e,t,n,r){var o=Gi(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function e5(e,t){return Qk(this,e,t,1)}function t5(e,t){return Qk(this,e,t,-1)}function mS(e){return e<0?Math.floor(e):Math.ceil(e)}function n5(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,s,l,d,h;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=mS(Uv(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=vi(e/1e3),r.seconds=o%60,s=vi(o/60),r.minutes=s%60,l=vi(s/60),r.hours=l%24,t+=vi(l/24),h=vi(Jk(t)),n+=h,t-=mS(Uv(h)),d=vi(n/12),n%=12,r.days=t,r.months=n,r.years=d,this}function Jk(e){return e*4800/146097}function Uv(e){return e*146097/4800}function r5(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=bi(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+Jk(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Uv(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function to(e){return function(){return this.as(e)}}var Xk=to("ms"),i5=to("s"),s5=to("m"),o5=to("h"),a5=to("d"),l5=to("w"),u5=to("M"),c5=to("Q"),d5=to("y"),h5=Xk;function f5(){return Gi(this)}function p5(e){return e=bi(e),this.isValid()?this[e+"s"]():NaN}function al(e){return function(){return this.isValid()?this._data[e]:NaN}}var m5=al("milliseconds"),g5=al("seconds"),_5=al("minutes"),v5=al("hours"),y5=al("days"),w5=al("months"),x5=al("years");function S5(){return vi(this.days()/7)}var As=Math.round,ru={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function L5(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function b5(e,t,n,r){var o=Gi(e).abs(),s=As(o.as("s")),l=As(o.as("m")),d=As(o.as("h")),h=As(o.as("d")),g=As(o.as("M")),v=As(o.as("w")),y=As(o.as("y")),x=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||l<=1&&["m"]||l<n.m&&["mm",l]||d<=1&&["h"]||d<n.h&&["hh",d]||h<=1&&["d"]||h<n.d&&["dd",h];return n.w!=null&&(x=x||v<=1&&["w"]||v<n.w&&["ww",v]),x=x||g<=1&&["M"]||g<n.M&&["MM",g]||y<=1&&["y"]||["yy",y],x[2]=t,x[3]=+e>0,x[4]=r,L5.apply(null,x)}function C5(e){return e===void 0?As:typeof e=="function"?(As=e,!0):!1}function k5(e,t){return ru[e]===void 0?!1:t===void 0?ru[e]:(ru[e]=t,e==="s"&&(ru.ss=t-1),!0)}function T5(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=ru,o,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},ru,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),s=b5(this,!n,r,o),n&&(s=o.pastFuture(+this,s)),o.postformat(s)}var u_=Math.abs;function Bl(e){return(e>0)-(e<0)||+e}function im(){if(!this.isValid())return this.localeData().invalidDate();var e=u_(this._milliseconds)/1e3,t=u_(this._days),n=u_(this._months),r,o,s,l,d=this.asSeconds(),h,g,v,y;return d?(r=vi(e/60),o=vi(r/60),e%=60,r%=60,s=vi(n/12),n%=12,l=e?e.toFixed(3).replace(/\.?0+$/,""):"",h=d<0?"-":"",g=Bl(this._months)!==Bl(d)?"-":"",v=Bl(this._days)!==Bl(d)?"-":"",y=Bl(this._milliseconds)!==Bl(d)?"-":"",h+"P"+(s?g+s+"Y":"")+(n?g+n+"M":"")+(t?v+t+"D":"")+(o||r||e?"T":"")+(o?y+o+"H":"")+(r?y+r+"M":"")+(e?y+l+"S":"")):"P0D"}var Tt=nm.prototype;Tt.isValid=w3;Tt.abs=X$;Tt.add=e5;Tt.subtract=t5;Tt.as=r5;Tt.asMilliseconds=Xk;Tt.asSeconds=i5;Tt.asMinutes=s5;Tt.asHours=o5;Tt.asDays=a5;Tt.asWeeks=l5;Tt.asMonths=u5;Tt.asQuarters=c5;Tt.asYears=d5;Tt.valueOf=h5;Tt._bubble=n5;Tt.clone=f5;Tt.get=p5;Tt.milliseconds=m5;Tt.seconds=g5;Tt.minutes=_5;Tt.hours=v5;Tt.days=y5;Tt.weeks=S5;Tt.months=w5;Tt.years=x5;Tt.humanize=T5;Tt.toISOString=im;Tt.toString=im;Tt.toJSON=im;Tt.locale=zk;Tt.localeData=Uk;Tt.toIsoString=Li("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",im);Tt.lang=$k;Ze("X",0,0,"unix");Ze("x",0,0,"valueOf");Pe("x",Jp);Pe("X",VB);Zt("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Zt("x",function(e,t,n){n._d=new Date(_t(e))});//! moment.js
xe.version="2.30.1";EB(rn);xe.fn=fe;xe.min=g3;xe.max=_3;xe.now=v3;xe.utc=ps;xe.unix=Y$;xe.months=V$;xe.isDate=Id;xe.locale=Yo;xe.invalid=Vp;xe.duration=Gi;xe.isMoment=Yi;xe.weekdays=K$;xe.parseZone=G$;xe.localeData=eo;xe.isDuration=Ef;xe.monthsShort=q$;xe.weekdaysMin=J$;xe.defineLocale=C0;xe.updateLocale=Gz;xe.locales=Vz;xe.weekdaysShort=Q$;xe.normalizeUnits=bi;xe.relativeTimeRounding=C5;xe.relativeTimeThreshold=k5;xe.calendarFormat=W3;xe.prototype=fe;xe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var fp={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */fp.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",d="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",g=500,v="__lodash_placeholder__",y=1,x=2,b=4,P=1,C=2,A=1,k=2,O=4,M=8,F=16,$=32,Q=64,ie=128,ee=256,Ce=512,ce=30,Re="...",$e=800,le=16,me=1,ze=2,be=3,Ke=1/0,G=9007199254740991,ye=17976931348623157e292,X=NaN,ge=4294967295,De=ge-1,Qe=ge>>>1,Ue=[["ary",ie],["bind",A],["bindKey",k],["curry",M],["curryRight",F],["flip",Ce],["partial",$],["partialRight",Q],["rearg",ee]],He="[object Arguments]",Se="[object Array]",vt="[object AsyncFunction]",St="[object Boolean]",jt="[object Date]",yn="[object DOMException]",ot="[object Error]",Et="[object Function]",mt="[object GeneratorFunction]",Ye="[object Map]",Ln="[object Number]",Me="[object Null]",Pt="[object Object]",zt="[object Promise]",Zr="[object Proxy]",fn="[object RegExp]",on="[object Set]",Wn="[object String]",Zn="[object Symbol]",ii="[object Undefined]",Ht="[object WeakMap]",Pr="[object WeakSet]",te="[object ArrayBuffer]",pe="[object DataView]",je="[object Float32Array]",W="[object Float64Array]",q="[object Int8Array]",J="[object Int16Array]",de="[object Int32Array]",ke="[object Uint8Array]",Ie="[object Uint8ClampedArray]",Lt="[object Uint16Array]",Ne="[object Uint32Array]",Dn=/\b__p \+= '';/g,It=/\b(__p \+=) '' \+/g,Nt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ht=/&(?:amp|lt|gt|quot|#39);/g,pr=/[&<>"']/g,Jt=RegExp(ht.source),Xt=RegExp(pr.source),Ci=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,oe=/<%=([\s\S]+?)%>/g,_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fe=/^\w*$/,Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,$t=RegExp(it.source),bn=/^\s+/,At=/\s/,Te=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ki=/\{\n\/\* \[wrapped with (.+)\] \*/,ll=/,? & /,no=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ta=/[()=,{}\[\]\/\s]/,na=/\\(\\)?/g,ul=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Je=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,an=/^0b[01]+$/i,mr=/^\[object .+?Constructor\]$/,gr=/^0o[0-7]+$/i,ra=/^(?:0|[1-9]\d*)$/,cl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ro=/($^)/,dl=/['\n\r\u2028\u2029\\]/g,hl="\\ud800-\\udfff",sm="\\u0300-\\u036f",om="\\ufe20-\\ufe2f",am="\\u20d0-\\u20ff",zd=sm+om+am,fl="\\u2700-\\u27bf",io="a-z\\xdf-\\xf6\\xf8-\\xff",$d="\\xac\\xb1\\xd7\\xf7",Ud="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ia="\\u2000-\\u206f",bt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vt="A-Z\\xc0-\\xd6\\xd8-\\xde",sa="\\ufe0e\\ufe0f",gs=$d+Ud+ia+bt,Vi="['’]",ju="["+hl+"]",tt="["+gs+"]",qt="["+zd+"]",pl="\\d+",ml="["+fl+"]",_r="["+io+"]",Wd="[^"+hl+gs+pl+fl+io+Vt+"]",so="\\ud83c[\\udffb-\\udfff]",_s="(?:"+qt+"|"+so+")",pn="[^"+hl+"]",Ti="(?:\\ud83c[\\udde6-\\uddff]){2}",vs="[\\ud800-\\udbff][\\udc00-\\udfff]",si="["+Vt+"]",gl="\\u200d",oo="(?:"+_r+"|"+Wd+")",Iu="(?:"+si+"|"+Wd+")",_l="(?:"+Vi+"(?:d|ll|m|re|s|t|ve))?",oa="(?:"+Vi+"(?:D|LL|M|RE|S|T|VE))?",vl=_s+"?",yl="["+sa+"]?",wl="(?:"+gl+"(?:"+[pn,Ti,vs].join("|")+")"+yl+vl+")*",Zd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ru="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hd=yl+vl+wl,et="(?:"+[ml,Ti,vs].join("|")+")"+Hd,oi="(?:"+[pn+qt+"?",qt,Ti,vs,ju].join("|")+")",Ut=RegExp(Vi,"g"),Yd=RegExp(qt,"g"),aa=RegExp(so+"(?="+so+")|"+oi+Hd,"g"),Fu=RegExp([si+"?"+_r+"+"+_l+"(?="+[tt,si,"$"].join("|")+")",Iu+"+"+oa+"(?="+[tt,si+oo,"$"].join("|")+")",si+"?"+oo+"+"+_l,si+"+"+oa,Ru,Zd,pl,et].join("|"),"g"),Bu=RegExp("["+gl+hl+zd+sa+"]"),ys=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],la=-1,nt={};nt[je]=nt[W]=nt[q]=nt[J]=nt[de]=nt[ke]=nt[Ie]=nt[Lt]=nt[Ne]=!0,nt[He]=nt[Se]=nt[te]=nt[St]=nt[pe]=nt[jt]=nt[ot]=nt[Et]=nt[Ye]=nt[Ln]=nt[Pt]=nt[fn]=nt[on]=nt[Wn]=nt[Ht]=!1;var Ct={};Ct[He]=Ct[Se]=Ct[te]=Ct[pe]=Ct[St]=Ct[jt]=Ct[je]=Ct[W]=Ct[q]=Ct[J]=Ct[de]=Ct[Ye]=Ct[Ln]=Ct[Pt]=Ct[fn]=Ct[on]=Ct[Wn]=Ct[Zn]=Ct[ke]=Ct[Ie]=Ct[Lt]=Ct[Ne]=!0,Ct[ot]=Ct[Et]=Ct[Ht]=!1;var Gd={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Vd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},qd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$u=parseFloat,um=parseInt,Uu=typeof Xn=="object"&&Xn&&Xn.Object===Object&&Xn,gt=typeof self=="object"&&self&&self.Object===Object&&self,Rn=Uu||gt||Function("return this")(),vr=t&&!t.nodeType&&t,Hr=vr&&!0&&e&&!e.nodeType&&e,Wu=Hr&&Hr.exports===vr,Zu=Wu&&Uu.process,rr=function(){try{var z=Hr&&Hr.require&&Hr.require("util").types;return z||Zu&&Zu.binding&&Zu.binding("util")}catch{}}(),Kd=rr&&rr.isArrayBuffer,Hu=rr&&rr.isDate,Qd=rr&&rr.isMap,Jd=rr&&rr.isRegExp,xl=rr&&rr.isSet,Xd=rr&&rr.isTypedArray;function ln(z,K,V){switch(V.length){case 0:return z.call(K);case 1:return z.call(K,V[0]);case 2:return z.call(K,V[0],V[1]);case 3:return z.call(K,V[0],V[1],V[2])}return z.apply(K,V)}function cm(z,K,V,Le){for(var Xe=-1,kt=z==null?0:z.length;++Xe<kt;){var Cn=z[Xe];K(Le,Cn,V(Cn),z)}return Le}function yr(z,K){for(var V=-1,Le=z==null?0:z.length;++V<Le&&K(z[V],V,z)!==!1;);return z}function qi(z,K){for(var V=z==null?0:z.length;V--&&K(z[V],V,z)!==!1;);return z}function Yu(z,K){for(var V=-1,Le=z==null?0:z.length;++V<Le;)if(!K(z[V],V,z))return!1;return!0}function Ei(z,K){for(var V=-1,Le=z==null?0:z.length,Xe=0,kt=[];++V<Le;){var Cn=z[V];K(Cn,V,z)&&(kt[Xe++]=Cn)}return kt}function ao(z,K){var V=z==null?0:z.length;return!!V&&lo(z,K,0)>-1}function Gu(z,K,V){for(var Le=-1,Xe=z==null?0:z.length;++Le<Xe;)if(V(K,z[Le]))return!0;return!1}function Gt(z,K){for(var V=-1,Le=z==null?0:z.length,Xe=Array(Le);++V<Le;)Xe[V]=K(z[V],V,z);return Xe}function Pi(z,K){for(var V=-1,Le=K.length,Xe=z.length;++V<Le;)z[Xe+V]=K[V];return z}function Vu(z,K,V,Le){var Xe=-1,kt=z==null?0:z.length;for(Le&&kt&&(V=z[++Xe]);++Xe<kt;)V=K(V,z[Xe],Xe,z);return V}function dm(z,K,V,Le){var Xe=z==null?0:z.length;for(Le&&Xe&&(V=z[--Xe]);Xe--;)V=K(V,z[Xe],Xe,z);return V}function ua(z,K){for(var V=-1,Le=z==null?0:z.length;++V<Le;)if(K(z[V],V,z))return!0;return!1}var hm=Sl("length");function eh(z){return z.split("")}function th(z){return z.match(no)||[]}function ca(z,K,V){var Le;return V(z,function(Xe,kt,Cn){if(K(Xe,kt,Cn))return Le=kt,!1}),Le}function ai(z,K,V,Le){for(var Xe=z.length,kt=V+(Le?1:-1);Le?kt--:++kt<Xe;)if(K(z[kt],kt,z))return kt;return-1}function lo(z,K,V){return K===K?ho(z,K,V):ai(z,wr,V)}function da(z,K,V,Le){for(var Xe=V-1,kt=z.length;++Xe<kt;)if(Le(z[Xe],K))return Xe;return-1}function wr(z){return z!==z}function qu(z,K){var V=z==null?0:z.length;return V?Ju(z,K)/V:X}function Sl(z){return function(K){return K==null?n:K[z]}}function Ku(z){return function(K){return z==null?n:z[K]}}function Ll(z,K,V,Le,Xe){return Xe(z,function(kt,Cn,Rt){V=Le?(Le=!1,kt):K(V,kt,Cn,Rt)}),V}function Qu(z,K){var V=z.length;for(z.sort(K);V--;)z[V]=z[V].value;return z}function Ju(z,K){for(var V,Le=-1,Xe=z.length;++Le<Xe;){var kt=K(z[Le]);kt!==n&&(V=V===n?kt:V+kt)}return V}function Xu(z,K){for(var V=-1,Le=Array(z);++V<z;)Le[V]=K(V);return Le}function nh(z,K){return Gt(K,function(V){return[V,z[V]]})}function rh(z){return z&&z.slice(0,tc(z)+1).replace(bn,"")}function en(z){return function(K){return z(K)}}function Ki(z,K){return Gt(K,function(V){return z[V]})}function ha(z,K){return z.has(K)}function li(z,K){for(var V=-1,Le=z.length;++V<Le&&lo(K,z[V],0)>-1;);return V}function ih(z,K){for(var V=z.length;V--&&lo(K,z[V],0)>-1;);return V}function uo(z,K){for(var V=z.length,Le=0;V--;)z[V]===K&&++Le;return Le}var fm=Ku(Gd),fa=Ku(Vd);function sh(z){return"\\"+qd[z]}function bl(z,K){return z==null?n:z[K]}function co(z){return Bu.test(z)}function Qi(z){return ys.test(z)}function Cl(z){for(var K,V=[];!(K=z.next()).done;)V.push(K.value);return V}function ec(z){var K=-1,V=Array(z.size);return z.forEach(function(Le,Xe){V[++K]=[Xe,Le]}),V}function kl(z,K){return function(V){return z(K(V))}}function Ji(z,K){for(var V=-1,Le=z.length,Xe=0,kt=[];++V<Le;){var Cn=z[V];(Cn===K||Cn===v)&&(z[V]=v,kt[Xe++]=V)}return kt}function Nr(z){var K=-1,V=Array(z.size);return z.forEach(function(Le){V[++K]=Le}),V}function pm(z){var K=-1,V=Array(z.size);return z.forEach(function(Le){V[++K]=[Le,Le]}),V}function ho(z,K,V){for(var Le=V-1,Xe=z.length;++Le<Xe;)if(z[Le]===K)return Le;return-1}function mm(z,K,V){for(var Le=V+1;Le--;)if(z[Le]===K)return Le;return Le}function ir(z){return co(z)?Tl(z):hm(z)}function sr(z){return co(z)?rc(z):eh(z)}function tc(z){for(var K=z.length;K--&&At.test(z.charAt(K)););return K}var nc=Ku(lm);function Tl(z){for(var K=aa.lastIndex=0;aa.test(z);)++K;return K}function rc(z){return z.match(aa)||[]}function El(z){return z.match(Fu)||[]}var fo=function z(K){K=K==null?Rn:Ni.defaults(Rn.Object(),K,Ni.pick(Rn,zu));var V=K.Array,Le=K.Date,Xe=K.Error,kt=K.Function,Cn=K.Math,Rt=K.Object,ic=K.RegExp,ui=K.String,qn=K.TypeError,Pl=V.prototype,Nl=kt.prototype,po=Rt.prototype,pa=K["__core-js_shared__"],Ol=Nl.toString,yt=po.hasOwnProperty,gm=0,ws=function(){var a=/[^.]+$/.exec(pa&&pa.keys&&pa.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),ma=po.toString,oh=Ol.call(Rt),_m=Rn._,Oi=ic("^"+Ol.call(yt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ga=Wu?K.Buffer:n,Mi=K.Symbol,Xi=K.Uint8Array,ah=ga?ga.allocUnsafe:n,xs=kl(Rt.getPrototypeOf,Rt),mo=Rt.create,sc=po.propertyIsEnumerable,_a=Pl.splice,lh=Mi?Mi.isConcatSpreadable:n,go=Mi?Mi.iterator:n,es=Mi?Mi.toStringTag:n,va=function(){try{var a=Ta(Rt,"defineProperty");return a({},"",{}),a}catch{}}(),uh=K.clearTimeout!==Rn.clearTimeout&&K.clearTimeout,ch=Le&&Le.now!==Rn.Date.now&&Le.now,vm=K.setTimeout!==Rn.setTimeout&&K.setTimeout,ya=Cn.ceil,wa=Cn.floor,oc=Rt.getOwnPropertySymbols,i=ga?ga.isBuffer:n,u=K.isFinite,f=Pl.join,_=kl(Rt.keys,Rt),S=Cn.max,N=Cn.min,R=Le.now,Z=K.parseInt,Y=Cn.random,se=Pl.reverse,we=Ta(K,"DataView"),We=Ta(K,"Map"),st=Ta(K,"Promise"),wn=Ta(K,"Set"),un=Ta(K,"WeakMap"),Hn=Ta(Rt,"create"),Fn=un&&new un,Yr={},ym=Ea(we),wm=Ea(We),xm=Ea(st),dh=Ea(wn),Sm=Ea(un),xa=Mi?Mi.prototype:n,Kt=xa?xa.valueOf:n,Sa=xa?xa.toString:n;function D(a){if(xn(a)&&!rt(a)&&!(a instanceof ct)){if(a instanceof or)return a;if(yt.call(a,"__wrapped__"))return Aw(a)}return new or(a)}var _o=function(){function a(){}return function(c){if(!mn(c))return{};if(mo)return mo(c);a.prototype=c;var p=new a;return a.prototype=n,p}}();function Ml(){}function or(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}D.templateSettings={escape:Ci,evaluate:H,interpolate:oe,variable:"",imports:{_:D}},D.prototype=Ml.prototype,D.prototype.constructor=D,or.prototype=_o(Ml.prototype),or.prototype.constructor=or;function ct(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ge,this.__views__=[]}function Lm(){var a=new ct(this.__wrapped__);return a.__actions__=Or(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Or(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Or(this.__views__),a}function tT(){if(this.__filtered__){var a=new ct(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function nT(){var a=this.__wrapped__.value(),c=this.__dir__,p=rt(a),w=c<0,E=p?a.length:0,j=pE(0,E,this.__views__),I=j.start,B=j.end,U=B-I,ne=w?B:I-1,re=this.__iteratees__,ae=re.length,ve=0,Ae=N(U,this.__takeCount__);if(!p||!w&&E==U&&Ae==U)return rw(a,this.__actions__);var Ve=[];e:for(;U--&&ve<Ae;){ne+=c;for(var ut=-1,qe=a[ne];++ut<ae;){var ft=re[ut],wt=ft.iteratee,qr=ft.type,Lr=wt(qe);if(qr==ze)qe=Lr;else if(!Lr){if(qr==me)continue e;break e}}Ve[ve++]=qe}return Ve}ct.prototype=_o(Ml.prototype),ct.prototype.constructor=ct;function La(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var w=a[c];this.set(w[0],w[1])}}function rT(){this.__data__=Hn?Hn(null):{},this.size=0}function iT(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function sT(a){var c=this.__data__;if(Hn){var p=c[a];return p===h?n:p}return yt.call(c,a)?c[a]:n}function oT(a){var c=this.__data__;return Hn?c[a]!==n:yt.call(c,a)}function aT(a,c){var p=this.__data__;return this.size+=this.has(a)?0:1,p[a]=Hn&&c===n?h:c,this}La.prototype.clear=rT,La.prototype.delete=iT,La.prototype.get=sT,La.prototype.has=oT,La.prototype.set=aT;function Ss(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var w=a[c];this.set(w[0],w[1])}}function lT(){this.__data__=[],this.size=0}function uT(a){var c=this.__data__,p=hh(c,a);if(p<0)return!1;var w=c.length-1;return p==w?c.pop():_a.call(c,p,1),--this.size,!0}function cT(a){var c=this.__data__,p=hh(c,a);return p<0?n:c[p][1]}function dT(a){return hh(this.__data__,a)>-1}function hT(a,c){var p=this.__data__,w=hh(p,a);return w<0?(++this.size,p.push([a,c])):p[w][1]=c,this}Ss.prototype.clear=lT,Ss.prototype.delete=uT,Ss.prototype.get=cT,Ss.prototype.has=dT,Ss.prototype.set=hT;function Ls(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var w=a[c];this.set(w[0],w[1])}}function fT(){this.size=0,this.__data__={hash:new La,map:new(We||Ss),string:new La}}function pT(a){var c=bh(this,a).delete(a);return this.size-=c?1:0,c}function mT(a){return bh(this,a).get(a)}function gT(a){return bh(this,a).has(a)}function _T(a,c){var p=bh(this,a),w=p.size;return p.set(a,c),this.size+=p.size==w?0:1,this}Ls.prototype.clear=fT,Ls.prototype.delete=pT,Ls.prototype.get=mT,Ls.prototype.has=gT,Ls.prototype.set=_T;function ba(a){var c=-1,p=a==null?0:a.length;for(this.__data__=new Ls;++c<p;)this.add(a[c])}function vT(a){return this.__data__.set(a,h),this}function yT(a){return this.__data__.has(a)}ba.prototype.add=ba.prototype.push=vT,ba.prototype.has=yT;function Di(a){var c=this.__data__=new Ss(a);this.size=c.size}function wT(){this.__data__=new Ss,this.size=0}function xT(a){var c=this.__data__,p=c.delete(a);return this.size=c.size,p}function ST(a){return this.__data__.get(a)}function LT(a){return this.__data__.has(a)}function bT(a,c){var p=this.__data__;if(p instanceof Ss){var w=p.__data__;if(!We||w.length<o-1)return w.push([a,c]),this.size=++p.size,this;p=this.__data__=new Ls(w)}return p.set(a,c),this.size=p.size,this}Di.prototype.clear=wT,Di.prototype.delete=xT,Di.prototype.get=ST,Di.prototype.has=LT,Di.prototype.set=bT;function A0(a,c){var p=rt(a),w=!p&&Pa(a),E=!p&&!w&&So(a),j=!p&&!w&&!E&&Il(a),I=p||w||E||j,B=I?Xu(a.length,ui):[],U=B.length;for(var ne in a)(c||yt.call(a,ne))&&!(I&&(ne=="length"||E&&(ne=="offset"||ne=="parent")||j&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||Ts(ne,U)))&&B.push(ne);return B}function j0(a){var c=a.length;return c?a[Am(0,c-1)]:n}function CT(a,c){return Ch(Or(a),Ca(c,0,a.length))}function kT(a){return Ch(Or(a))}function bm(a,c,p){(p!==n&&!Ai(a[c],p)||p===n&&!(c in a))&&bs(a,c,p)}function ac(a,c,p){var w=a[c];(!(yt.call(a,c)&&Ai(w,p))||p===n&&!(c in a))&&bs(a,c,p)}function hh(a,c){for(var p=a.length;p--;)if(Ai(a[p][0],c))return p;return-1}function TT(a,c,p,w){return vo(a,function(E,j,I){c(w,E,p(E),I)}),w}function I0(a,c){return a&&ns(c,Yn(c),a)}function ET(a,c){return a&&ns(c,Dr(c),a)}function bs(a,c,p){c=="__proto__"&&va?va(a,c,{configurable:!0,enumerable:!0,value:p,writable:!0}):a[c]=p}function Cm(a,c){for(var p=-1,w=c.length,E=V(w),j=a==null;++p<w;)E[p]=j?n:sg(a,c[p]);return E}function Ca(a,c,p){return a===a&&(p!==n&&(a=a<=p?a:p),c!==n&&(a=a>=c?a:c)),a}function ci(a,c,p,w,E,j){var I,B=c&y,U=c&x,ne=c&b;if(p&&(I=E?p(a,w,E,j):p(a)),I!==n)return I;if(!mn(a))return a;var re=rt(a);if(re){if(I=gE(a),!B)return Or(a,I)}else{var ae=ar(a),ve=ae==Et||ae==mt;if(So(a))return ow(a,B);if(ae==Pt||ae==He||ve&&!E){if(I=U||ve?{}:Cw(a),!B)return U?sE(a,ET(I,a)):iE(a,I0(I,a))}else{if(!Ct[ae])return E?a:{};I=_E(a,ae,B)}}j||(j=new Di);var Ae=j.get(a);if(Ae)return Ae;j.set(a,I),ex(a)?a.forEach(function(qe){I.add(ci(qe,c,p,qe,a,j))}):Jw(a)&&a.forEach(function(qe,ft){I.set(ft,ci(qe,c,p,ft,a,j))});var Ve=ne?U?Hm:Zm:U?Dr:Yn,ut=re?n:Ve(a);return yr(ut||a,function(qe,ft){ut&&(ft=qe,qe=a[ft]),ac(I,ft,ci(qe,c,p,ft,a,j))}),I}function PT(a){var c=Yn(a);return function(p){return R0(p,a,c)}}function R0(a,c,p){var w=p.length;if(a==null)return!w;for(a=Rt(a);w--;){var E=p[w],j=c[E],I=a[E];if(I===n&&!(E in a)||!j(I))return!1}return!0}function F0(a,c,p){if(typeof a!="function")throw new qn(l);return pc(function(){a.apply(n,p)},c)}function lc(a,c,p,w){var E=-1,j=ao,I=!0,B=a.length,U=[],ne=c.length;if(!B)return U;p&&(c=Gt(c,en(p))),w?(j=Gu,I=!1):c.length>=o&&(j=ha,I=!1,c=new ba(c));e:for(;++E<B;){var re=a[E],ae=p==null?re:p(re);if(re=w||re!==0?re:0,I&&ae===ae){for(var ve=ne;ve--;)if(c[ve]===ae)continue e;U.push(re)}else j(c,ae,w)||U.push(re)}return U}var vo=dw(ts),B0=dw(Tm,!0);function NT(a,c){var p=!0;return vo(a,function(w,E,j){return p=!!c(w,E,j),p}),p}function fh(a,c,p){for(var w=-1,E=a.length;++w<E;){var j=a[w],I=c(j);if(I!=null&&(B===n?I===I&&!Vr(I):p(I,B)))var B=I,U=j}return U}function OT(a,c,p,w){var E=a.length;for(p=at(p),p<0&&(p=-p>E?0:E+p),w=w===n||w>E?E:at(w),w<0&&(w+=E),w=p>w?0:nx(w);p<w;)a[p++]=c;return a}function z0(a,c){var p=[];return vo(a,function(w,E,j){c(w,E,j)&&p.push(w)}),p}function Kn(a,c,p,w,E){var j=-1,I=a.length;for(p||(p=yE),E||(E=[]);++j<I;){var B=a[j];c>0&&p(B)?c>1?Kn(B,c-1,p,w,E):Pi(E,B):w||(E[E.length]=B)}return E}var km=hw(),$0=hw(!0);function ts(a,c){return a&&km(a,c,Yn)}function Tm(a,c){return a&&$0(a,c,Yn)}function ph(a,c){return Ei(c,function(p){return Es(a[p])})}function ka(a,c){c=wo(c,a);for(var p=0,w=c.length;a!=null&&p<w;)a=a[rs(c[p++])];return p&&p==w?a:n}function U0(a,c,p){var w=c(a);return rt(a)?w:Pi(w,p(a))}function xr(a){return a==null?a===n?ii:Me:es&&es in Rt(a)?fE(a):kE(a)}function Em(a,c){return a>c}function MT(a,c){return a!=null&&yt.call(a,c)}function DT(a,c){return a!=null&&c in Rt(a)}function AT(a,c,p){return a>=N(c,p)&&a<S(c,p)}function Pm(a,c,p){for(var w=p?Gu:ao,E=a[0].length,j=a.length,I=j,B=V(j),U=1/0,ne=[];I--;){var re=a[I];I&&c&&(re=Gt(re,en(c))),U=N(re.length,U),B[I]=!p&&(c||E>=120&&re.length>=120)?new ba(I&&re):n}re=a[0];var ae=-1,ve=B[0];e:for(;++ae<E&&ne.length<U;){var Ae=re[ae],Ve=c?c(Ae):Ae;if(Ae=p||Ae!==0?Ae:0,!(ve?ha(ve,Ve):w(ne,Ve,p))){for(I=j;--I;){var ut=B[I];if(!(ut?ha(ut,Ve):w(a[I],Ve,p)))continue e}ve&&ve.push(Ve),ne.push(Ae)}}return ne}function jT(a,c,p,w){return ts(a,function(E,j,I){c(w,p(E),j,I)}),w}function uc(a,c,p){c=wo(c,a),a=Pw(a,c);var w=a==null?a:a[rs(hi(c))];return w==null?n:ln(w,a,p)}function W0(a){return xn(a)&&xr(a)==He}function IT(a){return xn(a)&&xr(a)==te}function RT(a){return xn(a)&&xr(a)==jt}function cc(a,c,p,w,E){return a===c?!0:a==null||c==null||!xn(a)&&!xn(c)?a!==a&&c!==c:FT(a,c,p,w,cc,E)}function FT(a,c,p,w,E,j){var I=rt(a),B=rt(c),U=I?Se:ar(a),ne=B?Se:ar(c);U=U==He?Pt:U,ne=ne==He?Pt:ne;var re=U==Pt,ae=ne==Pt,ve=U==ne;if(ve&&So(a)){if(!So(c))return!1;I=!0,re=!1}if(ve&&!re)return j||(j=new Di),I||Il(a)?Sw(a,c,p,w,E,j):dE(a,c,U,p,w,E,j);if(!(p&P)){var Ae=re&&yt.call(a,"__wrapped__"),Ve=ae&&yt.call(c,"__wrapped__");if(Ae||Ve){var ut=Ae?a.value():a,qe=Ve?c.value():c;return j||(j=new Di),E(ut,qe,p,w,j)}}return ve?(j||(j=new Di),hE(a,c,p,w,E,j)):!1}function BT(a){return xn(a)&&ar(a)==Ye}function Nm(a,c,p,w){var E=p.length,j=E,I=!w;if(a==null)return!j;for(a=Rt(a);E--;){var B=p[E];if(I&&B[2]?B[1]!==a[B[0]]:!(B[0]in a))return!1}for(;++E<j;){B=p[E];var U=B[0],ne=a[U],re=B[1];if(I&&B[2]){if(ne===n&&!(U in a))return!1}else{var ae=new Di;if(w)var ve=w(ne,re,U,a,c,ae);if(!(ve===n?cc(re,ne,P|C,w,ae):ve))return!1}}return!0}function Z0(a){if(!mn(a)||xE(a))return!1;var c=Es(a)?Oi:mr;return c.test(Ea(a))}function zT(a){return xn(a)&&xr(a)==fn}function $T(a){return xn(a)&&ar(a)==on}function UT(a){return xn(a)&&Oh(a.length)&&!!nt[xr(a)]}function H0(a){return typeof a=="function"?a:a==null?Ar:typeof a=="object"?rt(a)?V0(a[0],a[1]):G0(a):fx(a)}function Om(a){if(!fc(a))return _(a);var c=[];for(var p in Rt(a))yt.call(a,p)&&p!="constructor"&&c.push(p);return c}function WT(a){if(!mn(a))return CE(a);var c=fc(a),p=[];for(var w in a)w=="constructor"&&(c||!yt.call(a,w))||p.push(w);return p}function Mm(a,c){return a<c}function Y0(a,c){var p=-1,w=Mr(a)?V(a.length):[];return vo(a,function(E,j,I){w[++p]=c(E,j,I)}),w}function G0(a){var c=Gm(a);return c.length==1&&c[0][2]?Tw(c[0][0],c[0][1]):function(p){return p===a||Nm(p,a,c)}}function V0(a,c){return qm(a)&&kw(c)?Tw(rs(a),c):function(p){var w=sg(p,a);return w===n&&w===c?og(p,a):cc(c,w,P|C)}}function mh(a,c,p,w,E){a!==c&&km(c,function(j,I){if(E||(E=new Di),mn(j))ZT(a,c,I,p,mh,w,E);else{var B=w?w(Qm(a,I),j,I+"",a,c,E):n;B===n&&(B=j),bm(a,I,B)}},Dr)}function ZT(a,c,p,w,E,j,I){var B=Qm(a,p),U=Qm(c,p),ne=I.get(U);if(ne){bm(a,p,ne);return}var re=j?j(B,U,p+"",a,c,I):n,ae=re===n;if(ae){var ve=rt(U),Ae=!ve&&So(U),Ve=!ve&&!Ae&&Il(U);re=U,ve||Ae||Ve?rt(B)?re=B:kn(B)?re=Or(B):Ae?(ae=!1,re=ow(U,!0)):Ve?(ae=!1,re=aw(U,!0)):re=[]:mc(U)||Pa(U)?(re=B,Pa(B)?re=rx(B):(!mn(B)||Es(B))&&(re=Cw(U))):ae=!1}ae&&(I.set(U,re),E(re,U,w,j,I),I.delete(U)),bm(a,p,re)}function q0(a,c){var p=a.length;if(p)return c+=c<0?p:0,Ts(c,p)?a[c]:n}function K0(a,c,p){c.length?c=Gt(c,function(j){return rt(j)?function(I){return ka(I,j.length===1?j[0]:j)}:j}):c=[Ar];var w=-1;c=Gt(c,en(Ge()));var E=Y0(a,function(j,I,B){var U=Gt(c,function(ne){return ne(j)});return{criteria:U,index:++w,value:j}});return Qu(E,function(j,I){return rE(j,I,p)})}function HT(a,c){return Q0(a,c,function(p,w){return og(a,w)})}function Q0(a,c,p){for(var w=-1,E=c.length,j={};++w<E;){var I=c[w],B=ka(a,I);p(B,I)&&dc(j,wo(I,a),B)}return j}function YT(a){return function(c){return ka(c,a)}}function Dm(a,c,p,w){var E=w?da:lo,j=-1,I=c.length,B=a;for(a===c&&(c=Or(c)),p&&(B=Gt(a,en(p)));++j<I;)for(var U=0,ne=c[j],re=p?p(ne):ne;(U=E(B,re,U,w))>-1;)B!==a&&_a.call(B,U,1),_a.call(a,U,1);return a}function J0(a,c){for(var p=a?c.length:0,w=p-1;p--;){var E=c[p];if(p==w||E!==j){var j=E;Ts(E)?_a.call(a,E,1):Rm(a,E)}}return a}function Am(a,c){return a+wa(Y()*(c-a+1))}function GT(a,c,p,w){for(var E=-1,j=S(ya((c-a)/(p||1)),0),I=V(j);j--;)I[w?j:++E]=a,a+=p;return I}function jm(a,c){var p="";if(!a||c<1||c>G)return p;do c%2&&(p+=a),c=wa(c/2),c&&(a+=a);while(c);return p}function dt(a,c){return Jm(Ew(a,c,Ar),a+"")}function VT(a){return j0(Rl(a))}function qT(a,c){var p=Rl(a);return Ch(p,Ca(c,0,p.length))}function dc(a,c,p,w){if(!mn(a))return a;c=wo(c,a);for(var E=-1,j=c.length,I=j-1,B=a;B!=null&&++E<j;){var U=rs(c[E]),ne=p;if(U==="__proto__"||U==="constructor"||U==="prototype")return a;if(E!=I){var re=B[U];ne=w?w(re,U,B):n,ne===n&&(ne=mn(re)?re:Ts(c[E+1])?[]:{})}ac(B,U,ne),B=B[U]}return a}var X0=Fn?function(a,c){return Fn.set(a,c),a}:Ar,KT=va?function(a,c){return va(a,"toString",{configurable:!0,enumerable:!1,value:lg(c),writable:!0})}:Ar;function QT(a){return Ch(Rl(a))}function di(a,c,p){var w=-1,E=a.length;c<0&&(c=-c>E?0:E+c),p=p>E?E:p,p<0&&(p+=E),E=c>p?0:p-c>>>0,c>>>=0;for(var j=V(E);++w<E;)j[w]=a[w+c];return j}function JT(a,c){var p;return vo(a,function(w,E,j){return p=c(w,E,j),!p}),!!p}function gh(a,c,p){var w=0,E=a==null?w:a.length;if(typeof c=="number"&&c===c&&E<=Qe){for(;w<E;){var j=w+E>>>1,I=a[j];I!==null&&!Vr(I)&&(p?I<=c:I<c)?w=j+1:E=j}return E}return Im(a,c,Ar,p)}function Im(a,c,p,w){var E=0,j=a==null?0:a.length;if(j===0)return 0;c=p(c);for(var I=c!==c,B=c===null,U=Vr(c),ne=c===n;E<j;){var re=wa((E+j)/2),ae=p(a[re]),ve=ae!==n,Ae=ae===null,Ve=ae===ae,ut=Vr(ae);if(I)var qe=w||Ve;else ne?qe=Ve&&(w||ve):B?qe=Ve&&ve&&(w||!Ae):U?qe=Ve&&ve&&!Ae&&(w||!ut):Ae||ut?qe=!1:qe=w?ae<=c:ae<c;qe?E=re+1:j=re}return N(j,De)}function ew(a,c){for(var p=-1,w=a.length,E=0,j=[];++p<w;){var I=a[p],B=c?c(I):I;if(!p||!Ai(B,U)){var U=B;j[E++]=I===0?0:I}}return j}function tw(a){return typeof a=="number"?a:Vr(a)?X:+a}function Gr(a){if(typeof a=="string")return a;if(rt(a))return Gt(a,Gr)+"";if(Vr(a))return Sa?Sa.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}function yo(a,c,p){var w=-1,E=ao,j=a.length,I=!0,B=[],U=B;if(p)I=!1,E=Gu;else if(j>=o){var ne=c?null:uE(a);if(ne)return Nr(ne);I=!1,E=ha,U=new ba}else U=c?[]:B;e:for(;++w<j;){var re=a[w],ae=c?c(re):re;if(re=p||re!==0?re:0,I&&ae===ae){for(var ve=U.length;ve--;)if(U[ve]===ae)continue e;c&&U.push(ae),B.push(re)}else E(U,ae,p)||(U!==B&&U.push(ae),B.push(re))}return B}function Rm(a,c){return c=wo(c,a),a=Pw(a,c),a==null||delete a[rs(hi(c))]}function nw(a,c,p,w){return dc(a,c,p(ka(a,c)),w)}function _h(a,c,p,w){for(var E=a.length,j=w?E:-1;(w?j--:++j<E)&&c(a[j],j,a););return p?di(a,w?0:j,w?j+1:E):di(a,w?j+1:0,w?E:j)}function rw(a,c){var p=a;return p instanceof ct&&(p=p.value()),Vu(c,function(w,E){return E.func.apply(E.thisArg,Pi([w],E.args))},p)}function Fm(a,c,p){var w=a.length;if(w<2)return w?yo(a[0]):[];for(var E=-1,j=V(w);++E<w;)for(var I=a[E],B=-1;++B<w;)B!=E&&(j[E]=lc(j[E]||I,a[B],c,p));return yo(Kn(j,1),c,p)}function iw(a,c,p){for(var w=-1,E=a.length,j=c.length,I={};++w<E;){var B=w<j?c[w]:n;p(I,a[w],B)}return I}function Bm(a){return kn(a)?a:[]}function zm(a){return typeof a=="function"?a:Ar}function wo(a,c){return rt(a)?a:qm(a,c)?[a]:Dw(Ft(a))}var XT=dt;function xo(a,c,p){var w=a.length;return p=p===n?w:p,!c&&p>=w?a:di(a,c,p)}var sw=uh||function(a){return Rn.clearTimeout(a)};function ow(a,c){if(c)return a.slice();var p=a.length,w=ah?ah(p):new a.constructor(p);return a.copy(w),w}function $m(a){var c=new a.constructor(a.byteLength);return new Xi(c).set(new Xi(a)),c}function eE(a,c){var p=c?$m(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.byteLength)}function tE(a){var c=new a.constructor(a.source,Je.exec(a));return c.lastIndex=a.lastIndex,c}function nE(a){return Kt?Rt(Kt.call(a)):{}}function aw(a,c){var p=c?$m(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.length)}function lw(a,c){if(a!==c){var p=a!==n,w=a===null,E=a===a,j=Vr(a),I=c!==n,B=c===null,U=c===c,ne=Vr(c);if(!B&&!ne&&!j&&a>c||j&&I&&U&&!B&&!ne||w&&I&&U||!p&&U||!E)return 1;if(!w&&!j&&!ne&&a<c||ne&&p&&E&&!w&&!j||B&&p&&E||!I&&E||!U)return-1}return 0}function rE(a,c,p){for(var w=-1,E=a.criteria,j=c.criteria,I=E.length,B=p.length;++w<I;){var U=lw(E[w],j[w]);if(U){if(w>=B)return U;var ne=p[w];return U*(ne=="desc"?-1:1)}}return a.index-c.index}function uw(a,c,p,w){for(var E=-1,j=a.length,I=p.length,B=-1,U=c.length,ne=S(j-I,0),re=V(U+ne),ae=!w;++B<U;)re[B]=c[B];for(;++E<I;)(ae||E<j)&&(re[p[E]]=a[E]);for(;ne--;)re[B++]=a[E++];return re}function cw(a,c,p,w){for(var E=-1,j=a.length,I=-1,B=p.length,U=-1,ne=c.length,re=S(j-B,0),ae=V(re+ne),ve=!w;++E<re;)ae[E]=a[E];for(var Ae=E;++U<ne;)ae[Ae+U]=c[U];for(;++I<B;)(ve||E<j)&&(ae[Ae+p[I]]=a[E++]);return ae}function Or(a,c){var p=-1,w=a.length;for(c||(c=V(w));++p<w;)c[p]=a[p];return c}function ns(a,c,p,w){var E=!p;p||(p={});for(var j=-1,I=c.length;++j<I;){var B=c[j],U=w?w(p[B],a[B],B,p,a):n;U===n&&(U=a[B]),E?bs(p,B,U):ac(p,B,U)}return p}function iE(a,c){return ns(a,Vm(a),c)}function sE(a,c){return ns(a,Lw(a),c)}function vh(a,c){return function(p,w){var E=rt(p)?cm:TT,j=c?c():{};return E(p,a,Ge(w,2),j)}}function Dl(a){return dt(function(c,p){var w=-1,E=p.length,j=E>1?p[E-1]:n,I=E>2?p[2]:n;for(j=a.length>3&&typeof j=="function"?(E--,j):n,I&&Sr(p[0],p[1],I)&&(j=E<3?n:j,E=1),c=Rt(c);++w<E;){var B=p[w];B&&a(c,B,w,j)}return c})}function dw(a,c){return function(p,w){if(p==null)return p;if(!Mr(p))return a(p,w);for(var E=p.length,j=c?E:-1,I=Rt(p);(c?j--:++j<E)&&w(I[j],j,I)!==!1;);return p}}function hw(a){return function(c,p,w){for(var E=-1,j=Rt(c),I=w(c),B=I.length;B--;){var U=I[a?B:++E];if(p(j[U],U,j)===!1)break}return c}}function oE(a,c,p){var w=c&A,E=hc(a);function j(){var I=this&&this!==Rn&&this instanceof j?E:a;return I.apply(w?p:this,arguments)}return j}function fw(a){return function(c){c=Ft(c);var p=co(c)?sr(c):n,w=p?p[0]:c.charAt(0),E=p?xo(p,1).join(""):c.slice(1);return w[a]()+E}}function Al(a){return function(c){return Vu(dx(cx(c).replace(Ut,"")),a,"")}}function hc(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var p=_o(a.prototype),w=a.apply(p,c);return mn(w)?w:p}}function aE(a,c,p){var w=hc(a);function E(){for(var j=arguments.length,I=V(j),B=j,U=jl(E);B--;)I[B]=arguments[B];var ne=j<3&&I[0]!==U&&I[j-1]!==U?[]:Ji(I,U);if(j-=ne.length,j<p)return vw(a,c,yh,E.placeholder,n,I,ne,n,n,p-j);var re=this&&this!==Rn&&this instanceof E?w:a;return ln(re,this,I)}return E}function pw(a){return function(c,p,w){var E=Rt(c);if(!Mr(c)){var j=Ge(p,3);c=Yn(c),p=function(B){return j(E[B],B,E)}}var I=a(c,p,w);return I>-1?E[j?c[I]:I]:n}}function mw(a){return ks(function(c){var p=c.length,w=p,E=or.prototype.thru;for(a&&c.reverse();w--;){var j=c[w];if(typeof j!="function")throw new qn(l);if(E&&!I&&Lh(j)=="wrapper")var I=new or([],!0)}for(w=I?w:p;++w<p;){j=c[w];var B=Lh(j),U=B=="wrapper"?Ym(j):n;U&&Km(U[0])&&U[1]==(ie|M|$|ee)&&!U[4].length&&U[9]==1?I=I[Lh(U[0])].apply(I,U[3]):I=j.length==1&&Km(j)?I[B]():I.thru(j)}return function(){var ne=arguments,re=ne[0];if(I&&ne.length==1&&rt(re))return I.plant(re).value();for(var ae=0,ve=p?c[ae].apply(this,ne):re;++ae<p;)ve=c[ae].call(this,ve);return ve}})}function yh(a,c,p,w,E,j,I,B,U,ne){var re=c&ie,ae=c&A,ve=c&k,Ae=c&(M|F),Ve=c&Ce,ut=ve?n:hc(a);function qe(){for(var ft=arguments.length,wt=V(ft),qr=ft;qr--;)wt[qr]=arguments[qr];if(Ae)var Lr=jl(qe),Kr=uo(wt,Lr);if(w&&(wt=uw(wt,w,E,Ae)),j&&(wt=cw(wt,j,I,Ae)),ft-=Kr,Ae&&ft<ne){var Tn=Ji(wt,Lr);return vw(a,c,yh,qe.placeholder,p,wt,Tn,B,U,ne-ft)}var ji=ae?p:this,Ns=ve?ji[a]:a;return ft=wt.length,B?wt=TE(wt,B):Ve&&ft>1&&wt.reverse(),re&&U<ft&&(wt.length=U),this&&this!==Rn&&this instanceof qe&&(Ns=ut||hc(Ns)),Ns.apply(ji,wt)}return qe}function gw(a,c){return function(p,w){return jT(p,a,c(w),{})}}function wh(a,c){return function(p,w){var E;if(p===n&&w===n)return c;if(p!==n&&(E=p),w!==n){if(E===n)return w;typeof p=="string"||typeof w=="string"?(p=Gr(p),w=Gr(w)):(p=tw(p),w=tw(w)),E=a(p,w)}return E}}function Um(a){return ks(function(c){return c=Gt(c,en(Ge())),dt(function(p){var w=this;return a(c,function(E){return ln(E,w,p)})})})}function xh(a,c){c=c===n?" ":Gr(c);var p=c.length;if(p<2)return p?jm(c,a):c;var w=jm(c,ya(a/ir(c)));return co(c)?xo(sr(w),0,a).join(""):w.slice(0,a)}function lE(a,c,p,w){var E=c&A,j=hc(a);function I(){for(var B=-1,U=arguments.length,ne=-1,re=w.length,ae=V(re+U),ve=this&&this!==Rn&&this instanceof I?j:a;++ne<re;)ae[ne]=w[ne];for(;U--;)ae[ne++]=arguments[++B];return ln(ve,E?p:this,ae)}return I}function _w(a){return function(c,p,w){return w&&typeof w!="number"&&Sr(c,p,w)&&(p=w=n),c=Ps(c),p===n?(p=c,c=0):p=Ps(p),w=w===n?c<p?1:-1:Ps(w),GT(c,p,w,a)}}function Sh(a){return function(c,p){return typeof c=="string"&&typeof p=="string"||(c=fi(c),p=fi(p)),a(c,p)}}function vw(a,c,p,w,E,j,I,B,U,ne){var re=c&M,ae=re?I:n,ve=re?n:I,Ae=re?j:n,Ve=re?n:j;c|=re?$:Q,c&=~(re?Q:$),c&O||(c&=-4);var ut=[a,c,E,Ae,ae,Ve,ve,B,U,ne],qe=p.apply(n,ut);return Km(a)&&Nw(qe,ut),qe.placeholder=w,Ow(qe,a,c)}function Wm(a){var c=Cn[a];return function(p,w){if(p=fi(p),w=w==null?0:N(at(w),292),w&&u(p)){var E=(Ft(p)+"e").split("e"),j=c(E[0]+"e"+(+E[1]+w));return E=(Ft(j)+"e").split("e"),+(E[0]+"e"+(+E[1]-w))}return c(p)}}var uE=wn&&1/Nr(new wn([,-0]))[1]==Ke?function(a){return new wn(a)}:dg;function yw(a){return function(c){var p=ar(c);return p==Ye?ec(c):p==on?pm(c):nh(c,a(c))}}function Cs(a,c,p,w,E,j,I,B){var U=c&k;if(!U&&typeof a!="function")throw new qn(l);var ne=w?w.length:0;if(ne||(c&=-97,w=E=n),I=I===n?I:S(at(I),0),B=B===n?B:at(B),ne-=E?E.length:0,c&Q){var re=w,ae=E;w=E=n}var ve=U?n:Ym(a),Ae=[a,c,p,w,E,re,ae,j,I,B];if(ve&&bE(Ae,ve),a=Ae[0],c=Ae[1],p=Ae[2],w=Ae[3],E=Ae[4],B=Ae[9]=Ae[9]===n?U?0:a.length:S(Ae[9]-ne,0),!B&&c&(M|F)&&(c&=-25),!c||c==A)var Ve=oE(a,c,p);else c==M||c==F?Ve=aE(a,c,B):(c==$||c==(A|$))&&!E.length?Ve=lE(a,c,p,w):Ve=yh.apply(n,Ae);var ut=ve?X0:Nw;return Ow(ut(Ve,Ae),a,c)}function ww(a,c,p,w){return a===n||Ai(a,po[p])&&!yt.call(w,p)?c:a}function xw(a,c,p,w,E,j){return mn(a)&&mn(c)&&(j.set(c,a),mh(a,c,n,xw,j),j.delete(c)),a}function cE(a){return mc(a)?n:a}function Sw(a,c,p,w,E,j){var I=p&P,B=a.length,U=c.length;if(B!=U&&!(I&&U>B))return!1;var ne=j.get(a),re=j.get(c);if(ne&&re)return ne==c&&re==a;var ae=-1,ve=!0,Ae=p&C?new ba:n;for(j.set(a,c),j.set(c,a);++ae<B;){var Ve=a[ae],ut=c[ae];if(w)var qe=I?w(ut,Ve,ae,c,a,j):w(Ve,ut,ae,a,c,j);if(qe!==n){if(qe)continue;ve=!1;break}if(Ae){if(!ua(c,function(ft,wt){if(!ha(Ae,wt)&&(Ve===ft||E(Ve,ft,p,w,j)))return Ae.push(wt)})){ve=!1;break}}else if(!(Ve===ut||E(Ve,ut,p,w,j))){ve=!1;break}}return j.delete(a),j.delete(c),ve}function dE(a,c,p,w,E,j,I){switch(p){case pe:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case te:return!(a.byteLength!=c.byteLength||!j(new Xi(a),new Xi(c)));case St:case jt:case Ln:return Ai(+a,+c);case ot:return a.name==c.name&&a.message==c.message;case fn:case Wn:return a==c+"";case Ye:var B=ec;case on:var U=w&P;if(B||(B=Nr),a.size!=c.size&&!U)return!1;var ne=I.get(a);if(ne)return ne==c;w|=C,I.set(a,c);var re=Sw(B(a),B(c),w,E,j,I);return I.delete(a),re;case Zn:if(Kt)return Kt.call(a)==Kt.call(c)}return!1}function hE(a,c,p,w,E,j){var I=p&P,B=Zm(a),U=B.length,ne=Zm(c),re=ne.length;if(U!=re&&!I)return!1;for(var ae=U;ae--;){var ve=B[ae];if(!(I?ve in c:yt.call(c,ve)))return!1}var Ae=j.get(a),Ve=j.get(c);if(Ae&&Ve)return Ae==c&&Ve==a;var ut=!0;j.set(a,c),j.set(c,a);for(var qe=I;++ae<U;){ve=B[ae];var ft=a[ve],wt=c[ve];if(w)var qr=I?w(wt,ft,ve,c,a,j):w(ft,wt,ve,a,c,j);if(!(qr===n?ft===wt||E(ft,wt,p,w,j):qr)){ut=!1;break}qe||(qe=ve=="constructor")}if(ut&&!qe){var Lr=a.constructor,Kr=c.constructor;Lr!=Kr&&"constructor"in a&&"constructor"in c&&!(typeof Lr=="function"&&Lr instanceof Lr&&typeof Kr=="function"&&Kr instanceof Kr)&&(ut=!1)}return j.delete(a),j.delete(c),ut}function ks(a){return Jm(Ew(a,n,Rw),a+"")}function Zm(a){return U0(a,Yn,Vm)}function Hm(a){return U0(a,Dr,Lw)}var Ym=Fn?function(a){return Fn.get(a)}:dg;function Lh(a){for(var c=a.name+"",p=Yr[c],w=yt.call(Yr,c)?p.length:0;w--;){var E=p[w],j=E.func;if(j==null||j==a)return E.name}return c}function jl(a){var c=yt.call(D,"placeholder")?D:a;return c.placeholder}function Ge(){var a=D.iteratee||ug;return a=a===ug?H0:a,arguments.length?a(arguments[0],arguments[1]):a}function bh(a,c){var p=a.__data__;return wE(c)?p[typeof c=="string"?"string":"hash"]:p.map}function Gm(a){for(var c=Yn(a),p=c.length;p--;){var w=c[p],E=a[w];c[p]=[w,E,kw(E)]}return c}function Ta(a,c){var p=bl(a,c);return Z0(p)?p:n}function fE(a){var c=yt.call(a,es),p=a[es];try{a[es]=n;var w=!0}catch{}var E=ma.call(a);return w&&(c?a[es]=p:delete a[es]),E}var Vm=oc?function(a){return a==null?[]:(a=Rt(a),Ei(oc(a),function(c){return sc.call(a,c)}))}:hg,Lw=oc?function(a){for(var c=[];a;)Pi(c,Vm(a)),a=xs(a);return c}:hg,ar=xr;(we&&ar(new we(new ArrayBuffer(1)))!=pe||We&&ar(new We)!=Ye||st&&ar(st.resolve())!=zt||wn&&ar(new wn)!=on||un&&ar(new un)!=Ht)&&(ar=function(a){var c=xr(a),p=c==Pt?a.constructor:n,w=p?Ea(p):"";if(w)switch(w){case ym:return pe;case wm:return Ye;case xm:return zt;case dh:return on;case Sm:return Ht}return c});function pE(a,c,p){for(var w=-1,E=p.length;++w<E;){var j=p[w],I=j.size;switch(j.type){case"drop":a+=I;break;case"dropRight":c-=I;break;case"take":c=N(c,a+I);break;case"takeRight":a=S(a,c-I);break}}return{start:a,end:c}}function mE(a){var c=a.match(ki);return c?c[1].split(ll):[]}function bw(a,c,p){c=wo(c,a);for(var w=-1,E=c.length,j=!1;++w<E;){var I=rs(c[w]);if(!(j=a!=null&&p(a,I)))break;a=a[I]}return j||++w!=E?j:(E=a==null?0:a.length,!!E&&Oh(E)&&Ts(I,E)&&(rt(a)||Pa(a)))}function gE(a){var c=a.length,p=new a.constructor(c);return c&&typeof a[0]=="string"&&yt.call(a,"index")&&(p.index=a.index,p.input=a.input),p}function Cw(a){return typeof a.constructor=="function"&&!fc(a)?_o(xs(a)):{}}function _E(a,c,p){var w=a.constructor;switch(c){case te:return $m(a);case St:case jt:return new w(+a);case pe:return eE(a,p);case je:case W:case q:case J:case de:case ke:case Ie:case Lt:case Ne:return aw(a,p);case Ye:return new w;case Ln:case Wn:return new w(a);case fn:return tE(a);case on:return new w;case Zn:return nE(a)}}function vE(a,c){var p=c.length;if(!p)return a;var w=p-1;return c[w]=(p>1?"& ":"")+c[w],c=c.join(p>2?", ":" "),a.replace(Te,`{
/* [wrapped with `+c+`] */
`)}function yE(a){return rt(a)||Pa(a)||!!(lh&&a&&a[lh])}function Ts(a,c){var p=typeof a;return c=c??G,!!c&&(p=="number"||p!="symbol"&&ra.test(a))&&a>-1&&a%1==0&&a<c}function Sr(a,c,p){if(!mn(p))return!1;var w=typeof c;return(w=="number"?Mr(p)&&Ts(c,p.length):w=="string"&&c in p)?Ai(p[c],a):!1}function qm(a,c){if(rt(a))return!1;var p=typeof a;return p=="number"||p=="symbol"||p=="boolean"||a==null||Vr(a)?!0:Fe.test(a)||!_e.test(a)||c!=null&&a in Rt(c)}function wE(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function Km(a){var c=Lh(a),p=D[c];if(typeof p!="function"||!(c in ct.prototype))return!1;if(a===p)return!0;var w=Ym(p);return!!w&&a===w[0]}function xE(a){return!!ws&&ws in a}var SE=pa?Es:fg;function fc(a){var c=a&&a.constructor,p=typeof c=="function"&&c.prototype||po;return a===p}function kw(a){return a===a&&!mn(a)}function Tw(a,c){return function(p){return p==null?!1:p[a]===c&&(c!==n||a in Rt(p))}}function LE(a){var c=Ph(a,function(w){return p.size===g&&p.clear(),w}),p=c.cache;return c}function bE(a,c){var p=a[1],w=c[1],E=p|w,j=E<(A|k|ie),I=w==ie&&p==M||w==ie&&p==ee&&a[7].length<=c[8]||w==(ie|ee)&&c[7].length<=c[8]&&p==M;if(!(j||I))return a;w&A&&(a[2]=c[2],E|=p&A?0:O);var B=c[3];if(B){var U=a[3];a[3]=U?uw(U,B,c[4]):B,a[4]=U?Ji(a[3],v):c[4]}return B=c[5],B&&(U=a[5],a[5]=U?cw(U,B,c[6]):B,a[6]=U?Ji(a[5],v):c[6]),B=c[7],B&&(a[7]=B),w&ie&&(a[8]=a[8]==null?c[8]:N(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=E,a}function CE(a){var c=[];if(a!=null)for(var p in Rt(a))c.push(p);return c}function kE(a){return ma.call(a)}function Ew(a,c,p){return c=S(c===n?a.length-1:c,0),function(){for(var w=arguments,E=-1,j=S(w.length-c,0),I=V(j);++E<j;)I[E]=w[c+E];E=-1;for(var B=V(c+1);++E<c;)B[E]=w[E];return B[c]=p(I),ln(a,this,B)}}function Pw(a,c){return c.length<2?a:ka(a,di(c,0,-1))}function TE(a,c){for(var p=a.length,w=N(c.length,p),E=Or(a);w--;){var j=c[w];a[w]=Ts(j,p)?E[j]:n}return a}function Qm(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var Nw=Mw(X0),pc=vm||function(a,c){return Rn.setTimeout(a,c)},Jm=Mw(KT);function Ow(a,c,p){var w=c+"";return Jm(a,vE(w,EE(mE(w),p)))}function Mw(a){var c=0,p=0;return function(){var w=R(),E=le-(w-p);if(p=w,E>0){if(++c>=$e)return arguments[0]}else c=0;return a.apply(n,arguments)}}function Ch(a,c){var p=-1,w=a.length,E=w-1;for(c=c===n?w:c;++p<c;){var j=Am(p,E),I=a[j];a[j]=a[p],a[p]=I}return a.length=c,a}var Dw=LE(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(Be,function(p,w,E,j){c.push(E?j.replace(na,"$1"):w||p)}),c});function rs(a){if(typeof a=="string"||Vr(a))return a;var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}function Ea(a){if(a!=null){try{return Ol.call(a)}catch{}try{return a+""}catch{}}return""}function EE(a,c){return yr(Ue,function(p){var w="_."+p[0];c&p[1]&&!ao(a,w)&&a.push(w)}),a.sort()}function Aw(a){if(a instanceof ct)return a.clone();var c=new or(a.__wrapped__,a.__chain__);return c.__actions__=Or(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function PE(a,c,p){(p?Sr(a,c,p):c===n)?c=1:c=S(at(c),0);var w=a==null?0:a.length;if(!w||c<1)return[];for(var E=0,j=0,I=V(ya(w/c));E<w;)I[j++]=di(a,E,E+=c);return I}function NE(a){for(var c=-1,p=a==null?0:a.length,w=0,E=[];++c<p;){var j=a[c];j&&(E[w++]=j)}return E}function OE(){var a=arguments.length;if(!a)return[];for(var c=V(a-1),p=arguments[0],w=a;w--;)c[w-1]=arguments[w];return Pi(rt(p)?Or(p):[p],Kn(c,1))}var ME=dt(function(a,c){return kn(a)?lc(a,Kn(c,1,kn,!0)):[]}),DE=dt(function(a,c){var p=hi(c);return kn(p)&&(p=n),kn(a)?lc(a,Kn(c,1,kn,!0),Ge(p,2)):[]}),AE=dt(function(a,c){var p=hi(c);return kn(p)&&(p=n),kn(a)?lc(a,Kn(c,1,kn,!0),n,p):[]});function jE(a,c,p){var w=a==null?0:a.length;return w?(c=p||c===n?1:at(c),di(a,c<0?0:c,w)):[]}function IE(a,c,p){var w=a==null?0:a.length;return w?(c=p||c===n?1:at(c),c=w-c,di(a,0,c<0?0:c)):[]}function RE(a,c){return a&&a.length?_h(a,Ge(c,3),!0,!0):[]}function FE(a,c){return a&&a.length?_h(a,Ge(c,3),!0):[]}function BE(a,c,p,w){var E=a==null?0:a.length;return E?(p&&typeof p!="number"&&Sr(a,c,p)&&(p=0,w=E),OT(a,c,p,w)):[]}function jw(a,c,p){var w=a==null?0:a.length;if(!w)return-1;var E=p==null?0:at(p);return E<0&&(E=S(w+E,0)),ai(a,Ge(c,3),E)}function Iw(a,c,p){var w=a==null?0:a.length;if(!w)return-1;var E=w-1;return p!==n&&(E=at(p),E=p<0?S(w+E,0):N(E,w-1)),ai(a,Ge(c,3),E,!0)}function Rw(a){var c=a==null?0:a.length;return c?Kn(a,1):[]}function zE(a){var c=a==null?0:a.length;return c?Kn(a,Ke):[]}function $E(a,c){var p=a==null?0:a.length;return p?(c=c===n?1:at(c),Kn(a,c)):[]}function UE(a){for(var c=-1,p=a==null?0:a.length,w={};++c<p;){var E=a[c];w[E[0]]=E[1]}return w}function Fw(a){return a&&a.length?a[0]:n}function WE(a,c,p){var w=a==null?0:a.length;if(!w)return-1;var E=p==null?0:at(p);return E<0&&(E=S(w+E,0)),lo(a,c,E)}function ZE(a){var c=a==null?0:a.length;return c?di(a,0,-1):[]}var HE=dt(function(a){var c=Gt(a,Bm);return c.length&&c[0]===a[0]?Pm(c):[]}),YE=dt(function(a){var c=hi(a),p=Gt(a,Bm);return c===hi(p)?c=n:p.pop(),p.length&&p[0]===a[0]?Pm(p,Ge(c,2)):[]}),GE=dt(function(a){var c=hi(a),p=Gt(a,Bm);return c=typeof c=="function"?c:n,c&&p.pop(),p.length&&p[0]===a[0]?Pm(p,n,c):[]});function VE(a,c){return a==null?"":f.call(a,c)}function hi(a){var c=a==null?0:a.length;return c?a[c-1]:n}function qE(a,c,p){var w=a==null?0:a.length;if(!w)return-1;var E=w;return p!==n&&(E=at(p),E=E<0?S(w+E,0):N(E,w-1)),c===c?mm(a,c,E):ai(a,wr,E,!0)}function KE(a,c){return a&&a.length?q0(a,at(c)):n}var QE=dt(Bw);function Bw(a,c){return a&&a.length&&c&&c.length?Dm(a,c):a}function JE(a,c,p){return a&&a.length&&c&&c.length?Dm(a,c,Ge(p,2)):a}function XE(a,c,p){return a&&a.length&&c&&c.length?Dm(a,c,n,p):a}var eP=ks(function(a,c){var p=a==null?0:a.length,w=Cm(a,c);return J0(a,Gt(c,function(E){return Ts(E,p)?+E:E}).sort(lw)),w});function tP(a,c){var p=[];if(!(a&&a.length))return p;var w=-1,E=[],j=a.length;for(c=Ge(c,3);++w<j;){var I=a[w];c(I,w,a)&&(p.push(I),E.push(w))}return J0(a,E),p}function Xm(a){return a==null?a:se.call(a)}function nP(a,c,p){var w=a==null?0:a.length;return w?(p&&typeof p!="number"&&Sr(a,c,p)?(c=0,p=w):(c=c==null?0:at(c),p=p===n?w:at(p)),di(a,c,p)):[]}function rP(a,c){return gh(a,c)}function iP(a,c,p){return Im(a,c,Ge(p,2))}function sP(a,c){var p=a==null?0:a.length;if(p){var w=gh(a,c);if(w<p&&Ai(a[w],c))return w}return-1}function oP(a,c){return gh(a,c,!0)}function aP(a,c,p){return Im(a,c,Ge(p,2),!0)}function lP(a,c){var p=a==null?0:a.length;if(p){var w=gh(a,c,!0)-1;if(Ai(a[w],c))return w}return-1}function uP(a){return a&&a.length?ew(a):[]}function cP(a,c){return a&&a.length?ew(a,Ge(c,2)):[]}function dP(a){var c=a==null?0:a.length;return c?di(a,1,c):[]}function hP(a,c,p){return a&&a.length?(c=p||c===n?1:at(c),di(a,0,c<0?0:c)):[]}function fP(a,c,p){var w=a==null?0:a.length;return w?(c=p||c===n?1:at(c),c=w-c,di(a,c<0?0:c,w)):[]}function pP(a,c){return a&&a.length?_h(a,Ge(c,3),!1,!0):[]}function mP(a,c){return a&&a.length?_h(a,Ge(c,3)):[]}var gP=dt(function(a){return yo(Kn(a,1,kn,!0))}),_P=dt(function(a){var c=hi(a);return kn(c)&&(c=n),yo(Kn(a,1,kn,!0),Ge(c,2))}),vP=dt(function(a){var c=hi(a);return c=typeof c=="function"?c:n,yo(Kn(a,1,kn,!0),n,c)});function yP(a){return a&&a.length?yo(a):[]}function wP(a,c){return a&&a.length?yo(a,Ge(c,2)):[]}function xP(a,c){return c=typeof c=="function"?c:n,a&&a.length?yo(a,n,c):[]}function eg(a){if(!(a&&a.length))return[];var c=0;return a=Ei(a,function(p){if(kn(p))return c=S(p.length,c),!0}),Xu(c,function(p){return Gt(a,Sl(p))})}function zw(a,c){if(!(a&&a.length))return[];var p=eg(a);return c==null?p:Gt(p,function(w){return ln(c,n,w)})}var SP=dt(function(a,c){return kn(a)?lc(a,c):[]}),LP=dt(function(a){return Fm(Ei(a,kn))}),bP=dt(function(a){var c=hi(a);return kn(c)&&(c=n),Fm(Ei(a,kn),Ge(c,2))}),CP=dt(function(a){var c=hi(a);return c=typeof c=="function"?c:n,Fm(Ei(a,kn),n,c)}),kP=dt(eg);function TP(a,c){return iw(a||[],c||[],ac)}function EP(a,c){return iw(a||[],c||[],dc)}var PP=dt(function(a){var c=a.length,p=c>1?a[c-1]:n;return p=typeof p=="function"?(a.pop(),p):n,zw(a,p)});function $w(a){var c=D(a);return c.__chain__=!0,c}function NP(a,c){return c(a),a}function kh(a,c){return c(a)}var OP=ks(function(a){var c=a.length,p=c?a[0]:0,w=this.__wrapped__,E=function(j){return Cm(j,a)};return c>1||this.__actions__.length||!(w instanceof ct)||!Ts(p)?this.thru(E):(w=w.slice(p,+p+(c?1:0)),w.__actions__.push({func:kh,args:[E],thisArg:n}),new or(w,this.__chain__).thru(function(j){return c&&!j.length&&j.push(n),j}))});function MP(){return $w(this)}function DP(){return new or(this.value(),this.__chain__)}function AP(){this.__values__===n&&(this.__values__=tx(this.value()));var a=this.__index__>=this.__values__.length,c=a?n:this.__values__[this.__index__++];return{done:a,value:c}}function jP(){return this}function IP(a){for(var c,p=this;p instanceof Ml;){var w=Aw(p);w.__index__=0,w.__values__=n,c?E.__wrapped__=w:c=w;var E=w;p=p.__wrapped__}return E.__wrapped__=a,c}function RP(){var a=this.__wrapped__;if(a instanceof ct){var c=a;return this.__actions__.length&&(c=new ct(this)),c=c.reverse(),c.__actions__.push({func:kh,args:[Xm],thisArg:n}),new or(c,this.__chain__)}return this.thru(Xm)}function FP(){return rw(this.__wrapped__,this.__actions__)}var BP=vh(function(a,c,p){yt.call(a,p)?++a[p]:bs(a,p,1)});function zP(a,c,p){var w=rt(a)?Yu:NT;return p&&Sr(a,c,p)&&(c=n),w(a,Ge(c,3))}function $P(a,c){var p=rt(a)?Ei:z0;return p(a,Ge(c,3))}var UP=pw(jw),WP=pw(Iw);function ZP(a,c){return Kn(Th(a,c),1)}function HP(a,c){return Kn(Th(a,c),Ke)}function YP(a,c,p){return p=p===n?1:at(p),Kn(Th(a,c),p)}function Uw(a,c){var p=rt(a)?yr:vo;return p(a,Ge(c,3))}function Ww(a,c){var p=rt(a)?qi:B0;return p(a,Ge(c,3))}var GP=vh(function(a,c,p){yt.call(a,p)?a[p].push(c):bs(a,p,[c])});function VP(a,c,p,w){a=Mr(a)?a:Rl(a),p=p&&!w?at(p):0;var E=a.length;return p<0&&(p=S(E+p,0)),Mh(a)?p<=E&&a.indexOf(c,p)>-1:!!E&&lo(a,c,p)>-1}var qP=dt(function(a,c,p){var w=-1,E=typeof c=="function",j=Mr(a)?V(a.length):[];return vo(a,function(I){j[++w]=E?ln(c,I,p):uc(I,c,p)}),j}),KP=vh(function(a,c,p){bs(a,p,c)});function Th(a,c){var p=rt(a)?Gt:Y0;return p(a,Ge(c,3))}function QP(a,c,p,w){return a==null?[]:(rt(c)||(c=c==null?[]:[c]),p=w?n:p,rt(p)||(p=p==null?[]:[p]),K0(a,c,p))}var JP=vh(function(a,c,p){a[p?0:1].push(c)},function(){return[[],[]]});function XP(a,c,p){var w=rt(a)?Vu:Ll,E=arguments.length<3;return w(a,Ge(c,4),p,E,vo)}function eN(a,c,p){var w=rt(a)?dm:Ll,E=arguments.length<3;return w(a,Ge(c,4),p,E,B0)}function tN(a,c){var p=rt(a)?Ei:z0;return p(a,Nh(Ge(c,3)))}function nN(a){var c=rt(a)?j0:VT;return c(a)}function rN(a,c,p){(p?Sr(a,c,p):c===n)?c=1:c=at(c);var w=rt(a)?CT:qT;return w(a,c)}function iN(a){var c=rt(a)?kT:QT;return c(a)}function sN(a){if(a==null)return 0;if(Mr(a))return Mh(a)?ir(a):a.length;var c=ar(a);return c==Ye||c==on?a.size:Om(a).length}function oN(a,c,p){var w=rt(a)?ua:JT;return p&&Sr(a,c,p)&&(c=n),w(a,Ge(c,3))}var aN=dt(function(a,c){if(a==null)return[];var p=c.length;return p>1&&Sr(a,c[0],c[1])?c=[]:p>2&&Sr(c[0],c[1],c[2])&&(c=[c[0]]),K0(a,Kn(c,1),[])}),Eh=ch||function(){return Rn.Date.now()};function lN(a,c){if(typeof c!="function")throw new qn(l);return a=at(a),function(){if(--a<1)return c.apply(this,arguments)}}function Zw(a,c,p){return c=p?n:c,c=a&&c==null?a.length:c,Cs(a,ie,n,n,n,n,c)}function Hw(a,c){var p;if(typeof c!="function")throw new qn(l);return a=at(a),function(){return--a>0&&(p=c.apply(this,arguments)),a<=1&&(c=n),p}}var tg=dt(function(a,c,p){var w=A;if(p.length){var E=Ji(p,jl(tg));w|=$}return Cs(a,w,c,p,E)}),Yw=dt(function(a,c,p){var w=A|k;if(p.length){var E=Ji(p,jl(Yw));w|=$}return Cs(c,w,a,p,E)});function Gw(a,c,p){c=p?n:c;var w=Cs(a,M,n,n,n,n,n,c);return w.placeholder=Gw.placeholder,w}function Vw(a,c,p){c=p?n:c;var w=Cs(a,F,n,n,n,n,n,c);return w.placeholder=Vw.placeholder,w}function qw(a,c,p){var w,E,j,I,B,U,ne=0,re=!1,ae=!1,ve=!0;if(typeof a!="function")throw new qn(l);c=fi(c)||0,mn(p)&&(re=!!p.leading,ae="maxWait"in p,j=ae?S(fi(p.maxWait)||0,c):j,ve="trailing"in p?!!p.trailing:ve);function Ae(Tn){var ji=w,Ns=E;return w=E=n,ne=Tn,I=a.apply(Ns,ji),I}function Ve(Tn){return ne=Tn,B=pc(ft,c),re?Ae(Tn):I}function ut(Tn){var ji=Tn-U,Ns=Tn-ne,px=c-ji;return ae?N(px,j-Ns):px}function qe(Tn){var ji=Tn-U,Ns=Tn-ne;return U===n||ji>=c||ji<0||ae&&Ns>=j}function ft(){var Tn=Eh();if(qe(Tn))return wt(Tn);B=pc(ft,ut(Tn))}function wt(Tn){return B=n,ve&&w?Ae(Tn):(w=E=n,I)}function qr(){B!==n&&sw(B),ne=0,w=U=E=B=n}function Lr(){return B===n?I:wt(Eh())}function Kr(){var Tn=Eh(),ji=qe(Tn);if(w=arguments,E=this,U=Tn,ji){if(B===n)return Ve(U);if(ae)return sw(B),B=pc(ft,c),Ae(U)}return B===n&&(B=pc(ft,c)),I}return Kr.cancel=qr,Kr.flush=Lr,Kr}var uN=dt(function(a,c){return F0(a,1,c)}),cN=dt(function(a,c,p){return F0(a,fi(c)||0,p)});function dN(a){return Cs(a,Ce)}function Ph(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new qn(l);var p=function(){var w=arguments,E=c?c.apply(this,w):w[0],j=p.cache;if(j.has(E))return j.get(E);var I=a.apply(this,w);return p.cache=j.set(E,I)||j,I};return p.cache=new(Ph.Cache||Ls),p}Ph.Cache=Ls;function Nh(a){if(typeof a!="function")throw new qn(l);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function hN(a){return Hw(2,a)}var fN=XT(function(a,c){c=c.length==1&&rt(c[0])?Gt(c[0],en(Ge())):Gt(Kn(c,1),en(Ge()));var p=c.length;return dt(function(w){for(var E=-1,j=N(w.length,p);++E<j;)w[E]=c[E].call(this,w[E]);return ln(a,this,w)})}),ng=dt(function(a,c){var p=Ji(c,jl(ng));return Cs(a,$,n,c,p)}),Kw=dt(function(a,c){var p=Ji(c,jl(Kw));return Cs(a,Q,n,c,p)}),pN=ks(function(a,c){return Cs(a,ee,n,n,n,c)});function mN(a,c){if(typeof a!="function")throw new qn(l);return c=c===n?c:at(c),dt(a,c)}function gN(a,c){if(typeof a!="function")throw new qn(l);return c=c==null?0:S(at(c),0),dt(function(p){var w=p[c],E=xo(p,0,c);return w&&Pi(E,w),ln(a,this,E)})}function _N(a,c,p){var w=!0,E=!0;if(typeof a!="function")throw new qn(l);return mn(p)&&(w="leading"in p?!!p.leading:w,E="trailing"in p?!!p.trailing:E),qw(a,c,{leading:w,maxWait:c,trailing:E})}function vN(a){return Zw(a,1)}function yN(a,c){return ng(zm(c),a)}function wN(){if(!arguments.length)return[];var a=arguments[0];return rt(a)?a:[a]}function xN(a){return ci(a,b)}function SN(a,c){return c=typeof c=="function"?c:n,ci(a,b,c)}function LN(a){return ci(a,y|b)}function bN(a,c){return c=typeof c=="function"?c:n,ci(a,y|b,c)}function CN(a,c){return c==null||R0(a,c,Yn(c))}function Ai(a,c){return a===c||a!==a&&c!==c}var kN=Sh(Em),TN=Sh(function(a,c){return a>=c}),Pa=W0(function(){return arguments}())?W0:function(a){return xn(a)&&yt.call(a,"callee")&&!sc.call(a,"callee")},rt=V.isArray,EN=Kd?en(Kd):IT;function Mr(a){return a!=null&&Oh(a.length)&&!Es(a)}function kn(a){return xn(a)&&Mr(a)}function PN(a){return a===!0||a===!1||xn(a)&&xr(a)==St}var So=i||fg,NN=Hu?en(Hu):RT;function ON(a){return xn(a)&&a.nodeType===1&&!mc(a)}function MN(a){if(a==null)return!0;if(Mr(a)&&(rt(a)||typeof a=="string"||typeof a.splice=="function"||So(a)||Il(a)||Pa(a)))return!a.length;var c=ar(a);if(c==Ye||c==on)return!a.size;if(fc(a))return!Om(a).length;for(var p in a)if(yt.call(a,p))return!1;return!0}function DN(a,c){return cc(a,c)}function AN(a,c,p){p=typeof p=="function"?p:n;var w=p?p(a,c):n;return w===n?cc(a,c,n,p):!!w}function rg(a){if(!xn(a))return!1;var c=xr(a);return c==ot||c==yn||typeof a.message=="string"&&typeof a.name=="string"&&!mc(a)}function jN(a){return typeof a=="number"&&u(a)}function Es(a){if(!mn(a))return!1;var c=xr(a);return c==Et||c==mt||c==vt||c==Zr}function Qw(a){return typeof a=="number"&&a==at(a)}function Oh(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=G}function mn(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function xn(a){return a!=null&&typeof a=="object"}var Jw=Qd?en(Qd):BT;function IN(a,c){return a===c||Nm(a,c,Gm(c))}function RN(a,c,p){return p=typeof p=="function"?p:n,Nm(a,c,Gm(c),p)}function FN(a){return Xw(a)&&a!=+a}function BN(a){if(SE(a))throw new Xe(s);return Z0(a)}function zN(a){return a===null}function $N(a){return a==null}function Xw(a){return typeof a=="number"||xn(a)&&xr(a)==Ln}function mc(a){if(!xn(a)||xr(a)!=Pt)return!1;var c=xs(a);if(c===null)return!0;var p=yt.call(c,"constructor")&&c.constructor;return typeof p=="function"&&p instanceof p&&Ol.call(p)==oh}var ig=Jd?en(Jd):zT;function UN(a){return Qw(a)&&a>=-9007199254740991&&a<=G}var ex=xl?en(xl):$T;function Mh(a){return typeof a=="string"||!rt(a)&&xn(a)&&xr(a)==Wn}function Vr(a){return typeof a=="symbol"||xn(a)&&xr(a)==Zn}var Il=Xd?en(Xd):UT;function WN(a){return a===n}function ZN(a){return xn(a)&&ar(a)==Ht}function HN(a){return xn(a)&&xr(a)==Pr}var YN=Sh(Mm),GN=Sh(function(a,c){return a<=c});function tx(a){if(!a)return[];if(Mr(a))return Mh(a)?sr(a):Or(a);if(go&&a[go])return Cl(a[go]());var c=ar(a),p=c==Ye?ec:c==on?Nr:Rl;return p(a)}function Ps(a){if(!a)return a===0?a:0;if(a=fi(a),a===Ke||a===-1/0){var c=a<0?-1:1;return c*ye}return a===a?a:0}function at(a){var c=Ps(a),p=c%1;return c===c?p?c-p:c:0}function nx(a){return a?Ca(at(a),0,ge):0}function fi(a){if(typeof a=="number")return a;if(Vr(a))return X;if(mn(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=mn(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=rh(a);var p=an.test(a);return p||gr.test(a)?um(a.slice(2),p?2:8):Yt.test(a)?X:+a}function rx(a){return ns(a,Dr(a))}function VN(a){return a?Ca(at(a),-9007199254740991,G):a===0?a:0}function Ft(a){return a==null?"":Gr(a)}var qN=Dl(function(a,c){if(fc(c)||Mr(c)){ns(c,Yn(c),a);return}for(var p in c)yt.call(c,p)&&ac(a,p,c[p])}),ix=Dl(function(a,c){ns(c,Dr(c),a)}),Dh=Dl(function(a,c,p,w){ns(c,Dr(c),a,w)}),KN=Dl(function(a,c,p,w){ns(c,Yn(c),a,w)}),QN=ks(Cm);function JN(a,c){var p=_o(a);return c==null?p:I0(p,c)}var XN=dt(function(a,c){a=Rt(a);var p=-1,w=c.length,E=w>2?c[2]:n;for(E&&Sr(c[0],c[1],E)&&(w=1);++p<w;)for(var j=c[p],I=Dr(j),B=-1,U=I.length;++B<U;){var ne=I[B],re=a[ne];(re===n||Ai(re,po[ne])&&!yt.call(a,ne))&&(a[ne]=j[ne])}return a}),e2=dt(function(a){return a.push(n,xw),ln(sx,n,a)});function t2(a,c){return ca(a,Ge(c,3),ts)}function n2(a,c){return ca(a,Ge(c,3),Tm)}function r2(a,c){return a==null?a:km(a,Ge(c,3),Dr)}function i2(a,c){return a==null?a:$0(a,Ge(c,3),Dr)}function s2(a,c){return a&&ts(a,Ge(c,3))}function o2(a,c){return a&&Tm(a,Ge(c,3))}function a2(a){return a==null?[]:ph(a,Yn(a))}function l2(a){return a==null?[]:ph(a,Dr(a))}function sg(a,c,p){var w=a==null?n:ka(a,c);return w===n?p:w}function u2(a,c){return a!=null&&bw(a,c,MT)}function og(a,c){return a!=null&&bw(a,c,DT)}var c2=gw(function(a,c,p){c!=null&&typeof c.toString!="function"&&(c=ma.call(c)),a[c]=p},lg(Ar)),d2=gw(function(a,c,p){c!=null&&typeof c.toString!="function"&&(c=ma.call(c)),yt.call(a,c)?a[c].push(p):a[c]=[p]},Ge),h2=dt(uc);function Yn(a){return Mr(a)?A0(a):Om(a)}function Dr(a){return Mr(a)?A0(a,!0):WT(a)}function f2(a,c){var p={};return c=Ge(c,3),ts(a,function(w,E,j){bs(p,c(w,E,j),w)}),p}function p2(a,c){var p={};return c=Ge(c,3),ts(a,function(w,E,j){bs(p,E,c(w,E,j))}),p}var m2=Dl(function(a,c,p){mh(a,c,p)}),sx=Dl(function(a,c,p,w){mh(a,c,p,w)}),g2=ks(function(a,c){var p={};if(a==null)return p;var w=!1;c=Gt(c,function(j){return j=wo(j,a),w||(w=j.length>1),j}),ns(a,Hm(a),p),w&&(p=ci(p,y|x|b,cE));for(var E=c.length;E--;)Rm(p,c[E]);return p});function _2(a,c){return ox(a,Nh(Ge(c)))}var v2=ks(function(a,c){return a==null?{}:HT(a,c)});function ox(a,c){if(a==null)return{};var p=Gt(Hm(a),function(w){return[w]});return c=Ge(c),Q0(a,p,function(w,E){return c(w,E[0])})}function y2(a,c,p){c=wo(c,a);var w=-1,E=c.length;for(E||(E=1,a=n);++w<E;){var j=a==null?n:a[rs(c[w])];j===n&&(w=E,j=p),a=Es(j)?j.call(a):j}return a}function w2(a,c,p){return a==null?a:dc(a,c,p)}function x2(a,c,p,w){return w=typeof w=="function"?w:n,a==null?a:dc(a,c,p,w)}var ax=yw(Yn),lx=yw(Dr);function S2(a,c,p){var w=rt(a),E=w||So(a)||Il(a);if(c=Ge(c,4),p==null){var j=a&&a.constructor;E?p=w?new j:[]:mn(a)?p=Es(j)?_o(xs(a)):{}:p={}}return(E?yr:ts)(a,function(I,B,U){return c(p,I,B,U)}),p}function L2(a,c){return a==null?!0:Rm(a,c)}function b2(a,c,p){return a==null?a:nw(a,c,zm(p))}function C2(a,c,p,w){return w=typeof w=="function"?w:n,a==null?a:nw(a,c,zm(p),w)}function Rl(a){return a==null?[]:Ki(a,Yn(a))}function k2(a){return a==null?[]:Ki(a,Dr(a))}function T2(a,c,p){return p===n&&(p=c,c=n),p!==n&&(p=fi(p),p=p===p?p:0),c!==n&&(c=fi(c),c=c===c?c:0),Ca(fi(a),c,p)}function E2(a,c,p){return c=Ps(c),p===n?(p=c,c=0):p=Ps(p),a=fi(a),AT(a,c,p)}function P2(a,c,p){if(p&&typeof p!="boolean"&&Sr(a,c,p)&&(c=p=n),p===n&&(typeof c=="boolean"?(p=c,c=n):typeof a=="boolean"&&(p=a,a=n)),a===n&&c===n?(a=0,c=1):(a=Ps(a),c===n?(c=a,a=0):c=Ps(c)),a>c){var w=a;a=c,c=w}if(p||a%1||c%1){var E=Y();return N(a+E*(c-a+$u("1e-"+((E+"").length-1))),c)}return Am(a,c)}var N2=Al(function(a,c,p){return c=c.toLowerCase(),a+(p?ux(c):c)});function ux(a){return ag(Ft(a).toLowerCase())}function cx(a){return a=Ft(a),a&&a.replace(cl,fm).replace(Yd,"")}function O2(a,c,p){a=Ft(a),c=Gr(c);var w=a.length;p=p===n?w:Ca(at(p),0,w);var E=p;return p-=c.length,p>=0&&a.slice(p,E)==c}function M2(a){return a=Ft(a),a&&Xt.test(a)?a.replace(pr,fa):a}function D2(a){return a=Ft(a),a&&$t.test(a)?a.replace(it,"\\$&"):a}var A2=Al(function(a,c,p){return a+(p?"-":"")+c.toLowerCase()}),j2=Al(function(a,c,p){return a+(p?" ":"")+c.toLowerCase()}),I2=fw("toLowerCase");function R2(a,c,p){a=Ft(a),c=at(c);var w=c?ir(a):0;if(!c||w>=c)return a;var E=(c-w)/2;return xh(wa(E),p)+a+xh(ya(E),p)}function F2(a,c,p){a=Ft(a),c=at(c);var w=c?ir(a):0;return c&&w<c?a+xh(c-w,p):a}function B2(a,c,p){a=Ft(a),c=at(c);var w=c?ir(a):0;return c&&w<c?xh(c-w,p)+a:a}function z2(a,c,p){return p||c==null?c=0:c&&(c=+c),Z(Ft(a).replace(bn,""),c||0)}function $2(a,c,p){return(p?Sr(a,c,p):c===n)?c=1:c=at(c),jm(Ft(a),c)}function U2(){var a=arguments,c=Ft(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var W2=Al(function(a,c,p){return a+(p?"_":"")+c.toLowerCase()});function Z2(a,c,p){return p&&typeof p!="number"&&Sr(a,c,p)&&(c=p=n),p=p===n?ge:p>>>0,p?(a=Ft(a),a&&(typeof c=="string"||c!=null&&!ig(c))&&(c=Gr(c),!c&&co(a))?xo(sr(a),0,p):a.split(c,p)):[]}var H2=Al(function(a,c,p){return a+(p?" ":"")+ag(c)});function Y2(a,c,p){return a=Ft(a),p=p==null?0:Ca(at(p),0,a.length),c=Gr(c),a.slice(p,p+c.length)==c}function G2(a,c,p){var w=D.templateSettings;p&&Sr(a,c,p)&&(c=n),a=Ft(a),c=Dh({},c,w,ww);var E=Dh({},c.imports,w.imports,ww),j=Yn(E),I=Ki(E,j),B,U,ne=0,re=c.interpolate||ro,ae="__p += '",ve=ic((c.escape||ro).source+"|"+re.source+"|"+(re===oe?ul:ro).source+"|"+(c.evaluate||ro).source+"|$","g"),Ae="//# sourceURL="+(yt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++la+"]")+`
`;a.replace(ve,function(qe,ft,wt,qr,Lr,Kr){return wt||(wt=qr),ae+=a.slice(ne,Kr).replace(dl,sh),ft&&(B=!0,ae+=`' +
__e(`+ft+`) +
'`),Lr&&(U=!0,ae+=`';
`+Lr+`;
__p += '`),wt&&(ae+=`' +
((__t = (`+wt+`)) == null ? '' : __t) +
'`),ne=Kr+qe.length,qe}),ae+=`';
`;var Ve=yt.call(c,"variable")&&c.variable;if(!Ve)ae=`with (obj) {
`+ae+`
}
`;else if(ta.test(Ve))throw new Xe(d);ae=(U?ae.replace(Dn,""):ae).replace(It,"$1").replace(Nt,"$1;"),ae="function("+(Ve||"obj")+`) {
`+(Ve?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(B?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ae+`return __p
}`;var ut=hx(function(){return kt(j,Ae+"return "+ae).apply(n,I)});if(ut.source=ae,rg(ut))throw ut;return ut}function V2(a){return Ft(a).toLowerCase()}function q2(a){return Ft(a).toUpperCase()}function K2(a,c,p){if(a=Ft(a),a&&(p||c===n))return rh(a);if(!a||!(c=Gr(c)))return a;var w=sr(a),E=sr(c),j=li(w,E),I=ih(w,E)+1;return xo(w,j,I).join("")}function Q2(a,c,p){if(a=Ft(a),a&&(p||c===n))return a.slice(0,tc(a)+1);if(!a||!(c=Gr(c)))return a;var w=sr(a),E=ih(w,sr(c))+1;return xo(w,0,E).join("")}function J2(a,c,p){if(a=Ft(a),a&&(p||c===n))return a.replace(bn,"");if(!a||!(c=Gr(c)))return a;var w=sr(a),E=li(w,sr(c));return xo(w,E).join("")}function X2(a,c){var p=ce,w=Re;if(mn(c)){var E="separator"in c?c.separator:E;p="length"in c?at(c.length):p,w="omission"in c?Gr(c.omission):w}a=Ft(a);var j=a.length;if(co(a)){var I=sr(a);j=I.length}if(p>=j)return a;var B=p-ir(w);if(B<1)return w;var U=I?xo(I,0,B).join(""):a.slice(0,B);if(E===n)return U+w;if(I&&(B+=U.length-B),ig(E)){if(a.slice(B).search(E)){var ne,re=U;for(E.global||(E=ic(E.source,Ft(Je.exec(E))+"g")),E.lastIndex=0;ne=E.exec(re);)var ae=ne.index;U=U.slice(0,ae===n?B:ae)}}else if(a.indexOf(Gr(E),B)!=B){var ve=U.lastIndexOf(E);ve>-1&&(U=U.slice(0,ve))}return U+w}function eO(a){return a=Ft(a),a&&Jt.test(a)?a.replace(ht,nc):a}var tO=Al(function(a,c,p){return a+(p?" ":"")+c.toUpperCase()}),ag=fw("toUpperCase");function dx(a,c,p){return a=Ft(a),c=p?n:c,c===n?Qi(a)?El(a):th(a):a.match(c)||[]}var hx=dt(function(a,c){try{return ln(a,n,c)}catch(p){return rg(p)?p:new Xe(p)}}),nO=ks(function(a,c){return yr(c,function(p){p=rs(p),bs(a,p,tg(a[p],a))}),a});function rO(a){var c=a==null?0:a.length,p=Ge();return a=c?Gt(a,function(w){if(typeof w[1]!="function")throw new qn(l);return[p(w[0]),w[1]]}):[],dt(function(w){for(var E=-1;++E<c;){var j=a[E];if(ln(j[0],this,w))return ln(j[1],this,w)}})}function iO(a){return PT(ci(a,y))}function lg(a){return function(){return a}}function sO(a,c){return a==null||a!==a?c:a}var oO=mw(),aO=mw(!0);function Ar(a){return a}function ug(a){return H0(typeof a=="function"?a:ci(a,y))}function lO(a){return G0(ci(a,y))}function uO(a,c){return V0(a,ci(c,y))}var cO=dt(function(a,c){return function(p){return uc(p,a,c)}}),dO=dt(function(a,c){return function(p){return uc(a,p,c)}});function cg(a,c,p){var w=Yn(c),E=ph(c,w);p==null&&!(mn(c)&&(E.length||!w.length))&&(p=c,c=a,a=this,E=ph(c,Yn(c)));var j=!(mn(p)&&"chain"in p)||!!p.chain,I=Es(a);return yr(E,function(B){var U=c[B];a[B]=U,I&&(a.prototype[B]=function(){var ne=this.__chain__;if(j||ne){var re=a(this.__wrapped__),ae=re.__actions__=Or(this.__actions__);return ae.push({func:U,args:arguments,thisArg:a}),re.__chain__=ne,re}return U.apply(a,Pi([this.value()],arguments))})}),a}function hO(){return Rn._===this&&(Rn._=_m),this}function dg(){}function fO(a){return a=at(a),dt(function(c){return q0(c,a)})}var pO=Um(Gt),mO=Um(Yu),gO=Um(ua);function fx(a){return qm(a)?Sl(rs(a)):YT(a)}function _O(a){return function(c){return a==null?n:ka(a,c)}}var vO=_w(),yO=_w(!0);function hg(){return[]}function fg(){return!1}function wO(){return{}}function xO(){return""}function SO(){return!0}function LO(a,c){if(a=at(a),a<1||a>G)return[];var p=ge,w=N(a,ge);c=Ge(c),a-=ge;for(var E=Xu(w,c);++p<a;)c(p);return E}function bO(a){return rt(a)?Gt(a,rs):Vr(a)?[a]:Or(Dw(Ft(a)))}function CO(a){var c=++gm;return Ft(a)+c}var kO=wh(function(a,c){return a+c},0),TO=Wm("ceil"),EO=wh(function(a,c){return a/c},1),PO=Wm("floor");function NO(a){return a&&a.length?fh(a,Ar,Em):n}function OO(a,c){return a&&a.length?fh(a,Ge(c,2),Em):n}function MO(a){return qu(a,Ar)}function DO(a,c){return qu(a,Ge(c,2))}function AO(a){return a&&a.length?fh(a,Ar,Mm):n}function jO(a,c){return a&&a.length?fh(a,Ge(c,2),Mm):n}var IO=wh(function(a,c){return a*c},1),RO=Wm("round"),FO=wh(function(a,c){return a-c},0);function BO(a){return a&&a.length?Ju(a,Ar):0}function zO(a,c){return a&&a.length?Ju(a,Ge(c,2)):0}return D.after=lN,D.ary=Zw,D.assign=qN,D.assignIn=ix,D.assignInWith=Dh,D.assignWith=KN,D.at=QN,D.before=Hw,D.bind=tg,D.bindAll=nO,D.bindKey=Yw,D.castArray=wN,D.chain=$w,D.chunk=PE,D.compact=NE,D.concat=OE,D.cond=rO,D.conforms=iO,D.constant=lg,D.countBy=BP,D.create=JN,D.curry=Gw,D.curryRight=Vw,D.debounce=qw,D.defaults=XN,D.defaultsDeep=e2,D.defer=uN,D.delay=cN,D.difference=ME,D.differenceBy=DE,D.differenceWith=AE,D.drop=jE,D.dropRight=IE,D.dropRightWhile=RE,D.dropWhile=FE,D.fill=BE,D.filter=$P,D.flatMap=ZP,D.flatMapDeep=HP,D.flatMapDepth=YP,D.flatten=Rw,D.flattenDeep=zE,D.flattenDepth=$E,D.flip=dN,D.flow=oO,D.flowRight=aO,D.fromPairs=UE,D.functions=a2,D.functionsIn=l2,D.groupBy=GP,D.initial=ZE,D.intersection=HE,D.intersectionBy=YE,D.intersectionWith=GE,D.invert=c2,D.invertBy=d2,D.invokeMap=qP,D.iteratee=ug,D.keyBy=KP,D.keys=Yn,D.keysIn=Dr,D.map=Th,D.mapKeys=f2,D.mapValues=p2,D.matches=lO,D.matchesProperty=uO,D.memoize=Ph,D.merge=m2,D.mergeWith=sx,D.method=cO,D.methodOf=dO,D.mixin=cg,D.negate=Nh,D.nthArg=fO,D.omit=g2,D.omitBy=_2,D.once=hN,D.orderBy=QP,D.over=pO,D.overArgs=fN,D.overEvery=mO,D.overSome=gO,D.partial=ng,D.partialRight=Kw,D.partition=JP,D.pick=v2,D.pickBy=ox,D.property=fx,D.propertyOf=_O,D.pull=QE,D.pullAll=Bw,D.pullAllBy=JE,D.pullAllWith=XE,D.pullAt=eP,D.range=vO,D.rangeRight=yO,D.rearg=pN,D.reject=tN,D.remove=tP,D.rest=mN,D.reverse=Xm,D.sampleSize=rN,D.set=w2,D.setWith=x2,D.shuffle=iN,D.slice=nP,D.sortBy=aN,D.sortedUniq=uP,D.sortedUniqBy=cP,D.split=Z2,D.spread=gN,D.tail=dP,D.take=hP,D.takeRight=fP,D.takeRightWhile=pP,D.takeWhile=mP,D.tap=NP,D.throttle=_N,D.thru=kh,D.toArray=tx,D.toPairs=ax,D.toPairsIn=lx,D.toPath=bO,D.toPlainObject=rx,D.transform=S2,D.unary=vN,D.union=gP,D.unionBy=_P,D.unionWith=vP,D.uniq=yP,D.uniqBy=wP,D.uniqWith=xP,D.unset=L2,D.unzip=eg,D.unzipWith=zw,D.update=b2,D.updateWith=C2,D.values=Rl,D.valuesIn=k2,D.without=SP,D.words=dx,D.wrap=yN,D.xor=LP,D.xorBy=bP,D.xorWith=CP,D.zip=kP,D.zipObject=TP,D.zipObjectDeep=EP,D.zipWith=PP,D.entries=ax,D.entriesIn=lx,D.extend=ix,D.extendWith=Dh,cg(D,D),D.add=kO,D.attempt=hx,D.camelCase=N2,D.capitalize=ux,D.ceil=TO,D.clamp=T2,D.clone=xN,D.cloneDeep=LN,D.cloneDeepWith=bN,D.cloneWith=SN,D.conformsTo=CN,D.deburr=cx,D.defaultTo=sO,D.divide=EO,D.endsWith=O2,D.eq=Ai,D.escape=M2,D.escapeRegExp=D2,D.every=zP,D.find=UP,D.findIndex=jw,D.findKey=t2,D.findLast=WP,D.findLastIndex=Iw,D.findLastKey=n2,D.floor=PO,D.forEach=Uw,D.forEachRight=Ww,D.forIn=r2,D.forInRight=i2,D.forOwn=s2,D.forOwnRight=o2,D.get=sg,D.gt=kN,D.gte=TN,D.has=u2,D.hasIn=og,D.head=Fw,D.identity=Ar,D.includes=VP,D.indexOf=WE,D.inRange=E2,D.invoke=h2,D.isArguments=Pa,D.isArray=rt,D.isArrayBuffer=EN,D.isArrayLike=Mr,D.isArrayLikeObject=kn,D.isBoolean=PN,D.isBuffer=So,D.isDate=NN,D.isElement=ON,D.isEmpty=MN,D.isEqual=DN,D.isEqualWith=AN,D.isError=rg,D.isFinite=jN,D.isFunction=Es,D.isInteger=Qw,D.isLength=Oh,D.isMap=Jw,D.isMatch=IN,D.isMatchWith=RN,D.isNaN=FN,D.isNative=BN,D.isNil=$N,D.isNull=zN,D.isNumber=Xw,D.isObject=mn,D.isObjectLike=xn,D.isPlainObject=mc,D.isRegExp=ig,D.isSafeInteger=UN,D.isSet=ex,D.isString=Mh,D.isSymbol=Vr,D.isTypedArray=Il,D.isUndefined=WN,D.isWeakMap=ZN,D.isWeakSet=HN,D.join=VE,D.kebabCase=A2,D.last=hi,D.lastIndexOf=qE,D.lowerCase=j2,D.lowerFirst=I2,D.lt=YN,D.lte=GN,D.max=NO,D.maxBy=OO,D.mean=MO,D.meanBy=DO,D.min=AO,D.minBy=jO,D.stubArray=hg,D.stubFalse=fg,D.stubObject=wO,D.stubString=xO,D.stubTrue=SO,D.multiply=IO,D.nth=KE,D.noConflict=hO,D.noop=dg,D.now=Eh,D.pad=R2,D.padEnd=F2,D.padStart=B2,D.parseInt=z2,D.random=P2,D.reduce=XP,D.reduceRight=eN,D.repeat=$2,D.replace=U2,D.result=y2,D.round=RO,D.runInContext=z,D.sample=nN,D.size=sN,D.snakeCase=W2,D.some=oN,D.sortedIndex=rP,D.sortedIndexBy=iP,D.sortedIndexOf=sP,D.sortedLastIndex=oP,D.sortedLastIndexBy=aP,D.sortedLastIndexOf=lP,D.startCase=H2,D.startsWith=Y2,D.subtract=FO,D.sum=BO,D.sumBy=zO,D.template=G2,D.times=LO,D.toFinite=Ps,D.toInteger=at,D.toLength=nx,D.toLower=V2,D.toNumber=fi,D.toSafeInteger=VN,D.toString=Ft,D.toUpper=q2,D.trim=K2,D.trimEnd=Q2,D.trimStart=J2,D.truncate=X2,D.unescape=eO,D.uniqueId=CO,D.upperCase=tO,D.upperFirst=ag,D.each=Uw,D.eachRight=Ww,D.first=Fw,cg(D,function(){var a={};return ts(D,function(c,p){yt.call(D.prototype,p)||(a[p]=c)}),a}(),{chain:!1}),D.VERSION=r,yr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){D[a].placeholder=D}),yr(["drop","take"],function(a,c){ct.prototype[a]=function(p){p=p===n?1:S(at(p),0);var w=this.__filtered__&&!c?new ct(this):this.clone();return w.__filtered__?w.__takeCount__=N(p,w.__takeCount__):w.__views__.push({size:N(p,ge),type:a+(w.__dir__<0?"Right":"")}),w},ct.prototype[a+"Right"]=function(p){return this.reverse()[a](p).reverse()}}),yr(["filter","map","takeWhile"],function(a,c){var p=c+1,w=p==me||p==be;ct.prototype[a]=function(E){var j=this.clone();return j.__iteratees__.push({iteratee:Ge(E,3),type:p}),j.__filtered__=j.__filtered__||w,j}}),yr(["head","last"],function(a,c){var p="take"+(c?"Right":"");ct.prototype[a]=function(){return this[p](1).value()[0]}}),yr(["initial","tail"],function(a,c){var p="drop"+(c?"":"Right");ct.prototype[a]=function(){return this.__filtered__?new ct(this):this[p](1)}}),ct.prototype.compact=function(){return this.filter(Ar)},ct.prototype.find=function(a){return this.filter(a).head()},ct.prototype.findLast=function(a){return this.reverse().find(a)},ct.prototype.invokeMap=dt(function(a,c){return typeof a=="function"?new ct(this):this.map(function(p){return uc(p,a,c)})}),ct.prototype.reject=function(a){return this.filter(Nh(Ge(a)))},ct.prototype.slice=function(a,c){a=at(a);var p=this;return p.__filtered__&&(a>0||c<0)?new ct(p):(a<0?p=p.takeRight(-a):a&&(p=p.drop(a)),c!==n&&(c=at(c),p=c<0?p.dropRight(-c):p.take(c-a)),p)},ct.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},ct.prototype.toArray=function(){return this.take(ge)},ts(ct.prototype,function(a,c){var p=/^(?:filter|find|map|reject)|While$/.test(c),w=/^(?:head|last)$/.test(c),E=D[w?"take"+(c=="last"?"Right":""):c],j=w||/^find/.test(c);E&&(D.prototype[c]=function(){var I=this.__wrapped__,B=w?[1]:arguments,U=I instanceof ct,ne=B[0],re=U||rt(I),ae=function(ft){var wt=E.apply(D,Pi([ft],B));return w&&ve?wt[0]:wt};re&&p&&typeof ne=="function"&&ne.length!=1&&(U=re=!1);var ve=this.__chain__,Ae=!!this.__actions__.length,Ve=j&&!ve,ut=U&&!Ae;if(!j&&re){I=ut?I:new ct(this);var qe=a.apply(I,B);return qe.__actions__.push({func:kh,args:[ae],thisArg:n}),new or(qe,ve)}return Ve&&ut?a.apply(this,B):(qe=this.thru(ae),Ve?w?qe.value()[0]:qe.value():qe)})}),yr(["pop","push","shift","sort","splice","unshift"],function(a){var c=Pl[a],p=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",w=/^(?:pop|shift)$/.test(a);D.prototype[a]=function(){var E=arguments;if(w&&!this.__chain__){var j=this.value();return c.apply(rt(j)?j:[],E)}return this[p](function(I){return c.apply(rt(I)?I:[],E)})}}),ts(ct.prototype,function(a,c){var p=D[c];if(p){var w=p.name+"";yt.call(Yr,w)||(Yr[w]=[]),Yr[w].push({name:c,func:p})}}),Yr[yh(n,k).name]=[{name:"wrapper",func:n}],ct.prototype.clone=Lm,ct.prototype.reverse=tT,ct.prototype.value=nT,D.prototype.at=OP,D.prototype.chain=MP,D.prototype.commit=DP,D.prototype.next=AP,D.prototype.plant=IP,D.prototype.reverse=RP,D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=FP,D.prototype.first=D.prototype.head,go&&(D.prototype[go]=jP),D},Ni=fo();Hr?((Hr.exports=Ni)._=Ni,vr._=Ni):Rn._=Ni}).call(Xn)})(fp,fp.exports);var E5=fp.exports;delete Mn.Icon.Default.prototype._getIconUrl;Mn.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const Oa="http://localhost:8000",P5=new Mn.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],className:"report-marker"}),gS={new:"新規",responding:"対応中",resolved:"解決済み",confirmed:"解決確認",ignored:"対応不要",completed:"完了"};function N5(){const{user:e}=Js(),[t,n]=T.useState([]),[r,o]=T.useState([]),[s,l]=T.useState(!1),[d,h]=T.useState({id:null,title:"",description:"",prefecture:"",city:"",addressLine1:"",addressLine2:"",latitude:"",longitude:"",files:[],category:""}),[g,v]=T.useState(null),[y,x]=T.useState(null),[b,P]=T.useState(null),[C,A]=T.useState("reportList"),[k,O]=T.useState(!1),[M,F]=T.useState(null),[$,Q]=T.useState(!1),[ie,ee]=T.useState({}),[Ce,ce]=T.useState([]),[Re,$e]=T.useState(!1),[le,me]=T.useState("details"),[ze,be]=T.useState(0),[Ke,G]=T.useState({category:"",dateFrom:"",dateTo:"",area:"",search:""}),[ye,X]=T.useState(new Date),[ge,De]=T.useState(!1),Qe=T.useRef(null),{messages:Ue,newMessage:He,setNewMessage:Se,imageFile:vt,setImageFile:St,setMessages:jt,bottomRef:yn}=SC(M==null?void 0:M.id,$),ot=async()=>{if(!He.trim()&&!vt)return ue.error("メッセージまたは画像を入力してください");const W=localStorage.getItem("token");if(!W)return ue.error("ログインしてください");const q={id:Date.now(),text:He.trim()||null,image:vt?URL.createObjectURL(vt):null,sender:e.id,created_at:new Date().toISOString()};jt(de=>[...de,q]);const J=new FormData;J.append("text",He.trim()),vt&&J.append("file",vt);try{const de=await fetch(`undefined/api/city/chats/${M.id}/messages`,{method:"POST",headers:{Authorization:`Bearer ${W}`},body:J});if(!de.ok)throw new Error(await de.text());ue.success("メッセージを送信しました"),Se(""),St(null)}catch(de){console.error(de),jt(ke=>ke.filter(Ie=>Ie.id!==q.id)),ue.error("送信に失敗しました")}};T.useEffect(()=>{C==="reportList"||C==="myReports"||C==="calendarView"?Et():C==="createReport"?(!g||!g._container||g._container.id!=="map-create")&&Ye("map-create"):C==="mapView"&&(!g||g._container.id!=="map-view")&&Ye("map-view",!0),mt()},[C]),T.useEffect(()=>{if(!(C!=="createReport"||!g))if(k&&d.latitude&&d.longitude){const W=parseFloat(d.latitude),q=parseFloat(d.longitude);g.setView([W,q],13),Pt(W,q)}else Me(),De(!0)},[g,C,k,ge]),T.useEffect(()=>{const{prefecture:W,city:q,addressLine1:J}=d;if(!W||!q||!J)return;const de=`${W} ${q} ${J}`,ke=setTimeout(()=>{console.log("📍 ジオコーディング実行:",de),Zr(de,({lat:Ie,lng:Lt})=>{(Ie.toString()!==d.latitude||Lt.toString()!==d.longitude)&&(h(Ne=>({...Ne,latitude:Ie.toString(),longitude:Lt.toString()})),Pt(Ie,Lt))})},700);return()=>clearTimeout(ke)},[d.prefecture,d.city,d.addressLine1]);const Et=async()=>{l(!0);try{if(typeof window>"u"||!window.localStorage)throw new Error("localStorage is not available");const W=localStorage.getItem("token");if(!W)throw new Error("Authentication token is missing. Please log in.");const q=void 0;if(!q)throw new Error("VITE_API_BASE environment variable is not defined");const de=`${q}${C==="myReports"?"/reports?user_id=me":"/reports"}`,ke=await fetch(de,{headers:{Authorization:`Bearer ${W}`}});if(!ke.ok){const Nt=await ke.text();throw new Error(`Failed to fetch reports: ${ke.status} ${Nt}`)}const Ie=await ke.json(),Ne=(Array.isArray(Ie.features)?Ie.features.map(Nt=>{var ht,pr,Jt,Xt;return{...Nt.properties,latitude:((pr=(ht=Nt.geometry)==null?void 0:ht.coordinates)==null?void 0:pr[1])||"",longitude:((Xt=(Jt=Nt.geometry)==null?void 0:Jt.coordinates)==null?void 0:Xt[0])||""}}):Array.isArray(Ie)?Ie:Ie.results||[]).filter((Nt,ht)=>Nt.id?!0:(console.warn(`Report at index ${ht} is missing id:`,Nt),!1));new Set(Ne.map(Nt=>Nt.id)).size!==Ne.length&&console.warn("Duplicate report IDs detected:",Ne),console.log("Fetched reports:",Ne),n(Ne),o(Ne),Ln(Ne);const It={};for(const Nt of Ne){const ht=await fetch(`${q}/reports/${Nt.id}/messages`,{headers:{Authorization:`Bearer ${W}`}});if(!ht.ok){console.warn(`⚠️ メッセージ取得失敗: report.id=${Nt.id}, status=${ht.status}`);continue}const Jt=(await ht.json()).filter(Xt=>new Date(Xt.created_at)>new Date(Nt.last_viewed_at||0)).length;It[Nt.id]=Jt}ee(It)}catch(W){console.error("Error fetching reports:",W.message,W.stack),ue.error(W.message||"レポートの取得に失敗しました"),n([]),o([]),P(null)}finally{l(!1)}},mt=async()=>{try{if(typeof window>"u"||!window.localStorage)throw new Error("localStorage is not available");const W=localStorage.getItem("token");if(!W)throw new Error("Authentication token is missing. Please log in.");const q=void 0;if(!q)throw new Error("VITE_API_BASE environment variable is not defined");const J=await fetch(`${q}/notifications`,{headers:{Authorization:`Bearer ${W}`}});if(!J.ok){const ke=await J.text();throw new Error(`Failed to fetch notifications: ${J.status} ${ke}`)}const de=await J.json();ce(de)}catch(W){console.error("Error fetching notifications:",W.message,W.stack),ue.error(W.message||"通知の取得に失敗しました")}},Ye=(W="map-create",q=!1)=>{console.log("🗺️ initializeMap start for:",W," existing map?",!!g),g&&(console.log(" → removing existing map"),g.remove(),v(null));const J=()=>{const de=document.getElementById(W);if(console.log("  attemptInitialize, container:",de),!de){console.warn(`Map container "${W}" not found, retry...`),setTimeout(J,100);return}const ke=Mn.map(W).setView([35.6895,139.6917],q?9:13);console.log("  L.map created:",ke),Mn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(ke),ke.whenReady(()=>{console.log(`  mapInstance.whenReady for "${W}" → size=`,ke.getSize())}),q||ke.on("click",Lt=>{console.log("  map click at",Lt.latlng),zt(Lt.latlng.lat,Lt.latlng.lng,ke)});const Ie=Mn.markerClusterGroup();P(Ie),ke.addLayer(Ie),v(ke),console.log("  initializeMap done for:",W)};J()},Ln=W=>{b&&(b.clearLayers(),(Array.isArray(W)?W:[]).filter(q=>q.latitude&&q.longitude&&q.id).forEach(q=>{const J=Mn.marker([q.latitude,q.longitude],{icon:P5}).bindPopup(`<b>${q.title}</b><br>住所: ${q.address||"不明"}`);b.addLayer(J)}))},Me=async()=>{if(!navigator.geolocation){ue.error("お使いのブラウザは位置情報をサポートしていません");return}navigator.geolocation.getCurrentPosition(async W=>{const{latitude:q,longitude:J}=W.coords;console.log("📍 現在地取得:",q,J),g&&(Pt(q,J),g.setView([q,J],13));try{const ke=await(await fetch(`undefined/geocode?lat=${q}&lon=${J}`)).json();if(ke.Feature&&ke.Feature[0]){const Ie=ke.Feature[0].Property.AddressElement;h(Lt=>{var Ne,Dn,It,Nt;return{...Lt,prefecture:((Ne=Ie.find(ht=>ht.Level==="prefecture"))==null?void 0:Ne.Name)||"",city:((Dn=Ie.find(ht=>ht.Level==="city"))==null?void 0:Dn.Name)||"",addressLine1:((It=Ie.find(ht=>ht.Level==="oaza"))==null?void 0:It.Name)||"",addressLine2:((Nt=Ie.find(ht=>ht.Level==="chome"))==null?void 0:Nt.Name)||"",latitude:q.toString(),longitude:J.toString()}}),console.log("📍 住所＋座標をセット完了")}}catch(de){console.error("住所の取得に失敗:",de),ue.error("住所の取得に失敗しました")}},W=>{console.error("位置情報エラー:",W),ue.warn("位置情報の取得を許可してください")})},Pt=(W,q,J=g)=>{if(!J){console.warn("Map is not initialized yet.");return}Qe.current&&(Qe.current.remove(),Qe.current=null);const de=Mn.marker([parseFloat(W),parseFloat(q)]).addTo(J);Qe.current=de,x(de)},zt=async(W,q,J=g)=>{console.log("🛠️ updateMarkerAndAddress 呼び出し:",W,q),Pt(W,q,J),J.setView([parseFloat(W),parseFloat(q)],13);try{const ke=await(await fetch(`undefined/geocode?lat=${W}&lon=${q}`)).json();if(ke.Feature&&ke.Feature[0]){const Ie=ke.Feature[0].Property.AddressElement;h(Lt=>{var Ne,Dn,It,Nt;return{...Lt,prefecture:((Ne=Ie.find(ht=>ht.Level==="prefecture"))==null?void 0:Ne.Name)||"",city:((Dn=Ie.find(ht=>ht.Level==="city"))==null?void 0:Dn.Name)||"",addressLine1:((It=Ie.find(ht=>ht.Level==="oaza"))==null?void 0:It.Name)||"",addressLine2:((Nt=Ie.find(ht=>ht.Level==="chome"))==null?void 0:Nt.Name)||"",latitude:W.toString(),longitude:q.toString()}}),console.log("📍 住所＋座標をセット完了")}else h(Ie=>({...Ie,latitude:W.toString(),longitude:q.toString()})),console.warn("📭 ジオコーディング結果なし（座標のみ保存）")}catch(de){console.error("Error fetching address:",de),ue.error("住所の取得に失敗しました（座標は保存されます）"),h(ke=>({...ke,latitude:W.toString(),longitude:q.toString()}))}},Zr=E5.debounce(async(W,q)=>{if(W)try{const de=await(await fetch(`undefined/geocode?query=${encodeURIComponent(W)}`)).json();if(de.Feature&&de.Feature[0]){const ke=de.Feature[0].Geometry.Coordinates.split(","),Ie=parseFloat(ke[1]),Lt=parseFloat(ke[0]);q({lat:Ie,lng:Lt})}else throw new Error("ジオコーディング結果なし")}catch(J){console.error("Error geocoding address:",J),ue.error("住所から位置を特定できませんでした")}},500),fn=W=>{const{name:q,value:J}=W.target,de={...d,[q]:J};h(de)},on=W=>{const q=Array.from(W.target.files);h(J=>({...J,files:q}))},Wn=async W=>{W.preventDefault(),console.log("========== Debugging Submit =========="),console.log("newReport:",d),console.log("======================================");const q=[];if(d.title||q.push("タイトルを入力してください"),d.description||q.push("説明を入力してください"),d.prefecture||q.push("都道府県を入力してください"),d.city||q.push("市区町村を入力してください"),d.addressLine1||q.push("番地を入力してください"),d.category||q.push("カテゴリを選択してください"),(!d.latitude||!d.longitude||isNaN(parseFloat(d.latitude))||isNaN(parseFloat(d.longitude)))&&q.push("位置情報が正しく設定されていません"),q.length>0){q.forEach(de=>ue.error(de));return}const J=new FormData;J.append("title",d.title),J.append("description",d.description),J.append("lat",d.latitude),J.append("lng",d.longitude),J.append("category",d.category),J.append("address",`${d.prefecture}${d.city}${d.addressLine1}${d.addressLine2}`.trim()),d.files.forEach(de=>{J.append("files",de)});try{const de=localStorage.getItem("token"),ke=void 0,Ie=k?`${ke}/reports/${d.id}`:`${ke}/reports`,Ne=await fetch(Ie,{method:k?"PUT":"POST",headers:{Authorization:`Bearer ${de}`},body:J});if(!Ne.ok){const It=await Ne.json();throw new Error(`Failed to ${k?"update":"create"} report: ${JSON.stringify(It)}`)}const Dn=await Ne.json();ue.success(`レポートを${k?"更新":"作成"}しました`),h({id:null,title:"",description:"",prefecture:"",city:"",addressLine1:"",addressLine2:"",latitude:"",longitude:"",files:[],category:""}),O(!1),De(!1),Qe.current&&(Qe.current.remove(),Qe.current=null,x(null)),Ye("map-create")}catch(de){console.error(`Error ${k?"updating":"creating"} report:`,de),ue.error(de.message||`レポートの${k?"更新":"作成"}に失敗しました`)}},Zn=()=>{h({id:null,title:"",description:"",prefecture:"",city:"",addressLine1:"",addressLine2:"",latitude:"",longitude:"",files:[],category:""}),O(!1),Qe.current&&(Qe.current.remove(),Qe.current=null,x(null))},ii=async(W,q)=>{if(t.find(de=>de.id===W).user_id!==e.id){ue.error("自分のレポートのみステータス変更可能です");return}try{const de=localStorage.getItem("token");if(!de)throw new Error("Authentication token is missing. Please log in.");const ke=await fetch(`undefined/reports/${W}`,{method:"PATCH",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"},body:JSON.stringify({status:q})});if(!ke.ok){const Ie=await ke.text();throw new Error(`Failed to update status: ${Ie}`)}ue.success("ステータスを更新しました"),Et()}catch(de){console.error("Error updating status:",de),ue.error(de.message||"ステータスの更新に失敗しました")}},Ht=async(W,q="details")=>{F(W),me(q),Q(!0),be(0);try{const J=localStorage.getItem("token");if(!J)throw new Error("ログインしてください");let de;if(e.user_type==="city"){console.log("→ 市ユーザー: chatId を取得/作成");const Ne=await fetch(`${Oa}/api/city/chats?reportId=${W.id}`,{headers:{Authorization:`Bearer ${J}`}});if(!Ne.ok){const It=await Ne.text();throw console.error("→ 市チャット取得エラー:",Ne.status,It),new Error(It)}const{chat_id:Dn}=await Ne.json();de=Dn}else{console.log("→ 会社ユーザー: chatId を取得/作成");const Ne=await fetch(`${Oa}/api/company/chats?reportId=${W.id}`,{headers:{Authorization:`Bearer ${J}`}});if(!Ne.ok){const It=await Ne.text();throw console.error("→ 会社チャット取得エラー:",Ne.status,It),new Error(It)}if(de=(await Ne.json()).chatId,!de){const It=await fetch(`${Oa}/api/company/chats`,{method:"POST",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify({reportId:W.id})});if(!It.ok){const ht=await It.text();throw console.error("→ 会社チャット作成エラー:",It.status,ht),new Error(ht)}de=(await It.json()).chatId}}console.log(`→ chat fetch URL: ${Oa}/${e.user_type==="city"?"api/city":"api/company"}/chats/${de}/messages`);const ke=await fetch(e.user_type==="city"?`${Oa}/api/city/chats/${de}/messages`:`${Oa}/api/company/chats/${de}/messages`,{headers:{Authorization:`Bearer ${J}`}});if(console.log("→ msgRes.status=",ke.status),!ke.ok){const Ne=await ke.text();throw console.error("→ raw body:",Ne),new Error(Ne)}const Lt=(await ke.json()).map(Ne=>({id:Ne.id,text:Ne.text||"",image:Ne.image?Ne.image.startsWith("http")?Ne.image:`${Oa}${Ne.image}`:null,sender:Ne.user_id??Ne.sender,created_at:Ne.created_at}));console.log("→ normalized messages:",Lt),jt(Lt),ee(Ne=>({...Ne,[W.id]:0})),setTimeout(()=>{var Ne;return(Ne=yn.current)==null?void 0:Ne.scrollIntoView({behavior:"smooth"})},50)}catch(J){console.error("❌ Error fetching messages:",J),ue.error(J.message||"チャットの取得に失敗しました")}},Pr=async()=>{try{const W=localStorage.getItem("token");if(!W)throw new Error("Authentication token is missing. Please log in.");const q=Ce.filter(J=>!J.read).map(J=>J.id);if(q.length===0)return;await fetch("undefined/notifications/read",{method:"POST",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},body:JSON.stringify({notification_ids:q})}),ce(J=>J.map(de=>({...de,read:!0})))}catch(W){console.error("Error marking notifications as read:",W),ue.error(W.message||"通知の既読処理に失敗しました")}},te=W=>{const{name:q,value:J}=W.target;G(de=>({...de,[q]:J})),pe({...Ke,[q]:J})},pe=W=>{let q=[...t];W.category&&(q=q.filter(J=>J.category===W.category)),W.dateFrom&&(q=q.filter(J=>new Date(J.created_at)>=new Date(W.dateFrom))),W.dateTo&&(q=q.filter(J=>new Date(J.created_at)<=new Date(W.dateTo))),W.area&&(q=q.filter(J=>J.address.includes(W.area))),W.search&&(q=q.filter(J=>J.title.toLowerCase().includes(W.search.toLowerCase()))),o(q),Ln(q)},je=W=>{X(W),o(t.filter(q=>xe(q.created_at).isSame(W,"day")))};return s?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"読み込み中..."}):m.jsxs("div",{className:"flex min-h-screen",children:[m.jsx(Dp,{userType:(e==null?void 0:e.type)==="general"?"normal":(e==null?void 0:e.type)==="admin"?"admin":(e==null?void 0:e.type)==="city"?"city":(e==null?void 0:e.type)==="company"?"company":"normal",onSectionChange:A}),m.jsxs("div",{className:"flex-1 p-6 bg-gray-100 relative",children:[m.jsx("div",{className:"absolute top-4 right-4 z-10",children:m.jsxs("button",{onClick:()=>{$e(!0),Pr()},className:"relative text-gray-600 hover:text-gray-800",children:[m.jsx(JR,{className:"h-6 w-6"}),Ce.filter(W=>!W.read).length>0&&m.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:Ce.filter(W=>!W.read).length})]})}),C==="createReport"&&m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:k?"レポート編集":"新規レポート作成"}),m.jsxs("form",{onSubmit:Wn,className:"bg-white p-6 rounded-lg shadow-lg",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"タイトル"}),m.jsx("input",{type:"text",name:"title",value:d.title,onChange:fn,className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"説明"}),m.jsx("textarea",{name:"description",value:d.description,onChange:fn,className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"カテゴリ"}),m.jsxs("select",{name:"category",value:d.category,onChange:fn,className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500",required:!0,children:[m.jsx("option",{value:"",children:"選択してください"}),m.jsxs("optgroup",{label:"市の管轄",children:[m.jsx("option",{value:"road",children:"道路（市管轄）"}),m.jsx("option",{value:"sidewalk",children:"歩道（市管轄）"}),m.jsx("option",{value:"traffic_light",children:"信号（市管轄）"}),m.jsx("option",{value:"sign",children:"標識（市管轄）"}),m.jsx("option",{value:"streetlight",children:"街灯（市管轄）"}),m.jsx("option",{value:"park",children:"公園（市管轄）"}),m.jsx("option",{value:"garbage",children:"不法投棄・清掃（市管轄）"}),m.jsx("option",{value:"water",children:"側溝・水路（市管轄）"}),m.jsx("option",{value:"tree",children:"街路樹・雑草（市管轄）"}),m.jsx("option",{value:"other",children:"その他"})]})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"画像（複数選択可）"}),m.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:on,className:"w-full px-3 py-2 border rounded"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"都道府県"}),m.jsx("input",{type:"text",name:"prefecture",value:d.prefecture,onChange:fn,className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"市区町村"}),m.jsx("input",{type:"text",name:"city",value:d.city,onChange:fn,className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"番地"}),m.jsx("input",{type:"text",name:"addressLine1",value:d.addressLine1,onChange:fn,className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"その他（建物名など）"}),m.jsx("input",{type:"text",name:"addressLine2",value:d.addressLine2,onChange:fn,className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"地図上で位置を選択してください"}),m.jsx("div",{id:"map-create",className:"map-container w-full",style:{height:"400px"}})]}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:k?"更新":"作成"}),k&&m.jsx("button",{type:"button",onClick:Zn,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"キャンセル"})]})]})]}),(C==="reportList"||C==="myReports")&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:C==="myReports"?"マイレポート":"レポート一覧"}),m.jsx("div",{className:"mb-4 bg-white p-6 rounded-lg shadow-lg",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"カテゴリ"}),m.jsxs("select",{name:"category",value:Ke.category,onChange:te,className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"",children:"すべて"}),m.jsxs("optgroup",{label:"市の管轄",children:[m.jsx("option",{value:"road",children:"道路（市管轄）"}),m.jsx("option",{value:"sidewalk",children:"歩道（市管轄）"}),m.jsx("option",{value:"traffic_light",children:"信号（市管轄）"}),m.jsx("option",{value:"sign",children:"標識（市管轄）"}),m.jsx("option",{value:"streetlight",children:"街灯（市管轄）"}),m.jsx("option",{value:"park",children:"公園（市管轄）"}),m.jsx("option",{value:"garbage",children:"不法投棄・清掃（市管轄）"}),m.jsx("option",{value:"water",children:"側溝・水路（市管轄）"}),m.jsx("option",{value:"tree",children:"街路樹・雑草（市管轄）"}),m.jsx("option",{value:"other",children:"その他"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"投稿日（開始）"}),m.jsx("input",{type:"date",name:"dateFrom",value:Ke.dateFrom,onChange:te,className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"投稿日（終了）"}),m.jsx("input",{type:"date",name:"dateTo",value:Ke.dateTo,onChange:te,className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"エリア"}),m.jsx("input",{type:"text",name:"area",value:Ke.area,onChange:te,className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500",placeholder:"例: 東京都"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-gray-700 mb-2",children:"タイトル検索"}),m.jsx("input",{type:"text",name:"search",value:Ke.search,onChange:te,className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500",placeholder:"タイトルを入力"})]})]})}),Array.isArray(r)&&r.length>0?m.jsxs("table",{className:"w-full bg-white shadow rounded overflow-hidden",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"bg-gray-100 text-left px-4 py-2 font-semibold text-gray-700",children:"ID"}),m.jsx("th",{className:"bg-gray-100 text-left px-4 py-2 font-semibold text-gray-700",children:"タイトル"}),m.jsx("th",{className:"bg-gray-100 text-left px-4 py-2 font-semibold text-gray-700",children:"説明"}),m.jsx("th",{className:"bg-gray-100 text-left px-4 py-2 font-semibold text-gray-700",children:"カテゴリ"}),m.jsx("th",{className:"bg-gray-100 text-left px-4 py-2 font-semibold text-gray-700",children:"ステータス"}),m.jsx("th",{className:"bg-gray-100 text-left px-4 py-2 font-semibold text-gray-700",children:"作成日"}),m.jsx("th",{className:"bg-gray-100 text-left px-4 py-2 font-semibold text-gray-700",children:"チャット"})]})}),m.jsx("tbody",{children:r.map(W=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-4 py-2 border-t",children:W.id}),m.jsx("td",{className:"px-4 py-2 border-t",children:m.jsx("span",{className:"text-gray-800",children:W.title})}),m.jsx("td",{className:"px-4 py-2 border-t",children:W.description}),m.jsx("td",{className:"px-4 py-2 border-t",children:el[W.category]||W.category}),m.jsx("td",{className:"px-4 py-2 border-t",children:W.user_id===e.id?m.jsx("select",{value:W.status,onChange:q=>ii(W.id,q.target.value),className:`px-2 py-1 rounded focus:ring-2 focus:ring-blue-500 status-${W.status}`,disabled:W.status!=="resolved"&&W.status!=="confirmed",children:Object.entries(gS).map(([q,J])=>m.jsx("option",{value:q,children:J},q))}):m.jsx("span",{className:`status-${W.status}`,children:gS[W.status]||W.status})}),m.jsx("td",{className:"px-4 py-2 border-t",children:new Date(W.created_at).toLocaleDateString()}),m.jsx("td",{className:"px-4 py-2 border-t",children:m.jsx("button",{onClick:()=>Ht(W,"chat"),className:"text-green-500 hover:text-green-700",children:"チャット"})})]},W.id))})]}):m.jsx("p",{className:"text-gray-600",children:"レポートがありません"})]}),C==="mapView"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"マップ表示"}),m.jsx("div",{id:"map-view",className:"map-container h-[600px] w-full"})]}),C==="calendarView"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"カレンダービュー"}),m.jsx(TB,{onChange:je,value:ye,tileContent:({date:W})=>{const q=t.filter(J=>xe(J.created_at).isSame(W,"day")).length;return q>0?m.jsx("div",{className:"text-red-500 text-xs",children:q}):null},className:"w-full max-w-2xl mx-auto border rounded-lg"}),m.jsxs("div",{className:"mt-4",children:[m.jsxs("h3",{className:"text-xl font-semibold",children:[xe(ye).format("YYYY年MM月DD日")," のレポート"]}),r.length>0?m.jsx("ul",{className:"mt-2",children:r.map(W=>m.jsx("li",{className:"p-2 border-b",children:m.jsx("button",{onClick:()=>Ht(W),className:"text-blue-500 hover:underline",children:W.title})},W.id))}):m.jsx("p",{className:"text-gray-600",children:"この日のレポートはありません"})]})]}),m.jsx(Nn,{appear:!0,show:$,as:T.Fragment,children:m.jsxs(Pn,{as:"div",className:"relative z-50",onClose:()=>Q(!1),children:[m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),m.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:m.jsxs(Pn.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left shadow-xl transition-all",children:[m.jsx(Pn.Title,{as:"h3",className:"text-lg font-medium text-gray-900",children:M==null?void 0:M.title}),m.jsx("div",{className:"mt-4 flex border-b"}),m.jsxs("div",{className:"mt-4",children:[le==="details"&&m.jsx("div",{}),le==="chat"&&m.jsxs("div",{className:"mt-4 flex flex-col h-96 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[Ue.length>0?Ue.map((W,q)=>{const J=W.sender===e.id;return m.jsx("div",{className:`flex ${J?"justify-end":"justify-start"}`,children:m.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-2xl shadow text-sm ${J?"bg-blue-500 text-white":"bg-white text-gray-800"}`,children:[W.text&&m.jsx("p",{children:W.text}),W.image&&m.jsx("img",{src:W.image,alt:"",className:"mt-2 w-40 h-auto rounded"}),m.jsx("div",{className:"text-xs mt-1 text-right opacity-60",children:new Date(W.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},W.id||q)}):m.jsx("p",{className:"text-center text-gray-500",children:"メッセージがありません"}),m.jsx("div",{ref:yn})]}),m.jsxs("div",{className:"p-4 border-t bg-white flex items-center space-x-2",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:W=>St(W.target.files[0]),className:"mr-2"}),m.jsx("input",{type:"text",value:He,onChange:W=>Se(W.target.value),onKeyDown:W=>{W.key==="Enter"&&(W.preventDefault(),ot())},className:"flex-1 px-3 py-2 border rounded-l-lg focus:ring-2 focus:ring-blue-500",placeholder:"メッセージを入力..."}),m.jsx("button",{onClick:ot,className:"bg-blue-500 text-white px-4 py-2 rounded-r-lg hover:bg-blue-600",children:"送信"})]})]}),le==="company"&&m.jsx("div",{})]}),m.jsx("div",{className:"mt-4 text-right",children:m.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"閉じる"})})]})})})})]})}),m.jsx(qs,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})]})}const O5=(e=[])=>e.map(t=>{const n=t.properties??t;if(!(t.geometry&&Array.isArray(t.geometry.coordinates)&&t.geometry.coordinates.length===2&&!isNaN(t.geometry.coordinates[0])&&!isNaN(t.geometry.coordinates[1]))){const o=n.lat??n.latitude??n.lat_deg??n.Latitude??n.LAT??null,s=n.lng??n.lon??n.longitude??n.long_deg??n.Longitude??n.LON??null;o!==null&&s!==null&&!isNaN(parseFloat(o))&&!isNaN(parseFloat(s))&&(t.geometry={type:"Point",coordinates:[Number(s),Number(o)]})}return!n.geometry&&t.geometry&&(n.geometry=t.geometry),t});function M5(){const[e,t]=T.useState([]),[n,r]=T.useState({category:"",status:"",area:"",dateFrom:"",dateTo:"",search:""}),[o,s]=T.useState(1),[l,d]=T.useState(1),[h,g]=T.useState(!1),[v,y]=T.useState([]);return{reports:e,filters:n,setFilters:r,loading:h,page:o,setPage:s,totalPages:l,fetchReports:async(b=1,P=n)=>{g(!0);try{const C=localStorage.getItem("token"),A=new URLSearchParams(Object.fromEntries(Object.entries({...P,page:b}).filter(([,$])=>$!==""))),k=await fetch(`undefined/api/city/reports?${A.toString()}`,{headers:{Authorization:`Bearer ${C}`}});if(!k.ok)throw new Error("レポートの取得に失敗しました");const O=await k.json();console.log("📦 レポートAPIレスポンス:",O),console.log("🔍 area フィルター値:",P.area);const M=O5(O.features||[]);t(M),s(b),d(O.total_pages||1);const F=[...new Set(M.map($=>($.properties??$).category).filter(Boolean))];y(F)}catch(C){console.error("レポート取得エラー:",C),t([])}finally{g(!1)}},categoriesInReports:v}}function D5(){const[e,t]=T.useState([]),[n,r]=T.useState(1),[o,s]=T.useState(1),[l,d]=T.useState(!1);return{assignments:e,loading:l,page:n,setPage:r,totalPages:o,fetchAssignments:async(g=1)=>{d(!0);try{const v=localStorage.getItem("token"),y=await fetch(`undefined/api/city/assignments?page=${g}`,{headers:{Authorization:`Bearer ${v}`}});if(!y.ok)throw new Error("Failed to fetch assignments");const x=await y.json(),b=Array.isArray(x)?x:x.assignments||[];t(b),s(x.total_pages||1),r(g)}catch(v){console.error("Error fetching assignments:",v)}finally{d(!1)}}}}const A5=(e="city")=>{const[t,n]=T.useState([]),[r,o]=T.useState([]),[s,l]=T.useState(!1),d=async()=>{l(!0);try{const g=localStorage.getItem("token"),y=await fetch(`undefined/api/${e==="company"?"company":"city"}/areas`,{method:"GET",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(!y.ok){const b=await y.json();throw new Error(`Failed to fetch areas: ${b.detail||y.status}`)}const x=await y.json();if(!Array.isArray(x))throw new Error("Unexpected area response: not an array");console.log("🎯 fetched areas:",x),n(x)}catch(g){console.error("Error fetching areas:",g.message),ue.error(g.message||"エリアの取得に失敗しました"),n([])}finally{l(!1)}},h=g=>{n(g)};return T.useEffect(()=>{d()},[]),{areas:t,categories:r,updateAreas:h,fetchAreas:d,loading:s}};var eT={exports:{}};(function(e,t){(function(n,r){r()})(Xn,function(){function n(g,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function r(g,v,y){var x=new XMLHttpRequest;x.open("GET",g),x.responseType="blob",x.onload=function(){h(x.response,v,y)},x.onerror=function(){console.error("could not download file")},x.send()}function o(g){var v=new XMLHttpRequest;v.open("HEAD",g,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function s(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(v)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Xn=="object"&&Xn.global===Xn?Xn:void 0,d=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(g,v,y){var x=l.URL||l.webkitURL,b=document.createElement("a");v=v||g.name||"download",b.download=v,b.rel="noopener",typeof g=="string"?(b.href=g,b.origin===location.origin?s(b):o(b.href)?r(g,v,y):s(b,b.target="_blank")):(b.href=x.createObjectURL(g),setTimeout(function(){x.revokeObjectURL(b.href)},4e4),setTimeout(function(){s(b)},0))}:"msSaveOrOpenBlob"in navigator?function(g,v,y){if(v=v||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(n(g,y),v);else if(o(g))r(g,v,y);else{var x=document.createElement("a");x.href=g,x.target="_blank",setTimeout(function(){s(x)})}}:function(g,v,y,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof g=="string")return r(g,v,y);var b=g.type==="application/octet-stream",P=/constructor/i.test(l.HTMLElement)||l.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||b&&P||d)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var M=A.result;M=C?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=M:location=M,x=null},A.readAsDataURL(g)}else{var k=l.URL||l.webkitURL,O=k.createObjectURL(g);x?x.location=O:location.href=O,x=null,setTimeout(function(){k.revokeObjectURL(O)},4e4)}});l.saveAs=h.saveAs=h,e.exports=h})})(eT);var j5=eT.exports;const c_=void 0;function I5(){const{user:e}=Js(),[t,n]=T.useState(""),[r,o]=T.useState([]),[s,l]=T.useState(!1),d=async()=>{l(!0);try{const v=localStorage.getItem("token"),y=await fetch(`${c_}/api/city/linked_companies`,{headers:{Authorization:`Bearer ${v}`}});if(!y.ok)throw new Error("連携企業一覧の取得に失敗しました");const x=await y.json();o(x)}catch(v){console.error(v),ue.error(v.message)}finally{l(!1)}};T.useEffect(()=>{d()},[]);const h=async v=>{v.preventDefault();const y=t.trim();if(!y){ue.error("企業の組織コードを入力してください (例: C-123ABC)");return}try{console.log("→ 送信する code:",y);const x=localStorage.getItem("token"),b=await fetch(`${c_}/api/city/linked_companies`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({code:y})});if(!b.ok){const P=await b.json().catch(()=>({}));throw new Error(P.detail||"連携に失敗しました")}ue.success("企業と連携しました"),n(""),await d()}catch(x){console.error(x),ue.error(x.message)}},g=async v=>{if(window.confirm("この企業との連携を解除しますか？"))try{const y=localStorage.getItem("token"),x=await fetch(`${c_}/api/city/linked_companies/${v}`,{method:"DELETE",headers:{Authorization:`Bearer ${y}`}});if(!x.ok){const b=await x.json().catch(()=>({}));throw new Error(b.detail||"解除に失敗しました")}ue.success("連携を解除しました"),await d()}catch(y){console.error(y),ue.error(y.message)}};return m.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"企業連携（市向け）"}),m.jsxs("form",{onSubmit:h,className:"mb-6 flex space-x-2",children:[m.jsx("input",{type:"text",placeholder:"企業の組織コードを入力 (例: C-ABC123)",value:t,onChange:v=>n(v.target.value),className:"flex-1 px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500","aria-label":"企業の組織コード入力"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"連携"})]}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:"連携済み企業一覧"}),s?m.jsx("p",{children:"読み込み中..."}):r.length>0?m.jsx("ul",{className:"space-y-2",children:r.map(v=>m.jsxs("li",{className:"flex justify-between items-center p-3 border rounded",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:v.name}),m.jsxs("p",{className:"text-sm text-gray-500",children:["コード: ",v.code]})]}),m.jsx("button",{onClick:()=>g(v.id),className:"text-red-500 hover:underline","aria-label":`${v.name} との連携を解除`,children:"解除"})]},v.id))}):m.jsx("p",{children:"連携先企業がいません"}),m.jsx(qs,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}const Ul=void 0,Nf={new:"新規",resolved:"解決済み",ignored:"対応不要",shared:"共有済み"};class R5 extends T.Component{constructor(){super(...arguments);pg(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("Error caught in ErrorBoundary:",n,r)}render(){return this.state.hasError?m.jsxs("div",{className:"p-6 text-red-500",children:[m.jsx("h2",{children:"エラーが発生しました"}),m.jsx("p",{children:"ページをリロードするか、サポートにお問い合わせください。"})]}):this.props.children}}const F5=Mn.icon({iconUrl:"/marker-report.svg",iconSize:[30,40],iconAnchor:[15,40],popupAnchor:[0,-40]});function B5(){var Ci;const{user:e}=Js(),{companies:t}=AR(),n=H=>{const oe={...H};return ce.length&&(oe.areaKeywords=ce.join("|")),H.area&&(oe.areaKeywords=H.area),oe.dateFrom&&(oe.date_from=oe.dateFrom),oe.dateTo&&(oe.date_to=oe.dateTo),oe},r=H=>oe=>{const _e={...Me,[H]:oe.target.value};Pt(_e),Ye(1),zt(1,n(_e))},[o,s]=T.useState("handleReports"),[l,d]=T.useState(!1),[h,g]=T.useState(null),[v,y]=T.useState(!1),[x,b]=T.useState(""),[P,C]=T.useState(!1),[A,k]=T.useState(""),[O,M]=T.useState(""),[F,$]=T.useState(""),[Q,ie]=T.useState("pin"),ee=T.useRef(null),Ce=T.useRef(null),[ce,Re]=T.useState([]),[$e,le]=T.useState(!1),[me,ze]=T.useState(!1),[be,Ke]=T.useState([]),[G,ye]=T.useState([]),[X,ge]=T.useState(null),[De,Qe]=T.useState(""),[Ue,He]=T.useState(""),[Se,vt]=T.useState(null);T.useEffect(()=>{const H=localStorage.getItem("token");if(!H){le(!0);return}async function oe(){try{console.log("⚡️ fetch initial filter");const _e=await fetch(`${Ul}/api/city/filter/cities`,{headers:{Authorization:`Bearer ${H}`}});if(!_e.ok)throw new Error(_e.statusText);const Fe=await _e.json();console.log("✅ initial selected_cities:",Fe.selected_cities),Re(Fe.selected_cities||[])}catch(_e){console.error("フィルタ復元エラー",_e)}finally{le(!0)}}oe()},[]);const St=async H=>{Re(H);const oe=localStorage.getItem("token");if(oe)try{console.log("➡️ POST /filter/cities",H),await fetch(`${Ul}/api/city/filter/cities`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${oe}`},body:JSON.stringify({selected_cities:H})}),console.log("➡️ GET /filter/cities");const Fe=await(await fetch(`${Ul}/api/city/filter/cities`,{headers:{Authorization:`Bearer ${oe}`}})).json();console.log("▶ reports API raw data:",Fe),console.log("GET result:",Fe),Re(Fe.selected_cities||[])}catch(_e){console.error("❌ updateCities error:",_e)}},jt=H=>{const oe=ce.includes(H)?ce.filter(_e=>_e!==H):[...ce,H];St(oe)},{reports:yn,categoriesInReports:ot,loading:Et,page:mt,setPage:Ye,totalPages:Ln,filters:Me,setFilters:Pt,fetchReports:zt}=M5(),[Zr,fn]=T.useState(!1);T.useEffect(()=>{if(!["reportList","handleReports","mapView"].includes(o))return;if(ce.length===0){fn(!0);return}fn(!1);const H=n(Me);zt(1,H)},[o,ce,Me]);const on=Zr?[]:yn,Wn=Zr?0:Ln,{assignments:Zn,loading:ii,page:Ht,setPage:Pr,totalPages:te,fetchAssignments:pe}=D5(),{areas:je,updateAreas:W,fetchAreas:q,error:J}=A5(),{categories:de,addCategory:ke,updateCategory:Ie}=_C(),Lt=async()=>{if(!(h!=null&&h.id)){ue.error("レポートIDが設定されていません");return}const H=`${Ul}/api/city/assign?report_id=${h.id}`,oe={org_id:e.org_id,company_ids:G,attachments:be};console.log("🔍 [DEBUG] assign ペイロード:",JSON.stringify(oe));try{const _e=localStorage.getItem("token");if(!_e)throw new Error("認証トークンが見つかりません");const Fe=await fetch(H,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_e}`},body:JSON.stringify(oe)}),Be=await Fe.json().catch(()=>({}));if(console.log("🔍 [DEBUG] assign レスポンス JSON:",JSON.stringify(Be,null,2)),!Fe.ok){const it=Array.isArray(Be.detail)?Be.detail.map($t=>JSON.stringify($t)).join(`
`):Be.detail||"共有に失敗しました";ue.error(it);return}ue.success("レポートを企業に共有しました"),ze(!1),zt(mt,Me)}catch(_e){console.error("handleShareSubmit error:",_e),ue.error(_e.message||"企業共有に失敗しました")}},Ne=async(H,oe)=>{if(!confirm(`ステータスを「${oe}」に変更しますか？`))return;const _e=localStorage.getItem("token");if(!_e)throw new Error("認証トークンが見つかりません");const Fe=await fetch(`${Ul}/api/city/reports/${H.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_e}`},body:JSON.stringify(oe)});console.log("[DEBUG] Status change response status:",Fe.status);const Be=await Fe.clone().json().catch(()=>null);if(console.log("[DEBUG] Status change response JSON:",Be),Be!=null&&Be.detail&&ue.error(JSON.stringify(Be.detail)),!Fe.ok){const it=JSON.stringify(Be,null,2);console.error("PATCH error detail 👉",it),ue.error(it),ue.error(JSON.stringify(Be.detail??Be));return}ue.success("ステータスを更新しました"),zt(mt,Me),pe(Ht)},Dn=async()=>{try{const H=localStorage.getItem("token");if(!H)throw new Error("認証トークンが見つかりません");const oe=new URLSearchParams({...Me.category&&{category:Me.category},...Me.status&&{status:Me.status},...Me.area&&{area:Me.area},...Me.dateFrom&&{date_from:Me.dateFrom},...Me.dateTo&&{date_to:Me.dateTo},...Me.search&&{search:Me.search},org_id:e.org_id}).toString(),_e=await fetch(`undefined/export/reports?${oe}`,{headers:{Authorization:`Bearer ${H}`}});if(!_e.ok){const Be=await _e.json().catch(()=>({}));throw new Error(Be.detail||"CSVエクスポートに失敗しました")}const Fe=await _e.blob();j5.saveAs(Fe,`reports_${new Date().toISOString().split("T")[0]}.csv`),ue.success("CSVをエクスポートしました")}catch(H){console.error("Error exporting CSV:",H),ue.error(H.message||"CSVのエクスポートに失敗しました")}},It=()=>{if(ee.current&&(ee.current.remove(),ee.current=null),!document.getElementById("map-view")){console.warn("Map container not found, retrying..."),setTimeout(It,100);return}try{const oe=Mn.map("map-view").setView([35.6895,139.6917],10);Mn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(oe);const _e=(yn||[]).filter(Fe=>{const Be=Fe.properties||Fe,it=!Me.category||Be.category===Me.category,$t=!Me.dateFrom||new Date(Be.created_at)>=new Date(Me.dateFrom),bn=!Me.dateTo||new Date(Be.created_at)<=new Date(Me.dateTo),At=!Me.search||Be.title&&Be.title.includes(Me.search),Te=!Me.area||Be.address&&Be.address.toLowerCase().includes(Me.area.toLowerCase());return it&&$t&&bn&&At&&Te});if(Q==="pin"){const Fe=Mn.markerClusterGroup();_e.forEach(Be=>{var ki;const it=(ki=Be.geometry)==null?void 0:ki.coordinates;if(!it||it.length!==2||isNaN(it[0])||isNaN(it[1])){console.warn(`Invalid coordinates for report ID ${Be.id||"unknown"}`);return}const[$t,bn]=it,At=Be.properties||Be,Te=Mn.marker([bn,$t],{icon:F5,reportId:At.id});Te.bindPopup(`
            <div style="max-width: 240px;">
              <strong>${el[At.category]||At.category||"カテゴリ不明"}</strong><br>
              <p>${At.description||"説明なし"}</p>
              <p><strong>住所:</strong> ${At.address||"不明"}</p>
              <p><strong>ステータス:</strong> ${Nf[At.status]||"不明"}</p>
              ${At.image_paths&&At.image_paths.length>0?m.jsx("img",{src:`undefined/static/uploads/${At.image_paths[0]}`,alt:"画像",style:{width:"100%",height:"auto",marginTop:"8px",borderRadius:"4px"}}):""}
            </div>
          `),Fe.addLayer(Te)}),oe.addLayer(Fe),Ce.current=Fe}else if(Q==="heatmap"){const Fe=_e.map(Be=>{var At;const it=(At=Be.geometry)==null?void 0:At.coordinates;if(!it||it.length!==2||isNaN(it[0])||isNaN(it[1]))return null;const[$t,bn]=it;return[bn,$t,1]}).filter(Boolean);Fe.length>0?Mn.heatLayer(Fe,{radius:25,blur:15,maxZoom:17}).addTo(oe):console.warn("No valid data for heatmap")}(Array.isArray(je)?je:[]).forEach(Fe=>{Fe.lat&&Fe.lng&&!isNaN(Fe.lat)&&!isNaN(Fe.lng)&&Mn.circleMarker([Fe.lat,Fe.lng],{radius:8,color:"red",fillColor:"#f03",fillOpacity:.5}).addTo(oe).bindPopup(`エリア: ${Fe.name}`)}),X&&(oe.setView(X,16,{animate:!0}),Se&&Ce.current&&Ce.current.eachLayer(Fe=>{var Be;((Be=Fe.options)==null?void 0:Be.reportId)===Se&&Fe.openPopup()}),vt(null)),ee.current=oe}catch(oe){console.error("Failed to initialize map:",oe),ue.error("マップの初期化に失敗しました")}},Nt=H=>{const oe=H.properties||H,_e={id:oe.id??null,title:oe.title??"不明",description:oe.description??"不明",address:oe.address??"不明",category:oe.category??"不明",status:oe.status??"不明",user:oe.user??{name:"不明"},created_at:oe.created_at??new Date().toISOString(),image_paths:Array.isArray(oe.image_paths)?oe.image_paths:[],geometry:oe.geometry??{coordinates:[null,null]}};g(_e),d(!0)},ht=H=>{Ye(H),zt(H,n(Me))},pr=H=>{Pr(H),pe(H)},Jt=()=>{if(!x.trim()){ue.error("カテゴリ名を入力してください");return}ke(x),b(""),y(!1)},Xt=async()=>{if(!A.trim()){ue.error("エリア名を入力してください");return}try{const H=localStorage.getItem("token");if(!H)throw new Error("認証トークンが見つかりません");const oe={name:A.trim(),lat:O?parseFloat(O):null,lng:F?parseFloat(F):null},_e=await fetch("undefined/api/city/areas",{method:"POST",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"},body:JSON.stringify(oe)});if(!_e.ok){const Be=await _e.json().catch(()=>({}));throw new Error(Be.detail||`エリア追加に失敗しました: ${_e.status}`)}const Fe=await _e.json();W([...je,Fe]),ue.success("エリアを追加しました"),k(""),M(""),$(""),C(!1)}catch(H){console.error("Error adding area:",H),ue.error(H.message||"エリアの追加に失敗しました")}};return T.useEffect(()=>{if(o==="mapView"&&Q!=="stats"){const H=setTimeout(()=>{yn.length>0&&It()},100);return()=>clearTimeout(H)}},[o,Q,yn,je]),m.jsx(R5,{children:m.jsxs("div",{className:"flex min-h-screen",children:[m.jsx(Dp,{userType:"city",onSectionChange:s}),m.jsx("div",{className:"flex-1 p-6 bg-gray-100",children:o==="companyLink"?m.jsx(I5,{}):m.jsxs(m.Fragment,{children:[["reportList","handleReports","mapView"].includes(o)?m.jsxs("div",{className:"mb-6 bg-white p-6 rounded-lg shadow-lg",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:"フィルタ"}),Et?m.jsx("div",{className:"text-center",children:"フィルタを読み込み中..."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"category",className:"block text-gray-700 mb-2",children:"カテゴリ"}),m.jsxs("select",{id:"category",name:"category",value:Me.category,onChange:r("category"),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500","aria-label":"カテゴリフィルタ",children:[m.jsx("option",{value:"",children:"すべて"}),(ot||[]).map(H=>m.jsx("option",{value:H,children:el[H]||H},H))]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"status",className:"block text-gray-700 mb-2",children:"ステータス"}),m.jsxs("select",{id:"status",name:"status",value:Me.status,onChange:r("status"),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500","aria-label":"ステータスフィルタ",children:[m.jsx("option",{value:"",children:"すべて"}),m.jsx("option",{value:"new",children:"新規"}),m.jsx("option",{value:"resolved",children:"解決済み"}),m.jsx("option",{value:"ignored",children:"対応不要"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"area",className:"block text-gray-700 mb-2",children:"エリア"}),J?m.jsxs("div",{className:"text-red-500 text-sm",children:["エリアの読み込みに失敗しました",m.jsx("button",{onClick:q,className:"ml-2 text-blue-500 hover:underline","aria-label":"エリアの再読み込み",children:"再試行"})]}):m.jsxs("select",{id:"area",name:"area",value:Me.area,onChange:r("area"),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500","aria-label":"エリアフィルタ",children:[m.jsx("option",{value:"",children:"すべて"}),(Array.isArray(je)?je:[]).map(H=>m.jsx("option",{value:H.name,children:H.name},H.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"monthSelect",className:"block text-gray-700 mb-2",children:"月で絞り込み"}),m.jsx("input",{id:"monthSelect",type:"month",value:((Ci=Me.dateFrom)==null?void 0:Ci.slice(0,7))||"",onChange:H=>{const[oe,_e]=H.target.value.split("-"),Fe=`${oe}-${_e}-01`,Be=new Date(oe,_e,0).toISOString().split("T")[0],it={...Me,dateFrom:Fe,dateTo:Be};Pt(it),Ye(1),zt(1,{...it,...it.dateFrom&&{date_from:it.dateFrom},...it.dateTo&&{date_to:it.dateTo}})},className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"月選択フィルタ"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"dateFrom",className:"block text-gray-700 mb-2",children:"投稿日（開始）"}),m.jsx("input",{id:"dateFrom",name:"dateFrom",type:"date",value:Me.dateFrom,onChange:H=>{const oe={...Me,dateFrom:H.target.value};Pt(oe),Ye(1),zt(1,{...oe,...oe.dateFrom&&{date_from:oe.dateFrom},...oe.dateTo&&{date_to:oe.dateTo}})},className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"dateTo",className:"block text-gray-700 mb-2",children:"投稿日（終了）"}),m.jsx("input",{id:"dateTo",name:"dateTo",type:"date",value:Me.dateTo,onChange:H=>{const oe={...Me,dateTo:H.target.value};Pt(oe),Ye(1),zt(1,{...oe,...oe.dateFrom&&{date_from:oe.dateFrom},...oe.dateTo&&{date_to:oe.dateTo}})},className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{htmlFor:"search",className:"block text-gray-700 mb-1",children:"タイトル検索"}),m.jsx("div",{className:"flex",children:m.jsx("input",{id:"search",type:"text",value:Me.search,onChange:H=>Pt(oe=>({...oe,search:H.target.value})),onKeyDown:H=>{H.key==="Enter"&&(Ye(1),zt(1,Me))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-l focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"タイトルを入力"})})]}),m.jsxs("div",{className:"mt-4 flex space-x-4",children:[m.jsx("button",{onClick:()=>{const H={category:"",status:"",area:"",dateFrom:"",dateTo:"",search:""};Pt(H),Ye(1),zt(1,H)},className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"フィルタをリセット"}),m.jsx("button",{onClick:()=>{Ye(1),zt(1,Me)},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"検索"}),m.jsx("button",{onClick:Dn,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"CSVエクスポート"})]})]})]}):null,o==="assignments"?m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"割り当て済みレポート"}),ii&&Ht===1?m.jsx("div",{className:"text-center",children:"読み込み中..."}):Zn.length>0?m.jsxs(m.Fragment,{children:[m.jsxs("table",{className:"w-full bg-white shadow rounded overflow-hidden",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-100",children:[m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"ID"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"レポートタイトル"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"割り当て企業"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"ステータス"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"作成日"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"詳細"})]})}),m.jsx("tbody",{children:Zn.map(H=>m.jsxs("tr",{className:"border-t",children:[m.jsx("td",{className:"px-4 py-2",children:H.report_id}),m.jsx("td",{className:"px-4 py-2",children:H.title||"-"}),m.jsx("td",{className:"px-4 py-2",children:H.company_name||"-"}),m.jsx("td",{className:"px-4 py-2",children:m.jsx("span",{className:H.status==="new"?"status-new text-blue-500":H.status==="resolved"?"status-resolved text-green-500":H.status==="ignored"?"status-ignored text-gray-500":"status-shared text-purple-500",children:Nf[H.status]||"不明"})}),m.jsx("td",{className:"px-4 py-2",children:H.created_at?new Date(H.created_at).toLocaleDateString():"-"}),m.jsx("td",{className:"px-4 py-2",children:m.jsx("button",{onClick:()=>Nt({...H,id:H.report_id}),className:"text-blue-500 hover:underline","aria-label":`レポート ${H.title||"ID "+H.report_id} の詳細を表示`,children:"詳細"})})]},`${H.report_id}-${H.company_id}`))})]}),m.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[m.jsx("button",{onClick:()=>pr(Ht-1),disabled:Ht===1,className:"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-300",children:"前へ"}),m.jsxs("span",{children:["ページ ",Ht," / ",te]}),m.jsx("button",{onClick:()=>pr(Ht+1),disabled:Ht===te,className:"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-300",children:"次へ"})]})]}):m.jsx("p",{className:"text-gray-600",children:"割り当て済みレポートがありません"})]}):null,["reportList","handleReports"].includes(o)?m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:["レポート",o==="reportList"?"一覧":"対応"]}),m.jsxs("table",{className:"w-full bg-white shadow rounded overflow-hidden",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-100",children:[m.jsx("th",{className:"px-4 py-2 text-left",children:"ID"}),m.jsx("th",{className:"px-4 py-2 text-left",children:"タイトル"}),m.jsx("th",{className:"px-4 py-2 text-left",children:"ステータス"}),m.jsx("th",{className:"px-4 py-2 text-left",children:"作成日"}),m.jsx("th",{className:"px-4 py-2 text-left",children:"住所"}),m.jsx("th",{className:"px-4 py-2 text-left",children:"操作"}),m.jsx("th",{className:"px-4 py-2 text-left",children:"詳細/チャット"})]})}),m.jsx("tbody",{children:on.map((H,oe)=>{var Fe,Be,it;const _e=H.properties||H;return console.log(`[row ${oe}] id=${_e.id}`,"address=",_e.address,"coords=",(Fe=_e.geometry)==null?void 0:Fe.coordinates),m.jsxs("tr",{className:"border-t",children:[m.jsx("td",{className:"px-4 py-2",children:_e.id}),m.jsx("td",{className:"px-4 py-2",children:_e.title}),m.jsx("td",{className:"px-4 py-2",children:m.jsx("span",{className:_e.status==="new"?"text-blue-500":_e.status==="resolved"?"text-green-500":_e.status==="ignored"?"text-gray-500":"text-purple-500",children:Nf[_e.status]||"不明"})}),m.jsx("td",{className:"px-4 py-2",children:_e.created_at?new Date(_e.created_at).toLocaleDateString():"-"}),m.jsx("td",{className:"px-4 py-2",children:((it=(Be=_e.geometry)==null?void 0:Be.coordinates)==null?void 0:it.length)===2?m.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:()=>{const[$t,bn]=_e.geometry.coordinates;if(console.log("📍 click coords",{id:_e.id,lng:$t,lat:bn}),isNaN(bn)||isNaN($t)||bn===null||$t===null){ue.error("このレポートには座標がありません");return}ge([bn,$t]),vt(_e.id),ie("pin"),s("mapView")},children:_e.address||"位置を表示"}):"—"}),m.jsx("td",{className:"px-4 py-2 flex items-center space-x-2",children:o==="handleReports"?m.jsx(m.Fragment,{children:m.jsxs("select",{value:_e.status,onChange:$t=>Ne(_e,$t.target.value),className:"border rounded px-2 py-1 focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"new",children:"新規"}),m.jsx("option",{value:"resolved",children:"解決済み"}),m.jsx("option",{value:"ignored",children:"対応不要"})]})}):null}),m.jsx("td",{className:"px-4 py-2",children:m.jsx("button",{onClick:()=>Nt(H),className:"text-blue-500 hover:underline",children:"詳細"})})]},_e.id)})})]}),m.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[m.jsx("button",{onClick:()=>ht(o==="reportList"?mt-1:Ht-1),disabled:(o==="reportList"?mt:Ht)===1,className:"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-300",children:"前へ"}),m.jsxs("span",{children:["ページ"," ",o==="reportList"?mt:Ht," /"," ",o==="reportList"?Wn:te]}),m.jsx("button",{onClick:()=>ht(o==="reportList"?mt+1:Ht+1),disabled:(o==="reportList"?mt:Ht)===(o==="reportList"?Wn:te),className:"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-300",children:"次へ"})]})]}):null,o==="mapView"?m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"マップ表示"}),m.jsxs("div",{className:"mb-4 flex space-x-4",children:[m.jsx("button",{onClick:()=>ie("pin"),className:`px-4 py-2 rounded ${Q==="pin"?"bg-blue-500 text-white":"bg-gray-300"}`,children:"ピン表示"}),m.jsx("button",{onClick:()=>ie("heatmap"),className:`px-4 py-2 rounded ${Q==="heatmap"?"bg-blue-500 text-white":"bg-gray-300"}`,children:"ヒートマップ表示"})]}),J&&m.jsxs("div",{className:"mb-4 text-red-500",children:["エリアデータの読み込みに失敗しました。マップにエリアが表示されません。",m.jsx("button",{onClick:q,className:"ml-2 text-blue-500 hover:underline","aria-label":"エリアの再読み込み",children:"再試行"})]}),m.jsx("div",{id:"map-view",className:"map-container h-[600px] w-full"})]}):null,o==="categoryManagement"?m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"カテゴリ管理"}),m.jsx("button",{onClick:()=>y(!0),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mb-4",children:"新規カテゴリ追加"}),de.length>0?m.jsxs("table",{className:"w-full bg-white shadow rounded overflow-hidden",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-100",children:[m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"ID"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"カテゴリ名"}),m.jsx("th",{scope:"col",className:"px-4 py-2 font-semibold text-gray-700 text-left",children:"操作"})]})}),m.jsx("tbody",{children:(Array.isArray(de)?de:[]).map(H=>m.jsxs("tr",{className:"border-t",children:[m.jsx("td",{className:"px-4 py-2",children:H.id}),m.jsx("td",{className:"px-4 py-2",children:H.name}),m.jsx("td",{className:"px-4 py-2",children:m.jsx("button",{onClick:()=>{const oe=prompt("新しいカテゴリ名を入力:",H.name);oe&&oe.trim()&&Ie(H.id,oe)},className:"text-blue-500 hover:underline","aria-label":`カテゴリ ${H.name} を編集`,children:"編集"})})]},H.id))})]}):m.jsx("p",{className:"text-gray-600",children:"カテゴリが登録されていません"})]}):null,o==="areaManagement"?m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"エリア管理"}),ce.length>0&&m.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:ce.map(H=>m.jsxs("span",{className:"inline-flex items-center bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:[H,m.jsx("button",{onClick:()=>jt(H),className:"ml-1 text-blue-500 hover:text-blue-700",children:"×"})]},H))}),m.jsxs("div",{className:"flex space-x-4 mb-4",children:[m.jsxs("select",{className:"border rounded px-3 py-2",value:De,onChange:H=>{var it;const oe=H.target.value;Qe(oe),He("");const _e=((it=du.find($t=>$t.name===oe))==null?void 0:it.cities)||[],Be=_e.every($t=>ce.includes($t))?ce.filter($t=>!_e.includes($t)):[...new Set([...ce,..._e])];St(Be)},children:[m.jsx("option",{value:"",children:"都道府県を選択"}),du.map(H=>m.jsx("option",{value:H.name,children:H.name},H.name))]}),De&&m.jsx("input",{className:"flex-1 border rounded px-3 py-2",placeholder:"市区町村を絞り込み",value:Ue,onChange:H=>He(H.target.value)})]}),m.jsx("div",{className:"max-h-[60vh] overflow-y-auto border rounded p-2",children:du.filter(H=>!De||H.name===De).map(H=>{const oe=H.cities,_e=oe.every(Fe=>ce.includes(Fe));return m.jsx(cu,{as:"div",className:"mb-2",children:({open:Fe})=>m.jsxs(m.Fragment,{children:[m.jsxs(cu.Button,{className:"flex w-full justify-between items-center px-4 py-2 bg-gray-100 rounded",children:[m.jsxs("label",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"checkbox",checked:_e,onChange:()=>{const Be=_e?ce.filter(it=>!oe.includes(it)):[...new Set([...ce,...oe])];St(Be)},className:"form-checkbox h-4 w-4 text-blue-600"}),m.jsx("span",{className:"font-medium",children:H.name})]}),Fe?m.jsx(xC,{className:"w-5 h-5"}):m.jsx(wC,{className:"w-5 h-5"})]}),m.jsx(cu.Panel,{className:"px-4 pt-2 pb-4",children:m.jsx("div",{className:"grid grid-cols-3 gap-2",children:oe.filter(Be=>Be.includes(Ue)).map(Be=>m.jsxs("label",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"checkbox",checked:ce.includes(Be),onChange:()=>jt(Be),className:"form-checkbox h-4 w-4 text-blue-600"}),m.jsx("span",{className:"text-sm",children:Be})]},Be))})})]})},H.name)})})]}):null,m.jsx(Nn,{appear:!0,show:me,as:T.Fragment,children:m.jsxs(Pn,{as:"div",className:"relative z-50",onClose:()=>ze(!1),children:[m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),m.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:m.jsxs(Pn.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 shadow-xl transition-all",children:[m.jsx(Pn.Title,{as:"h3",className:"text-lg font-medium mb-4",children:"レポートを企業に共有"}),m.jsx("div",{className:"max-h-48 overflow-auto mb-4",children:t.length?t.map(H=>m.jsxs("label",{className:"flex items-center space-x-2 py-1",children:[m.jsx("input",{type:"checkbox",checked:G.includes(H.id),onChange:()=>{ye(oe=>oe.includes(H.id)?oe.filter(_e=>_e!==H.id):[...oe,H.id])},className:"form-checkbox"}),m.jsx("span",{children:H.name})]},H.id)):m.jsx("p",{className:"text-gray-500",children:"企業リストがありません"})}),m.jsx("input",{type:"file",multiple:!0,onChange:H=>{const oe=Array.from(H.target.files);Promise.all(oe.map(uploadFile)).then(_e=>Ke(_e))},className:"w-full mb-4"}),m.jsxs("div",{className:"flex justify-end space-x-2",children:[m.jsx("button",{onClick:()=>ze(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"キャンセル"}),m.jsx("button",{onClick:Lt,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"共有する"})]})]})})})})]})}),h&&m.jsx(z5,{isOpen:l,onClose:()=>d(!1),report:h,user:e}),m.jsx(Nn,{appear:!0,show:v,as:T.Fragment,children:m.jsxs(Pn,{as:"div",className:"relative z-50",onClose:()=>y(!1),children:[m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),m.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",sells:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:m.jsxs(Pn.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[m.jsx(Pn.Title,{as:"h3",className:"text-lg font-medium g-6 text-gray-900",children:"新規カテゴリ追加"}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{htmlFor:"newCategory",className:"block text-gray-700 mb-2",children:"カテゴリ名"}),m.jsx("input",{id:"newCategory",type:"text",value:x,onChange:H=>b(H.target.value),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500","aria-label":"新しいカテゴリ名"})]}),m.jsxs("div",{className:"mt-4 flex space-x-4",children:[m.jsx("button",{onClick:Jt,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"追加"}),m.jsx("button",{onClick:()=>y(!1),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"キャンセル"})]})]})})})})]})}),m.jsx(Nn,{appear:!0,show:P,as:T.Fragment,children:m.jsxs(Pn,{as:"div",className:"relative z-50",onClose:()=>C(!1),children:[m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),m.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:m.jsxs(Pn.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[m.jsx(Pn.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"新規エリア追加"}),m.jsxs("div",{className:"mt-4 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"newArea",className:"block text-gray-700 mb-2",children:"エリア名"}),m.jsx("input",{id:"newArea",type:"text",value:A,onChange:H=>k(H.target.value),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500","aria-label":"新しいエリア名"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"latitude",className:"block text-gray-700 mb-2",children:"緯度"}),m.jsx("input",{id:"latitude",type:"number",step:"any",value:O,onChange:H=>M(H.target.value),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500","aria-label":"エリアの緯度"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"longitude",className:"block text-gray-700 mb-2",children:"経度"}),m.jsx("input",{id:"longitude",type:"number",step:"any",value:F,onChange:H=>$(H.target.value),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-blue-500","aria-label":"エリアの経度"})]})]}),m.jsxs("div",{className:"mt-4 flex space-x-4",children:[m.jsx("button",{onClick:Xt,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"追加"}),m.jsx("button",{onClick:()=>C(!1),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"キャンセル"})]})]})})})})]})}),m.jsx(qs,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})]})})}function z5({isOpen:e,onClose:t,report:n,user:r}){var P;const{messages:o,newMessage:s,setNewMessage:l,setMessages:d}=SC(n.id,e),[h,g]=T.useState("details"),[v,y]=T.useState(null),x=T.useRef(null),b=async()=>{if(!s.trim()&&!v){ue.error("メッセージまたは画像を入力してください");return}const C=localStorage.getItem("token");if(!C){ue.error("認証トークンが見つかりません");return}const A=`${Ul}/api/city/chats/${n.id}/messages`;console.log("[DEBUG] Chat send URL:",A),console.log("[DEBUG] Chat payload:",{text:s,file:v});const k={id:Date.now(),text:s.trim()||null,image:v?URL.createObjectURL(v):null,sender_id:r.id,created_at:new Date().toISOString()};d(M=>[...M,k]);const O=new FormData;O.append("text",s.trim()),v&&O.append("file",v);try{const M=await fetch(A,{method:"POST",headers:{Authorization:`Bearer ${C}`},body:O});console.log("[DEBUG] Chat response status:",M.status,M.statusText);const F=await M.clone().text();if(console.log("[DEBUG] Chat response body:",F),!M.ok){const $=await M.json().catch(()=>({}));throw new Error($.detail||"メッセージ送信に失敗しました")}ue.success("メッセージを送信しました"),l(""),y(null)}catch(M){console.error("メッセージ送信エラー:",M),ue.error(M.message||"メッセージの送信に失敗しました"),d(F=>F.filter($=>$.created_at!==k.created_at))}};return T.useEffect(()=>{var C;(C=x.current)==null||C.scrollIntoView({behavior:"smooth"})},[o]),m.jsx(Nn,{appear:!0,show:e,as:T.Fragment,children:m.jsxs(Pn,{as:"div",className:"relative z-50",onClose:t,children:[m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),m.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:m.jsx(Nn.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:m.jsxs(Pn.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[m.jsxs(Pn.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:["レポート: ",n.title]}),m.jsxs("div",{className:"mt-2",children:[m.jsxs("div",{className:"flex border-b",children:[m.jsx("button",{className:`px-4 py-2 ${h==="details"?"border-b-2 border-blue-500":"text-gray-600"}`,onClick:()=>g("details"),children:"詳細"}),m.jsx("button",{className:`px-4 py-2 ${h==="chat"?"border-b-2 border-blue-500":"text-gray-600"}`,onClick:()=>g("chat"),children:"チャット"}),m.jsx("button",{className:`px-4 py-2 ${h==="images"?"border-b-2 border-blue-500":"text-gray-600"}`,onClick:()=>g("images"),children:"画像"})]}),h==="details"&&m.jsxs("div",{className:"mt-4 space-y-2",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"説明:"})," ",n.description]}),m.jsxs("p",{children:[m.jsx("strong",{children:"住所:"})," ",n.address]}),m.jsxs("p",{children:[m.jsx("strong",{children:"カテゴリ:"})," ",el[n.category]||n.category]}),m.jsxs("p",{children:[m.jsx("strong",{children:"ステータス:"})," ",m.jsx("span",{className:`status-${n.status}`,children:Nf[n.status]||"不明"})]}),m.jsxs("p",{children:[m.jsx("strong",{children:"投稿者:"})," ",((P=n.user)==null?void 0:P.name)??"不明"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"作成日:"})," ",new Date(n.created_at).toLocaleDateString()]})]}),h==="chat"&&m.jsxs("div",{className:"mt-4 flex flex-col h-96 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[Array.isArray(o)&&o.length>0?o.map((C,A)=>{const k=C.sender===r.id||C.sender_id===r.id,O=C.text||"",M=!!C.image,F=C.created_at;return!O&&!M?null:m.jsx("div",{className:`flex ${k?"justify-end":"justify-start"} mb-2`,children:m.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-2xl shadow text-sm ${k?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"}`,children:[O&&m.jsx("p",{children:O}),M&&m.jsx("img",{src:C.image,alt:"画像メッセージ",className:"mt-2 w-40 h-auto rounded",onError:$=>console.warn(`画像読み込みエラー: ${C.image}`)}),m.jsx("p",{className:"text-xs mt-1 text-right opacity-70",children:new Date(new Date(F).getTime()+9*60*60*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},C.id||A)}):m.jsx("p",{className:"text-gray-600 text-center",children:"メッセージがありません"}),m.jsx("div",{ref:x})]}),m.jsxs("div",{className:"p-4 border-t bg-white flex items-center",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:C=>y(C.target.files[0]),className:"mr-2","aria-label":"画像ファイルを選択"}),m.jsx("input",{type:"text",value:s,onChange:C=>l(C.target.value),onKeyDown:C=>{C.key==="Enter"&&(C.preventDefault(),b())},className:"flex-1 px-3 py-2 border rounded-l-lg focus:ring-2 focus:ring-blue-500",placeholder:"メッセージを入力...","aria-label":"チャットメッセージ入力"}),m.jsx("button",{onClick:b,className:"bg-blue-500 text-white px-4 py-2 rounded-r-lg hover:bg-blue-600 transition-colors","aria-label":"メッセージを送信",children:"送信"})]})]}),h==="images"&&m.jsx("div",{className:"mt-4 grid grid-cols-3 gap-4",children:n.image_paths&&n.image_paths.length>0?n.image_paths.map((C,A)=>m.jsx("img",{src:C,alt:`レポート画像 ${A+1}`,className:"w-full h-32 object-cover rounded"},A)):m.jsx("p",{className:"text-gray-600",children:"画像がありません"})})]}),m.jsx("div",{className:"mt-4",children:m.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200",onClick:t,children:"閉じる"})})]})})})})]})})}function $5(){const[e,t]=T.useState([]),[n,r]=T.useState(1),[o,s]=T.useState(""),{logout:l}=Js();T.useEffect(()=>{d()},[n,o]);const d=async()=>{try{const h=await fetch("undefined/api/reports_geojson",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!h.ok)throw new Error("レポートの取得に失敗しました");let v=(await h.json()).features;o&&(v=v.filter(y=>y.properties.status.toLowerCase().includes(o.toLowerCase())||y.properties.category.toLowerCase().includes(o.toLowerCase()))),t(v.slice((n-1)*10,n*10))}catch(h){console.error("Fetch reports error:",h),ue.error("レポートの取得に失敗しました")}};return m.jsxs("div",{className:"min-h-screen bg-gray-100 p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold",children:"レポート一覧"}),m.jsx("button",{onClick:l,className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"ログアウト"})]}),m.jsx("div",{className:"mb-4",children:m.jsx("input",{type:"text",placeholder:"ステータスまたはカテゴリで検索",value:o,onChange:h=>s(h.target.value),className:"px-3 py-2 border rounded w-full max-w-md"})}),m.jsxs("table",{className:"w-full bg-white shadow rounded",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-2",children:"ID"}),m.jsx("th",{className:"p-2",children:"説明"}),m.jsx("th",{className:"p-2",children:"状態"}),m.jsx("th",{className:"p-2",children:"カテゴリ"}),m.jsx("th",{className:"p-2",children:"投稿日"})]})}),m.jsx("tbody",{children:e.map(h=>m.jsxs("tr",{children:[m.jsx("td",{className:"p-2",children:h.properties.id}),m.jsx("td",{className:"p-2",children:h.properties.description}),m.jsx("td",{className:"p-2",children:m.jsx("span",{className:`status-${h.properties.status.toLowerCase()}`,children:h.properties.status})}),m.jsx("td",{className:"p-2",children:h.properties.category}),m.jsx("td",{className:"p-2",children:new Date(h.properties.created_at).toLocaleDateString()})]},h.properties.id))})]}),m.jsxs("div",{className:"mt-4 flex justify-between",children:[m.jsx("button",{onClick:()=>r(h=>Math.max(1,h-1)),className:"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-blue-300",disabled:n===1,children:"前"}),m.jsxs("span",{children:["ページ ",n]}),m.jsx("button",{onClick:()=>r(h=>h+1),className:"bg-blue-500 text-white px-4 py-2 rounded",children:"次"})]}),m.jsx(ToastContainer,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}function Pc({children:e}){const{user:t,loading:n}=Js();return n?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"読み込み中..."}):t?e:m.jsx(zl,{to:"/login"})}function U5(){const{user:e}=Js();return m.jsxs(sj,{children:[m.jsx(Ms,{path:"/login",element:m.jsx(vj,{})}),m.jsx(Ms,{path:"/signup",element:m.jsx(yj,{})}),m.jsx(Ms,{path:"/admin",element:m.jsx(Pc,{children:m.jsx(wj,{})})}),m.jsx(Ms,{path:"/company",element:m.jsx(Pc,{children:m.jsx(qR,{})})}),m.jsx(Ms,{path:"/dashboard",element:m.jsx(Pc,{children:m.jsx(N5,{})})}),m.jsx(Ms,{path:"/city",element:m.jsx(Pc,{children:m.jsx(B5,{})})}),m.jsx(Ms,{path:"/reports",element:m.jsx(Pc,{children:m.jsx($5,{})})}),m.jsx(Ms,{path:"/",element:e?e.user_type==="admin"?m.jsx(zl,{to:"/admin"}):e.user_type==="company"?m.jsx(zl,{to:"/company"}):e.user_type==="city"?m.jsx(zl,{to:"/city"}):m.jsx(zl,{to:"/dashboard"}):m.jsx(zl,{to:"/login"})})]})}d_.createRoot(document.getElementById("root")).render(m.jsx(Ee.StrictMode,{children:m.jsx(lj,{children:m.jsx(uj,{children:m.jsx(U5,{})})})}))});export default W5();
